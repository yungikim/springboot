/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e),Q=Q||{},s={},ee={},n=a.default.extend,i={};function o(e,a,s){var n=e;return"object"==typeof a?e.each(function(){new a.component(this,a)}):("string"==typeof a&&e.each(function(){var e,t=Q.instances[this.id];if(t&&t[a]&&void 0!==(e=t[a].apply(this,Array.prototype.slice.call(s,1))))return n=e,!1}),n)}function l(t,a,s){i[t]=function(e){return o(this,n(e,{component:a,preset:!1===s?void 0:t}),arguments)}}Q.$=a.default,a.default.mobiscroll=Q,a.default.fn.mobiscroll=function(e){return n(this,i),o(this,e,arguments)};var r,c,d=[],m="undefined"!=typeof window,u=m&&window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)").matches,h=m?navigator.userAgent:"",f=m?navigator.platform:"",p=m?navigator.maxTouchPoints:0,e=/Safari/.test(h),a=h.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),la=m&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},ra=m&&window.cancelAnimationFrame||function(e){clearTimeout(e)};function ca(){}function J(e){var t,a=[];for(t in e)a.push(e[t]);return a}function te(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function da(e){return 0<=e-parseFloat(e)}function ue(e){return"string"==typeof e}function he(e,t,a){return Math.max(t,Math.min(e,a))}function ae(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function ma(s,n){var i,o;return n=n||100,function(){var e=this,t=+new Date,a=arguments;i&&t<i+n?(clearTimeout(o),o=setTimeout(function(){i=t,s.apply(e,a)},n)):(i=t,s.apply(e,a))}}function ua(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function K(e,t,a){return 100*(e-t)/(a-t)}function x(e,t,a){e=a.attr(e);return void 0===e||""===e?t:"true"===e}function ha(e,t){if("touchstart"==e.type)t.__mbscTouched=1;else if(t.__mbscTouched)return delete t.__mbscTouched,!1;return!0}function fa(e,t){for(var a,s,n=["t","webkitT","MozT","OT","msT"],i=getComputedStyle(e[0]),o=0;!a&&o<n.length;)void 0!==i[(s=n[o])+"ransform"]&&(a=i[s+"ransform"]),o++;return a=a.split(")")[0].split(", "),t?a[13]||a[5]:a[12]||a[4]}function at(e){if(e){if(y[e])return y[e];var t=b&&b.getContext("2d");if(!t)return"#fff";t.fillStyle=e,t.fillRect(0,0,1,1);t=t.getImageData(0,0,1,1).data,t=.299*+t[0]+.587*+t[1]+.114*+t[2]<130?"#fff":"#000";return y[e]=t}}function se(e,t,a,s){a?(e.scrollTop=t,s&&s()):function e(t,a,s,n,i){var o=Math.min(1,(new Date-a)/468),o=.5*(1-Math.cos(Math.PI*o)),o=s+(n-s)*o;(t.scrollTop=o)!==n?la(function(){e(t,a,s,n,i)}):i&&i()}(e,new Date,e.scrollTop,t,s)}function pa(e,t,a,s){e&&e.addEventListener(t,a,s)}function ba(e,t,a,s){e&&e.removeEventListener(t,a,s)}function va(e,t,a){for(;t;){if(s=t,(n=a)&&s&&1===s.nodeType&&(s.matches||s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector).call(s,n))return t;t=t!==e?t.parentNode:null}var s,n;return null}function ne(){oe.__mbscFocusVisible=!1}function ie(){oe.__mbscFocusVisible=!0}/Android/i.test(a)?(r="android",(c=h.match(/Android\s+([\d.]+)/i))&&(d=c[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(a)||/iPhone|iPad|iPod/i.test(f)||"MacIntel"===f&&1<p?(r="ios",(c=h.match(/OS\s+([\d_]+)/i))&&(d=c[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(a)?r="wp":/Windows|MSIE/i.test(a)&&(r="windows");var ga,b,v,_a,g,_,ya,oe,a=d[0],d=d[1],y={};m&&(oe=window,b=document.createElement("canvas"),v=document.createElement("modernizr").style,_a=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(function(e){for(var t in e)if(void 0!==v[e[t]])return 1}([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),ya=_a.replace(/^-/,"").replace(/-$/,"").replace("moz","Moz"),ga=void 0!==v.animation?"animationend":"webkitAnimationEnd",_=void 0!==v.transition,W=(A="ios"===r&&!e)&&oe.webkit&&oe.webkit.messageHandlers,g=void 0===v.touchAction||A&&!W);var w,C=0;function xa(){C++,setTimeout(function(){C--},500)}function T(e,t){var a;t.mbscClick||(a=(e.originalEvent||e).changedTouches[0],(e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),e.isMbscTap=!0,e.isIonicTap=!0,w=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(e),w=!1,xa(),setTimeout(function(){delete t.mbscClick}))}function wa(e,t,a){var s=e.originalEvent||e,t=(a?"page":"client")+t;return(s.targetTouches&&s.targetTouches[0]?s.targetTouches[0]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0]:e)[t]}function Ca(e){var t=["switch","range","rating","segmented","stepper"],a=e[0],s=e.attr("data-role"),n=e.attr("type")||a.nodeName.toLowerCase();if(/(switch|range|rating|segmented|stepper|select)/.test(s))n=s;else for(var i=0;i<t.length;i++)e.is("[mbsc-"+t[i]+"]")&&(n=t[i]);return n}function Ta(e,t,a){e.focus(),/(button|submit|checkbox|switch|radio)/.test(t)&&a.preventDefault(),/select/.test(t)||T(a,e)}function k(a,e,t,s,n,i){var o,l,r,c,d,e=(0,Q.$)(e);function m(e){r||(r=this,o=wa(e,"X"),l=wa(e,"Y"),c=!1,d=new Date)}function u(e){r&&!c&&(Math.abs(wa(e,"X")-o)>n||Math.abs(wa(e,"Y")-l)>n)&&(c=!0)}function h(e){r&&(i&&new Date-d<100||!c?T(e,e.target):xa(),r=!1)}function f(e){s&&e.preventDefault(),t.call(this,e,a)}function p(){r=!1}n=n||9,e.each(function(e,t){a.settings.tap&&(pa(t,"touchstart",m,{passive:!0}),pa(t,"touchcancel",p),pa(t,"touchmove",u,{passive:!0}),pa(t,"touchend",h)),pa(t,"click",f),t.__mbscOff=function(){ba(t,"touchstart",m,{passive:!0}),ba(t,"touchcancel",p),ba(t,"touchmove",u,{passive:!0}),ba(t,"touchend",h),ba(t,"click",f),delete t.__mbscOff}})}function le(e){e&&e[0]&&e[0].__mbscOff&&e[0].__mbscOff()}function M(e){if(C&&!w&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function st(e){return e[0].innerWidth||e.innerWidth()}function D(e){var t=e.theme,e=e.themeVariant;return"default"==(t="auto"==t||!t?$.autoTheme:t)&&(t="mobiscroll"),("dark"===e||u&&"auto"===e)&&$.themes.form[t+"-dark"]?t+="-dark":"light"===e&&/.+-dark$/.test(t)&&(t=t.replace(/-dark$/,"")),t}function S(a,s,e){m&&ka(function(){ka(a).each(function(){new s(this,{})}),ka(document).on("mbsc-enhance",function(e,t){ka(e.target).is(a)?new s(e.target,t||{}):ka(a,e.target).each(function(){new s(this,t||{})})}),e&&ka(document).on("mbsc-refresh",function(e){var t;ka(e.target).is(a)?(t=Ma[e.target.id])&&t.refresh():ka(a,e.target).each(function(){(t=Ma[this.id])&&t.refresh()})})})}m&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,M,!0)}),"android"==r&&a<5&&document.addEventListener("change",function(e){C&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0)),Q.uid="814cfe9c";var ka=Q.$,V=+new Date,Ma={},A={},I={},E={xsmall:0,small:576,medium:768,large:992,xlarge:1200},Da=ka.extend;Da(s,{getCoord:wa,preventClick:xa,vibrate:ua});function Sa(o,l){var n,i,r,c,d,m,u,h,f,p=this;function b(e){var a,s=I;return d.responsive&&(a=e||st(n),ka.each(d.responsive,function(e,t){a>=(t.breakpoint||E[e])&&(s=t)})),s}p.settings={},p.element=o,p._init=ca,p._destroy=ca,p._processSettings=ca,p._checkResp=function(e){if(p&&p._responsive){e=b(e);if(c!==e)return c=e,p.init({}),!0}},p._getRespCont=function(){return ka("body"==d.context?window:d.context)},p.init=function(e,t){var a,s;for(a in e&&p.getVal&&(s=p.getVal()),p.settings)delete p.settings[a];d=p.settings,Da(l,e),p._hasDef&&(f=$.settings),Da(d,p._defaults,f,l),n=p._getRespCont(),p._responsive&&(c=c||b(),Da(d,c)),p._hasTheme&&(u=D(d),l.theme=u,m=$.themes[p._class]?$.themes[p._class][u]:{}),p._hasLang&&(i=$.i18n[d.lang]),Da(d,m,i,f,l,c),p._processSettings(c||{}),p._presets&&(r=p._presets[d.preset])&&(r=r.call(o,p,l,c),Da(d,r,l,c)),p._init(e),e&&p.setVal&&p.setVal(void 0===t?s:t,!0),h("onInit")},p.destroy=function(){p&&(p._destroy(),h("onDestroy"),delete Ma[o.id],p=null)},p.tap=function(e,t,a,s,n){k(p,e,t,a,s,n)},p.trigger=function(e,t){for(var a,s,n=[f,m,r,l],i=0;i<4;i++)(s=n[i])&&s[e]&&(a=s[e].call(o,t||{},p));return a},p.option=function(e,t,a){var s={},n=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(d.preset)&&n.push("marked","labels","colors"),"object"==typeof e?s=e:s[e]=t,n.forEach(function(e){l[e]=d[e]}),p.init(s,a)},p.getInst=function(){return p},l=l||{},h=p.trigger,p.__ready||(ka(o).addClass("mbsc-comp"),o.id?Ma[o.id]&&Ma[o.id].destroy():o.id="mobiscroll"+ ++V,(Ma[o.id]=p).__ready=!0)}var $=Da(Q,{$:ka,version:"4.10.9",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:r,majorVersion:a,minorVersion:d},i18n:{},instances:Ma,classes:A,util:s,settings:{},setDefaults:function(e){Da(this.settings,e)},customTheme:function(e,t){for(var a=Q.themes,s=["frame","scroller","listview","navigation","form","page","progress","card"],n=0;n<s.length;n++)a[s[n]][e]=Da({},a[s[n]][t],{baseTheme:t})}}),O=0;function re(e,t,a){var s,n,i,o;"jsonp"==a?(a=e,n=t,i=document.createElement("script"),o="mbscjsonp"+ ++O,window[o]=function(e){i.parentNode.removeChild(i),delete window[o],e&&n(e)},i.src=a+(0<=a.indexOf("?")?"&":"?")+"callback="+o,document.body.appendChild(i)):(e=e,s=t,(t=new XMLHttpRequest).open("GET",e,!0),t.onload=function(){200<=this.status&&this.status<400&&s(JSON.parse(this.response))},t.onerror=function(){},t.send())}function nt(e,t,a,s,n,i){var o,l,r,c,d,m,u,h,f,p=s||ca;function b(e){var t;o=ka(e.currentTarget),h=+o.attr("data-step"),r=+o.attr("data-index"),l=!0,n&&e.stopPropagation(),"touchstart"==e.type&&o.closest(".mbsc-no-touch").removeClass("mbsc-no-touch"),"mousedown"==e.type&&e.preventDefault(),t="keydown"!=e.type?(m=wa(e,"X"),u=wa(e,"Y"),ha(e,this)):32===e.keyCode,c||!t||o.hasClass("mbsc-disabled")||(y(r,h,e)&&(o.addClass("mbsc-active"),i&&i.addRipple(o.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&ka(document).on("mousemove",v).on("mouseup",g))}function v(e){(7<Math.abs(m-wa(e,"X"))||7<Math.abs(u-wa(e,"Y")))&&(l=!0,_())}function g(e){"touchend"==e.type&&e.preventDefault(),_(),"mouseup"==e.type&&ka(document).off("mousemove",v).off("mouseup",g)}function _(){c=!1,clearInterval(f),o&&(o.removeClass("mbsc-active"),i&&setTimeout(function(){i.removeRipple()},100))}function y(e,t,a){return c||p(e)||(r=e,h=t,d=a,l=!(c=!0),setTimeout(x,100)),c}function x(){o&&o.hasClass("mbsc-disabled")?_():(!c&&l||(l=!0,t(r,h,d,x)),c&&a&&(clearInterval(f),f=setInterval(function(){t(r,h,d)},a)))}return e.each(function(e,t){pa(t,"touchstart",b,{passive:!0}),pa(t,"mousedown",b),pa(t,"keydown",b),pa(t,"touchmove",v,{passive:!0}),pa(t,"touchend",g),pa(t,"touchcancel",g),pa(t,"keyup",g)}),{start:y,stop:_,destroy:function(){e.each(function(e,t){ba(t,"touchstart",b,{passive:!0}),ba(t,"mousedown",b),ba(t,"keydown",b),ba(t,"touchmove",v,{passive:!0}),ba(t,"touchend",g),ba(t,"touchcancel",g),ba(t,"keyup",g)})}}}function F(e,t){e.prototype=Object.create(t.prototype),Y(e.prototype.constructor=e,t)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function P(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return H(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}s.getJson=re;var N,W="position:absolute;left:0;top:0;",d=W+"right:0;bottom:0;overflow:hidden;z-index:-1;",R='<div style="'+d+'"><div style="'+W+'"></div></div><div style="'+d+'"><div style="'+W+'width:200%;height:200%;"></div></div>',q=0;function ce(e,t,a){function s(){r.style.width="100000px",r.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5}function n(){var e=new Date;d=0,h||(200<e-f&&!l.scrollTop&&!l.scrollLeft&&(f=e,s()),d=d||la(n))}function i(){m=m||la(o)}function o(){m=0,s(),t()}var l,r,c,d,m,u,h,f=0;return window.ResizeObserver?(N=N||new ResizeObserver(function(e){for(var t,a=P(e);!(t=a()).done;)t.value.target.__mbscResize()}),q++,e.__mbscResize=t,N.observe(e)):((c=document.createElement("div")).innerHTML=R,c.dir="ltr",u=c.childNodes[1],l=c.childNodes[0],r=l.childNodes[0],e.appendChild(c),l.addEventListener("scroll",i),u.addEventListener("scroll",i),a?a.runOutsideAngular(function(){la(n)}):la(n)),{detach:function(){N?(q--,N.unobserve(e),q||(N=null)):(e.removeChild(c),h=!0)}}}function de(e){e.preventDefault()}function z(t,s,e){var b,d,m,v,u,g,_,y,x,h,a,w,f,C,T,k,p,M,D,S,V,A,c,I,E,n,$,O,F,Y,L,H,P,N=this,W=ka(t),i=[],o=new Date;function R(e){O.stopProp&&e.stopPropagation();var t=va(this,e.target,".mbsc-fr-btn-e");t&&(a&&a.removeClass("mbsc-active"),(a=ka(t)).hasClass("mbsc-disabled")||a.hasClass("mbsc-fr-btn-nhl")||a.addClass("mbsc-active"),"mousedown"===e.type&&ka(document).on("mouseup",q))}function q(e){a&&(a.removeClass("mbsc-active"),a=null),"mouseup"===e.type&&ka(document).off("mouseup",q)}function z(e){F&&M.contains(e.target)&&e.preventDefault()}function B(e){Q.activeInstance==N&&(13!=e.keyCode||ka(e.target).is('textarea,button,input[type="button"],input[type="submit"]')&&!e.shiftKey?27==e.keyCode&&N.cancel():N.select())}function U(e){e||be||!N._activeElm||(o=new Date,N._activeElm.focus())}function l(e){var t=me,a=O.focusOnClose;N._markupRemove(),v.remove(),T&&(w.mbscModals--,O.scrollLock&&w.mbscLock--,w.mbscLock||m.removeClass("mbsc-fr-lock"),A&&(w.mbscIOSLock--,w.mbscIOSLock||(m.removeClass("mbsc-fr-lock-ios"),b.css({top:"",left:""}),y.scrollLeft(w.mbscScrollLeft),y.scrollTop(w.mbscScrollTop))),w.mbscModals||m.removeClass("mbsc-fr-lock-ctx"),w.mbscModals&&!$||e||(t=t||W,setTimeout(function(){void 0===a||!0===a?(fe=!0,t[0].focus()):a&&ka(a)[0].focus()},200))),$=void 0,k=!1,L("onHide")}function X(){clearTimeout(n),n=setTimeout(function(){N.position(!0)&&(E.style.visibility="hidden",E.offsetHeight,E.style.visibility="")},200)}function j(e){Q.activeInstance==N&&e.target.nodeType&&!I.contains(e.target)&&100<new Date-o&&(o=new Date,N._activeElm.focus())}function G(e,t){function a(e){o||e.target!=I||(i=!(o=!0),l=wa(e,"X"),r=wa(e,"Y"))}function s(e){o&&!i&&(9<Math.abs(wa(e,"X")-l)||9<Math.abs(wa(e,"Y")-r))&&(i=!0)}var n,i,o,l,r;N._isVisible&&(T?v.appendTo(b):W.is("div")&&!N._hasContent?W.empty().append(v):W.hasClass("mbsc-control")?(n=W.closest(".mbsc-control-w"),v.insertAfter(n),n.hasClass("mbsc-select")&&n.addClass("mbsc-select-inline")):v.insertAfter(W),k=!0,N._markupInserted(v),L("onMarkupInserted",{target:M}),T&&O.closeOnOverlayTap&&(pa(I,"touchstart",a,{passive:!0}),pa(I,"touchmove",s,{passive:!0}),u.on("mousedown",a).on("mousemove",s).on("touchcancel",function(){o=!1}).on("touchend click",function(e){o&&!i&&(N.cancel(),"touchend"==e.type&&xa()),o=!1})),v.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",de).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){var t,a,s,n;32!=e.keyCode||ka(e.target).is(ge)?9==e.keyCode&&T&&O.focusTrap&&(a=(t=v.find('input,select,textarea,button,[tabindex="0"]').filter(function(){return 0<this.offsetWidth||0<this.offsetHeight})).index(ka(":focus",v)),s=t.length-1,n=0,e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())):e.preventDefault()}).on("touchend",".mbsc-fr-btn-e",q),pa(M,"touchstart",R,{passive:!0}),pa(M,"mousedown",R),pa(M,"touchstart",function(){Y||(Y=!0,b.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},{passive:!0,capture:!0}),ka.each(h,function(e,t){N.tap(ka(".mbsc-fr-btn"+e,v),function(e){t=ue(t)?N.buttons[t]:t,(ue(t.handler)?N.handlers[t.handler]:t.handler).call(this,e,N)},!0)}),N._attachEvents(v),!1!==N.position()&&((T||N._checkSize)&&(c=ce(M,X,O.zone)),T&&(v.removeClass("mbsc-fr-pos"),f&&!e?v.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+f).on(ga,function e(){v.off(ga,e).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+f).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+f),U(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+f):U(t)),L("onShow",{target:M,valueText:N._tempValue})))}function r(e,t){N._isVisible||(e&&e(),!1!==N.show()&&(me=t))}function K(){N._fillValue(),L("onSet",{valueText:N._value})}function Z(){L("onCancel",{valueText:N._value})}function J(){N.setVal(null,!0)}Sa.call(this,t,s,!0),N.position=function(e){var t,a,s,n,i,o,l,r,c,d,m={},u=0,h=0,f=0,p=0;return!!k&&(l=H,o=P,n=Math.min(M.offsetHeight,C?1/0:window.innerHeight),!(i=Math.min(M.offsetWidth,C?1/0:window.innerWidth))||!n||H===i&&P===n&&e?void 0:!N._checkResp(i)&&(H=i,P=n,N._isFullScreen||/top|bottom/.test(O.display)?_.width(i):T&&x.width(""),N._position(v),!N._isFullScreen&&/center|bubble/.test(O.display)&&(ka(".mbsc-w-p",v).each(function(){r=this.getBoundingClientRect().width,p+=r,f=f<r?r:f}),s=i-16<p||!0===O.tabs,x.css({width:N._isLiquid?Math.min(O.maxPopupWidth,i-16):Math.ceil(s?f:p),"white-space":s?"":"nowrap"})),!1!==L("onPosition",{target:M,popup:E,hasTabs:s,oldWidth:l,oldHeight:o,windowWidth:i,windowHeight:n})&&T?(V&&(u=y.scrollLeft(),h=y.scrollTop(),H&&g.css({width:"",height:""})),D=E.offsetWidth,S=E.offsetHeight,F=S<=n&&D<=i,"center"==O.display?(d=Math.max(0,u+(i-D)/2),c=Math.max(0,h+(n-S)/2)):"bubble"==O.display?(e=void 0===O.anchor?W:ka(O.anchor),s=ka(".mbsc-fr-arr-i",v)[0],a=(t=e.offset()).top+(C?h-b.offset().top:0),l=t.left+(C?u-b.offset().left:0),o=e[0].offsetWidth,t=e[0].offsetHeight,e=s.offsetWidth,s=s.offsetHeight,d=he(l-(D-o)/2,u+3,u+i-D-3),h+n<(c=a+t+s/2)+S+8&&h<a-S-s/2?(_.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),c=a-S-s/2):_.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),ka(".mbsc-fr-arr",v).css({left:he(l+o/2-(d+(D-e)/2),0,e)}),F=h<c&&u<d&&c+S<=h+n&&d+D<=u+i):(d=u,c="top"==O.display?h:Math.max(0,h+n-S)),V&&(i=Math.max(c+S,C?w.scrollHeight:ka(document).height()),u=Math.max(d+D,C?w.scrollWidth:ka(document).width()),g.css({width:u,height:i}),O.scroll&&"bubble"==O.display&&(h+n<c+S+8||h+n<a||a+t<h)&&y.scrollTop(Math.min(a,c+S-n+8,i-n))),m.top=Math.floor(c),m.left=Math.floor(d),_.css(m),!0):void 0))},N.attachShow=function(e,t){var a,s=ka(e).off(".mbsc"),e=s.prop("readonly");le(s),"inline"!==O.display&&((O.showOnFocus||O.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){N._isVisible&&this.blur()}),(a=ka('label[for="'+s.attr("id")+'"]')).length||(a=s.closest("label"))),s.is("select")||(O.showOnFocus&&s.on("focus.mbsc",function(){fe?fe=!1:r(t,s)}),O.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),r(t,s))}),N.tap(s,function(e){e.isMbscTap&&(Y=!0),r(t,s)}),a&&a.length&&(le(a),N.tap(a,function(e){e.preventDefault(),e.target!==s[0]&&r(t,s)})))),i.push({readOnly:e,el:s,lbl:a}))},N.select=function(){T?N.hide(!1,"set",!1,K):K()},N.cancel=function(){T?N.hide(!1,"cancel",!1,Z):Z()},N.clear=function(){N._clearValue(),L("onClear"),T&&N._isVisible&&!N.live?N.hide(!1,"clear",!1,J):J()},N.enable=function(){O.disabled=!1,ka.each(i,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},N.disable=function(){O.disabled=!0,ka.each(i,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},N.show=function(e,t){var a,s,n,i;if(!O.disabled&&!N._isVisible){if(N._readValue(),!1===L("onBeforeShow"))return!1;if(me=null,f=O.animate,h=O.buttons||[],V=C||"bubble"==O.display,A=pe&&!V&&O.scrollLock,a=0<h.length,!1!==f&&("top"==O.display?f=f||"slidedown":"bottom"==O.display?f=f||"slideup":"center"!=O.display&&"bubble"!=O.display||(f=f||"pop")),T&&(P=H=0,A&&!m.hasClass("mbsc-fr-lock-ios")&&(w.mbscScrollTop=i=Math.max(0,y.scrollTop()),w.mbscScrollLeft=n=Math.max(0,y.scrollLeft()),b.css({top:-i+"px",left:-n+"px"})),m.addClass((O.scrollLock?"mbsc-fr-lock":"")+(A?" mbsc-fr-lock-ios":"")+(C?" mbsc-fr-lock-ctx":"")),ka(document.activeElement).is("input,textarea")&&document.activeElement.blur(),$=Q.activeInstance,Q.activeInstance=N,w.mbscModals=(w.mbscModals||0)+1,A&&(w.mbscIOSLock=(w.mbscIOSLock||0)+1),O.scrollLock&&(w.mbscLock=(w.mbscLock||0)+1)),s='<div lang="'+O.lang+'" class="mbsc-fr mbsc-'+O.theme+(O.baseTheme?" mbsc-"+O.baseTheme:"")+" mbsc-fr-"+O.display+" "+(O.cssClass||"")+" "+(O.compClass||"")+(N._isLiquid?" mbsc-fr-liq":"")+(T?" mbsc-fr-pos"+(O.showOverlay?"":" mbsc-fr-no-overlay"):"")+(p?" mbsc-fr-pointer":"")+(ve?" mbsc-fr-hb":"")+(Y?"":" mbsc-no-touch")+(A?" mbsc-platform-ios":"")+(a?3<=h.length?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(T?'<div class="mbsc-fr-persp">'+(O.showOverlay?'<div class="mbsc-fr-overlay"></div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(O.rtl?" mbsc-rtl":" mbsc-ltr")+(O.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===O.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(T?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(O.headerText?'<div class="mbsc-fr-hdr">'+(ue(O.headerText)?O.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=N._generateContent(),s+="</div>",a){var o,l,r,c=h.length;for(s+='<div class="mbsc-fr-btn-cont">',l=0;l<h.length;l++)r=O.btnReverse?c-l-1:l,"set"===(o=ue(o=h[r])?N.buttons[o]:o).handler&&(o.parentClass="mbsc-fr-btn-s"),"cancel"===o.handler&&(o.parentClass="mbsc-fr-btn-c"),s+="<div"+(O.btnWidth?' style="width:'+100/h.length+'%"':"")+' class="mbsc-fr-btn-w '+(o.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+r+" mbsc-fr-btn-e "+(void 0===o.cssClass?O.btnClass:o.cssClass)+(o.icon?" mbsc-ic mbsc-ic-"+o.icon:"")+'">'+(o.text||"")+"</div></div>";s+="</div>"}v=ka(s+="</div></div></div></div>"+(T?"</div></div>":"")),g=ka(".mbsc-fr-persp",v),u=ka(".mbsc-fr-scroll",v),x=ka(".mbsc-fr-w",v),_=ka(".mbsc-fr-popup",v),d=ka(".mbsc-fr-hdr",v),M=v[0],I=u[0],E=_[0],N._activeElm=ka(".mbsc-fr-focus",v)[0],N._markup=v,N._isVisible=!0,N.markup=M,N._markupReady(v),L("onMarkupReady",{target:M}),T&&(ka(window).on("keydown",B),O.scrollLock&&(pa(document,"touchmove",z,{passive:!1}),pa(document,"mousewheel",z,{passive:!1}),pa(document,"wheel",z,{passive:!1})),O.focusTrap&&y.on("focusin",j)),T?setTimeout(function(){G(e,t)},A?100:0):G(e,t)}},N.hide=function(t,e,a,s){if(!N._isVisible||!a&&!N._isValid&&"set"==e||!a&&!1===L("onBeforeClose",{valueText:N._tempValue,button:e}))return!1;N._isVisible=!1,c&&(c.detach(),c=null),T&&(ka(document.activeElement).is("input,textarea")&&E.contains(document.activeElement)&&document.activeElement.blur(),Q.activeInstance==N&&(Q.activeInstance=$),ka(window).off("keydown",B),y.off("focusin",j),ba(document,"touchmove",z,{passive:!1}),ba(document,"mousewheel",z,{passive:!1}),ba(document,"wheel",z,{passive:!1})),v&&(T&&k&&f&&!t?v.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+f).on(ga,function e(){v.off(ga,e),l(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+f):l(t),N._detachEvents(v)),s&&s(),W.trigger("blur"),L("onClose",{valueText:N._value})},N.isVisible=function(){return N._isVisible},N.setVal=ca,N.getVal=ca,N._generateContent=ca,N._attachEvents=ca,N._detachEvents=ca,N._readValue=ca,N._clearValue=ca,N._fillValue=ca,N._markupReady=ca,N._markupInserted=ca,N._markupRemove=ca,N._position=ca,N.__processSettings=ca,N.__init=ca,N.__destroy=ca,N._destroy=function(){N.hide(!0,!1,!0),W.off(".mbsc"),le(W),ka.each(i,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),le(t.el),t.lbl&&(t.lbl.off(".mbsc"),le(t.lbl))}),N.__destroy()},N._updateHeader=function(){var e=O.headerText,e=e?"function"==typeof e?e.call(t,N._tempValue):e.replace(/\{value\}/i,N._tempValue):"";d.html(e||"&nbsp;")},N._getRespCont=function(){return C="body"!=O.context,y=ka(C?O.context:window),"inline"==O.display?W.is("div")?W:W.parent():y},N._processSettings=function(e){var t,a;for(N.__processSettings(e),(p=!O.touchUi)&&(O.display=e.display||s.display||"bubble",O.buttons=e.buttons||s.buttons||[],O.showOverlay=e.showOverlay||s.showOverlay||!1),O.buttons=O.buttons||("inline"!==O.display?["cancel","set"]:[]),O.headerText=void 0===O.headerText?"inline"!==O.display&&"{value}":O.headerText,h=O.buttons||[],T="inline"!==O.display,b=ka(O.context),m=C?b:ka("body,html"),w=b[0],N.live=!0,a=0;a<h.length;a++)"ok"!=(t=h[a])&&"set"!=t&&"set"!=t.handler||(N.live=!1);N.buttons.set={text:O.setText,icon:O.setIcon,handler:"set"},N.buttons.cancel={text:O.cancelText,icon:O.cancelIcon,handler:"cancel"},N.buttons.close={text:O.closeText,icon:O.closeIcon,handler:"cancel"},N.buttons.clear={text:O.clearText,icon:O.clearIcon,handler:"clear"},N._isInput=W.is("input")},N._init=function(e){var t=N._isVisible,a=t&&!v.hasClass("mbsc-fr-pos");t&&N.hide(!0,!1,!0),W.off(".mbsc"),le(W),N.__init(e),N._isLiquid="liquid"==O.layout,T?(N._readValue(),N._hasContent||O.skipShow||N.attachShow(W),t&&N.show(a)):N.show(),W.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){N._preventChange||N.setVal(W.val(),!0,!1),N._preventChange=!1})},N.buttons={},N.handlers={set:N.select,cancel:N.cancel,clear:N.clear},N._value=null,N._isValid=!0,N._isVisible=!1,O=N.settings,L=N.trigger,e||N.init()}var me,fe,d=Q.themes,pe=/(iphone|ipod)/i.test(h)&&7<=a,be="android"==r,W="ios"==r,ve=W&&7<a,ge="input,select,textarea,button";z.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:be||W,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!(W&&8==a)},A.Frame=z,d.frame.mobiscroll={headerText:!1,btnWidth:!1},d.scroller.mobiscroll=Da({},d.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),m&&ka(window).on("focus",function(){me&&(fe=!0)});function it(n,e,t){var a,s,i,o,c,l,r,d,m,u,h,f,p,b,v,g,_,y,x,w,C,T,k,M,D,S,V,A,I,E,$,O,F,Y,L,H,P,N,W,R,q,z,B,U,X,j=this,G=0,K=1,Z=e,J=ka(n);function Q(e){B("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),Z.prevDef&&"mousedown"==e.type&&e.preventDefault(),Z.readonly||Z.lock&&C||ha(e,this)&&!w&&(a&&a.removeClass("mbsc-active"),v=!1,C||(a=ka(e.target).closest(".mbsc-btn-e",this)).length&&!a.hasClass("mbsc-disabled")&&(v=!0,o=setTimeout(function(){a.addClass("mbsc-active")},100)),T=I=!(w=!0),j.scrolled=C,P=wa(e,"X"),N=wa(e,"Y"),f=P,d=r=l=0,H=new Date,L=+fa(R,U)||0,C&&me(L,_e?0:1),"mousedown"===e.type&&ka(document).on("mousemove",ee).on("mouseup",ae))}function ee(e){w&&(Z.stopProp&&e.stopPropagation(),f=wa(e,"X"),p=wa(e,"Y"),l=f-P,r=p-N,d=U?r:l,v&&(Math.abs(r)>Z.thresholdY||Math.abs(l)>Z.thresholdX)&&(clearTimeout(o),a.removeClass("mbsc-active"),v=!1),(j.scrolled||!T&&Math.abs(d)>z)&&(I||B("onGestureStart",b),j.scrolled=I=!0,M||(M=!0,k=la(te))),U||Z.scrollLock||j.scrolled?e.preventDefault():7<Math.abs(r)&&(T=!0,j.scrolled=!0,ae()))}function te(){y&&(d=he(d,-F*y,F*y)),me(he(L+d,x-h,_+h)),M=!1}function ae(e){var t;w&&(t=new Date-H,Z.stopProp&&e&&e.stopPropagation(),ra(k),M=!1,!T&&j.scrolled&&(Z.momentum&&t<300&&(t=d/t,d=Math.max(Math.abs(d),t*t/Z.speedUnit)*(d<0?-1:1)),de(d)),v&&(clearTimeout(o),a.addClass("mbsc-active"),setTimeout(function(){a.removeClass("mbsc-active")},100),T||j.scrolled||B("onBtnTap",{target:a[0],domEvent:e})),e&&"mouseup"==e.type&&ka(document).off("mousemove",ee).off("mouseup",ae),w=!1)}function se(e){j.scrolled&&(j.scrolled=!1,e.stopPropagation(),e.preventDefault())}function ne(e){n.contains(e.target)&&(e=e.originalEvent||e,d=U?null==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,B("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),d&&(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(d*=15),d=he(-d,-$,$),L=X,Z.readonly||(I||ce(),L+d<x&&(L=x,d=0),_<L+d&&(L=_,d=0),M||(M=!0,k=la(te)),!d&&I||(I=!0,clearTimeout(E),E=setTimeout(function(){ra(k),I=M=!1,de(d)},200)))))}function ie(e){B("onStart",{domEvent:e}),Z.readonly||(e.stopPropagation(),L=X,I=!1,e.target==D?(N=wa(e,"Y",!0),ka(document).on("mousemove",oe).on("mouseup",le)):(N=s.offset().top,oe(e),le()))}function oe(e){e=(wa(e,"Y",!0)-N)/c;d=g?he(d=-(y*F*2+c)*e,-F*y,F*y):(x-_-c)*e,I||ce(),I=!0,me(he(L+d,x-h,_+h))}function le(){L=X,de(0),ka(document).off("mousemove",oe).off("mouseup",le)}function re(e){e.stopPropagation()}function ce(){B("onGestureStart",b={posX:U?0:X,posY:U?X:0,originX:U?0:L,originY:U?L:0,direction:0<d?U?270:360:U?90:180})}function de(e){var t,a;if(y&&(e=he(e,-F*y,F*y)),a=he(Math.round((L+e)/F)*F,x,_),Y){if(e<0){for(t=Y.length-1;0<=t;t--)if(Math.abs(a)+c>=Y[t].breakpoint){K=2,a=Y[G=t].snap2;break}}else if(0<=e)for(t=0;t<Y.length;t++)if(Math.abs(a)<=Y[t].breakpoint){K=1,a=Y[G=t].snap1;break}a=he(a,x,_)}e=Z.time||(X<x||_<X?1e3:Math.max(1e3,Math.abs(a-X)*Z.timeUnit)),b.destinationX=U?0:a,b.destinationY=U?a:0,b.duration=e,b.transitionTiming=u,B("onGestureEnd",b),j.scroll(a,e)}function me(t,e,a,s){function n(){clearInterval(O),clearTimeout(q),C=!1,X=t,b.posX=U?0:t,b.posY=U?t:0,o&&B("onMove",b),l&&B("onAnimationEnd",b),s&&s()}var i,o=t!=X,l=1<e,r=e?_a+"transform "+Math.round(e)+"ms "+u:"";b={posX:U?0:X,posY:U?X:0,originX:U?0:L,originY:U?L:0,direction:0<t-X?U?270:360:U?90:180},X=t,l&&(b.destinationX=U?0:t,b.destinationY=U?t:0,b.duration=e,b.transitionTiming=u,B("onAnimationStart",b)),W[ya+"Transition"]=r,W[ya+"Transform"]="translate3d("+(U?"0,"+t+"px,":t+"px,0,")+"0)",D&&S&&(i=g?(V-t)/(y*F*2):(t-_)/(x-_),D.style[ya+"Transition"]=r,D.style[ya+"Transform"]="translate3d(0,"+Math.max(0,Math.min((c-S)*i,c-S))+"px,0)"),!o&&!C||!e||e<=1?n():e&&(C=!a,clearInterval(O),O=setInterval(function(){var e=+fa(R,U)||0;b.posX=U?0:e,b.posY=U?e:0,B("onMove",b),Math.abs(e-t)<2&&n()},100),clearTimeout(q),q=setTimeout(function(){n()},e)),Z.sync&&Z.sync(t,e,u)}Sa.call(this,n,e,!0),j.scrolled=!1,j.scroll=function(e,t,a,s){e=he(e=da(e)?Math.round(e/F)*F:Math.ceil((ka(e,n).length?Math.round(R.offset()[m]-ka(e,n).offset()[m]):X)/F)*F,x,_),G=Math.round(e/F),L=X,V=y*F+e,me(e,t,a,s)},j.refresh=function(e){var t;for(c=(void 0===Z.contSize?U?J.height():J.width():Z.contSize)||0,_=(void 0===Z.maxScroll?0:Z.maxScroll)||0,x=Math.min(_,void 0===Z.minScroll?Math.min(0,U?c-R.height():c-R.width()):Z.minScroll)||0,Y=null,!U&&Z.rtl&&(t=_,_=-x,x=-t),ue(Z.snap)&&(Y=[],R.find(Z.snap).each(function(){var e=U?this.offsetTop:this.offsetLeft,t=U?this.offsetHeight:this.offsetWidth;Y.push({breakpoint:e+t/2,snap1:-e,snap2:c-e-t})})),F=da(Z.snap)?Z.snap:1,y=Z.snap?Z.maxSnapScroll:0,u=Z.easing,h=Z.elastic?da(Z.snap)?F:da(Z.elastic)?Z.elastic:0:0,$=F;44<$;)$/=2;$=Math.round(44/$)*$,D&&(g=x==-1/0||_==1/0,S=x<_?Math.max(20,c*c/(_-x+c)):0,D.style.height=S+"px",A.style.height=S?"":0),void 0===X&&(X=Z.initialPos,G=Math.round(X/F)),e||j.scroll(Z.snap?Y&&Y[G]?Y[G]["snap"+K]:G*F:X)},j._processSettings=function(){U="Y"==Z.axis,m=U?"top":"left",R=Z.moveElement||J.children().eq(0),W=R[0].style,z=U?Z.thresholdY:Z.thresholdX,Z.scrollbar&&(i=Z.scrollbar,s=i.find(".mbsc-sc-bar"),D=s[0],A=i[0])},j._init=function(){j.refresh(),pa(n,"mousedown",Q),pa(n,"touchstart",Q,{passive:!0}),pa(n,"touchend",ae),pa(n,"touchcancel",ae),pa(n,"click",se,!0),pa(document,"touchmove",ee,{passive:!1}),Z.mousewheel&&(pa(document,"wheel",ne,{passive:!1,capture:!0}),pa(document,"mousewheel",ne,{passive:!1,capture:!0})),D&&i.on("mousedown",ie).on("click",re)},j._destroy=function(){clearInterval(O),ba(n,"mousedown",Q),ba(n,"touchstart",Q,{passive:!0}),ba(n,"touchend",ae),ba(n,"touchcancel",ae),ba(n,"click",se,!0),ba(document,"touchmove",ee,{passive:!1}),ba(document,"wheel",ne,{passive:!1,capture:!0}),ba(document,"mousewheel",ne,{passive:!1,capture:!0}),D&&i.off("mousedown",ie).off("click",re)},Z=j.settings,B=j.trigger,t||j.init()}var _e="ios"==r;it.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};var B={},h=m?window.CSS:null,U=h&&h.supports&&h.supports("(transform-style: preserve-3d)");function X(e){return(e+"").replace(/"/g,"___")}W=function(h,t,e){var a,d,p,f,b,c,n,v,g,m,u,_,y,x,w,C,i,T=40,k=1e3,M=this,o=ka(h);function s(e){var t,a,s=+ka(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,D(s,ka(e.target))),t&&(e.stopPropagation(),e.preventDefault(),a&&n.start(s,a,e))}function l(){n.stop()}function D(e,t){var a=C[e],s=+t.attr("data-index"),n=$(a,s),i=M._tempSelected[e],o=da(a.multiple)?a.multiple:1/0;!1===x("onItemTap",{target:t[0],index:e,value:n,selected:t.hasClass("mbsc-sc-itm-sel")})||M._prevItemTap||(a.multiple&&!a._disabled[n]&&(void 0!==i[n]?(t.removeClass(b).removeAttr("aria-selected"),delete i[n]):(1==o&&(M._tempSelected[e]=i={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(b).removeAttr("aria-selected")),J(i).length<o&&(t.addClass(b).attr("aria-selected","true"),i[n]=n))),P(a,e,s,k,a._index<s?1:2,!0,a.multiple),M.live&&(!a.multiple||1===a.multiple&&y.tapSelect)&&(!0===y.setOnTap||y.setOnTap[e])&&setTimeout(function(){M.select()},y.tapSelect?0:200)),M._prevItemTap=!1}function S(e){return-(e.max-e._offset-(e.multiple&&!f?Math.floor(y.rows/2):0))*g}function V(e){return-(e.min-e._offset+(e.multiple&&!f?Math.floor(y.rows/2):0))*g}function A(e,t){return(e._array?e._map[t]:+e.getIndex(t,M))||0}function I(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?ka(a).get(t%e._length):a[t]:ka.isFunction(a)?a(t,M):""}function E(e){return ka.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function $(e,t){return E(I(e,t))}function r(e,t,a){var s=C[e];P(s,e,s._index+t,y.delay+100,1==t?1:2,!1,!1,"keydown"==a.type)}function O(e){return ka.isArray(y.readonly)?y.readonly[e]:y.readonly}function F(e,t,a){var s=Da(C[t]||{},e),e=s._index-s._batch;return s.data=s.data||[],s.key=void 0!==s.key?s.key:t,s.label=void 0!==s.label?s.label:t,s._map={},s._array=ka.isArray(s.data),s._array&&(s._length=s.data.length,ka.each(s.data,function(e,t){s._map[E(t)]=e})),s.circular=void 0===y.circular?void 0===s.circular?s._array&&s._length>y.rows:s.circular:ka.isArray(y.circular)?y.circular[t]:y.circular,s.min=s._array?s.circular?-1/0:0:void 0===s.min?-1/0:s.min,s.max=s._array?s.circular?1/0:s._length-1:void 0===s.max?1/0:s.max,s._nr=t,s._index=A(s,v[t]),s._disabled={},s._batch=0,s._current=s._index,s._first=s._index-T,s._last=s._index+T,s._offset=s._first,a?(s._offset-=s._margin/g+(s._index-e),s._margin+=(s._index-e)*g):s._margin=0,s._refresh=function(e){Da(s._scroller.settings,{minScroll:S(s),maxScroll:V(s)}),s._scroller.refresh(e)},i[s.key]=s}function Y(e,t,a,s,n){for(var i,o,l,r,c,d,m="",u=M._tempSelected[t],h=e._disabled||{},f=a;f<=s;f++)c=I(e,f),d=c,l=void 0===(d=ka.isPlainObject(d)?d.display:d)?"":d,o=E(c),i=c&&void 0!==c.cssClass?c.cssClass:"",r=c&&void 0!==c.label?c.label:"",d=c&&c.invalid,c=void 0!==o&&o==v[t]&&!e.multiple,m+='<div role="option" tabindex="-1" aria-selected="'+!!u[o]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+i+" "+(c?"mbsc-sc-itm-sel ":"")+(u[o]?b:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(d?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(h[o]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+f+'" data-val="'+X(o)+'"'+(r?' aria-label="'+r+'"':"")+(c?' aria-selected="true"':"")+' style="height:'+g+"px;line-height:"+g+"px;"+(n?_a+"transform:rotateX("+(e._offset-f)*p%360+"deg) translateZ("+g*y.rows/2+"px);":"")+'">'+(1<w?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(g/w)+"px;font-size:"+Math.round(g/w*.8)+'px;">':"")+l+(1<w?"</div>":"")+"</div>";return m}function L(e,t,a,s){var n,i=C[e],o=s||i._disabled,l=A(i,t),t=$(i,l),r=t,c=t,d=0,m=0;if(!0===o[t]){for(n=0;l-d>=i.min&&o[r]&&n<100;)n++,r=$(i,l-++d);for(n=0;l+m<i.max&&o[c]&&n<100;)n++,c=$(i,l+ ++m);t=(m<d&&m&&2!==a||!d||l-d<0||1==a)&&!o[c]?c:r}return t}function H(s,n,i,e,o,t,l){var r,c,d,a,m,u=M._isVisible;_=!0,d=y.validate.call(h,{values:v.slice(0),index:n,direction:i},M)||{},_=!1,d.valid&&(M._tempWheelArray=v=d.valid.slice(0)),t||ka.each(C,function(e,a){if(u&&a._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),a._disabled={},d.disabled&&d.disabled[e]&&ka.each(d.disabled[e],function(e,t){a._disabled[t]=!0,u&&a._$markup.find('.mbsc-sc-itm[data-val="'+X(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),v[e]=a.multiple?v[e]:L(e,v[e],i),u){if(a.multiple&&void 0!==n||a._$markup.find(".mbsc-sc-itm-sel").removeClass(b).removeAttr("aria-selected"),r=A(a,v[e]),c=r-a._index+a._batch,Math.abs(c)>2*T+1&&(c=c+(2*T+1)*(0<c?-1:1),a._offset+=c,a._margin-=c*g,a._refresh()),a._index=r+a._batch,a.multiple){if(void 0===n)for(var t in M._tempSelected[e])a._$markup.find('.mbsc-sc-itm[data-val="'+X(t)+'"]').addClass(b).attr("aria-selected","true")}else a._$markup.find('.mbsc-sc-itm[data-val="'+X(v[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");a._$active&&a._$active.attr("tabindex",-1),a._$active=a._$markup.find('.mbsc-sc-itm[data-index="'+a._index+'"]').eq(f&&a.multiple?1:0).attr("tabindex",0),l&&n===e&&a._$active.length&&(a._$active[0].focus(),a._$scroller.parent().scrollTop(0)),a._scroller.scroll(-(r-a._offset+a._batch)*g,n===e||void 0===n?s:k,o)}}),x("onValidated",{index:n,time:s}),M._tempValue=y.formatValue.call(h,v,M),u&&M._updateHeader(),M.live&&(m=t,(t=C[a=n])&&(!t.multiple||1!==t.multiple&&m&&(!0===y.setOnTap||y.setOnTap[a])))&&(M._hasValue=e||M._hasValue,N(e,e,0,!0),e&&x("onSet",{valueText:M._value})),e&&x("onChange",{index:n,valueText:M._tempValue})}function P(e,t,a,s,n,i,o,l){var r=$(e,a);void 0!==r&&(v[t]=r,e._batch=e._array?Math.floor(a/e._length)*e._length:0,e._index=a,setTimeout(function(){H(s,t,n,!0,i,o,l)},10))}function N(e,t,a,s,n){if(s?M._tempValue=y.formatValue.call(h,M._tempWheelArray,M):H(a),!n){M._wheelArray=[];for(var i=0;i<v.length;i++)M._wheelArray[i]=C[i]&&C[i].multiple?Object.keys(M._tempSelected[i]||{})[0]:v[i];M._value=M._hasValue?M._tempValue:null,M._selected=Da(!0,{},M._tempSelected)}e&&(M._isInput&&o.val(M._hasValue?M._tempValue:""),x("onFill",{valueText:M._hasValue?M._tempValue:"",change:t}),t&&(M._preventChange=!0,o.trigger("change")))}z.call(this,h,t,!0),M.setVal=M._setVal=function(e,t,a,s,n){M._hasValue=null!=e,M._tempWheelArray=v=ka.isArray(e)?e.slice(0):y.parseValue.call(h,e,M)||[],N(t,void 0===a?t:a,n,!1,s)},M.getVal=M._getVal=function(e){e=M._hasValue||e?M[e?"_tempValue":"_value"]:null;return da(e)?+e:e},M.setArrayVal=M.setVal,M.getArrayVal=function(e){return e?M._tempWheelArray:M._wheelArray},M.changeWheel=function(e,t,a){var s,n;ka.each(e,function(e,t){(n=i[e])&&(s=n._nr,n=F(t,s,!0),M._isVisible&&(f&&n._$3d.html(Y(n,s,n._first+T-d+1,n._last-T+d,!0)),n._$scroller.html(Y(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(_)))}),!M._isVisible||M._isLiquid||_||M.position(),_||H(t,void 0,void 0,a)},M.getValidValue=L,M._generateContent=function(){var s,n=0,i="",o=f?_a+"transform: translateZ("+(g*y.rows/2+3)+"px);":"",l='<div class="mbsc-sc-whl-l" style="'+o+"height:"+g+"px;margin-top:-"+(g/2+(y.selectedLineBorder||0))+'px;"></div>',r=0;return ka.each(y.wheels,function(e,t){i+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(f?" mbsc-sc-whl-gr-3d-c":"")+(y.showLabel?" mbsc-sc-lbl-v":"")+'">'+l+'<div class="mbsc-sc-whl-gr'+(f?" mbsc-sc-whl-gr-3d":"")+(c?" mbsc-sc-cp":"")+(y.width||y.maxWidth?'"':'" style="max-width:'+y.maxPopupWidth+'px;"')+">",ka.each(t,function(e,t){M._tempSelected[r]=Da({},M._selected[r]);var a=F(t,r),t=!u||y.rows%2?m/2:0;C[r]=a,n+=y.maxWidth?y.maxWidth[r]||y.maxWidth:y.width?y.width[r]||y.width:0,s=void 0!==a.label?a.label:e,i+='<div class="mbsc-sc-whl-w '+(a.cssClass||"")+(a.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(y.width?"width:"+(y.width[r]||y.width)+"px;":(y.minWidth?"min-width:"+(y.minWidth[r]||y.minWidth)+"px;":"")+(y.maxWidth?"max-width:"+(y.maxWidth[r]||y.maxWidth)+"px;":""))+'">'+(u?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+o+'"></div>'+l+'<div aria-live="off" aria-label="'+s+'"'+(a.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+r+'" class="mbsc-sc-whl" style="height:'+y.rows*g*(f?1.1:1)+'px;">'+(c?'<div data-index="'+r+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(y.btnPlusClass||"")+'"></div><div data-index="'+r+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(y.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+s+'</div><div class="mbsc-sc-whl-c" style="height:'+m+"px;margin-top:-"+(1+t)+"px;"+o+'"><div class="mbsc-sc-whl-sc" style="top:'+(m-g)/2+'px;">',i+=Y(a,r,a._first,a._last)+"</div></div>",f&&(i+='<div class="mbsc-sc-whl-3d" style="height:'+g+"px;margin-top:-"+g/2+'px;">',i+=Y(a,r,a._first+T-d+1,a._last-T+d,!0),i+="</div>"),i+="</div></div>",r++}),i+="</div></div>"}),n&&(y.maxPopupWidth=n),i},M._attachEvents=function(e){n=nt(ka(".mbsc-sc-btn",e),r,y.delay,O,!0),ka(".mbsc-sc-whl",e).on("keydown",s).on("keyup",l)},M._detachEvents=function(){n&&n.stop();for(var e=0;e<C.length;e++)C[e]._scroller.destroy()},M._markupReady=function(e){ka(".mbsc-sc-whl-w",a=e).each(function(r){var s,e=ka(this),c=C[r];c._$markup=e,c._$scroller=ka(".mbsc-sc-whl-sc",this),c._$3d=ka(".mbsc-sc-whl-3d",this),c._scroller=new it(this,{mousewheel:y.mousewheel,moveElement:c._$scroller,scrollbar:ka(".mbsc-sc-bar-c",this),initialPos:(c._first-c._index)*g,contSize:y.rows*g,snap:g,minScroll:S(c),maxScroll:V(c),maxSnapScroll:T,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){a=t?_a+"transform "+Math.round(t)+"ms "+a:"";f&&(c._$3d[0].style[ya+"Transition"]=a,c._$3d[0].style[ya+"Transform"]="rotateX("+-e/g*p+"deg)")},onStart:function(e,t){t.settings.readonly=O(r)},onGestureStart:function(){e.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),x("onWheelGestureStart",{index:r})},onGestureEnd:function(e){var t=90==e.direction?1:2,a=e.duration,e=e.destinationY;s=Math.round(-e/g)+c._offset,P(c,r,s,a,t)},onAnimationStart:function(){e.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){e.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),x("onWheelAnimationEnd",{index:r}),c._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(e){var t,a,s,n,i,o,l;t=c,a=r,s=e.posY,n=Math.round(-s/g)+t._offset,i=n-t._current,o=t._first,l=t._last,e=o+T-d+1,s=l-T+d,i&&(t._first+=i,t._last+=i,t._current=n,0<i?(t._$scroller.append(Y(t,a,Math.max(l+1,o+i),l+i)),ka(".mbsc-sc-itm",t._$scroller).slice(0,Math.min(i,l-o+1)).remove(),f&&(t._$3d.append(Y(t,a,Math.max(s+1,e+i),s+i,!0)),ka(".mbsc-sc-itm",t._$3d).slice(0,Math.min(i,s-e+1)).attr("class","mbsc-sc-itm-del"))):i<0&&(t._$scroller.prepend(Y(t,a,o+i,Math.min(o-1,l+i))),ka(".mbsc-sc-itm",t._$scroller).slice(Math.max(i,o-l-1)).remove(),f&&(t._$3d.prepend(Y(t,a,e+i,Math.min(e-1,s+i),!0)),ka(".mbsc-sc-itm",t._$3d).slice(Math.max(i,e-s-1)).attr("class","mbsc-sc-itm-del"))),t._margin+=i*g,t._$scroller.css("margin-top",t._margin+"px"))},onBtnTap:function(e){D(r,ka(e.target))}})}),H()},M._fillValue=function(){N(M._hasValue=!0,!0,0,!0)},M._clearValue=function(){ka(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",a).removeClass(b).removeAttr("aria-selected")},M._readValue=function(){var e=o.val()||"",a=0;""!==e&&(M._hasValue=!0),M._tempWheelArray=v=M._hasValue&&M._wheelArray?M._wheelArray.slice(0):y.parseValue.call(h,e,M)||[],M._tempSelected=Da(!0,{},M._selected),ka.each(y.wheels,function(e,t){ka.each(t,function(e,t){C[a]=F(t,a),a++})}),N(!1,!1,0,!0),x("onRead")},M.__processSettings=function(e){y=M.settings,x=M.trigger,w=y.multiline,b="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+y.checkIcon,(u=!y.touchUi)&&(y.tapSelect=!0,y.circular=!1,y.rows=e.rows||t.rows||7)},M.__init=function(e){e&&(M._wheelArray=null),C=[],i={},c=y.showScrollArrows,f=y.scroll3d&&U&&!c&&!u&&("ios"==y.theme||"ios"==y.baseTheme),g=y.height,m=f?2*Math.round((g-.03*(g*y.rows/2+3))/2):g,d=Math.round(1.8*y.rows),p=360/(2*d),c&&(y.rows=Math.max(3,y.rows))},M._getItemValue=E,M._tempSelected={},M._selected={},e||M.init()};W.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:B,_defaults:Da({},z.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,a){var s,n,i=[],o=[],l=0;return null!=e&&(i=(e+"").split(" ")),ka.each(a.settings.wheels,function(e,t){ka.each(t,function(e,t){n=t.data,s=a._getItemValue(n[0]),ka.each(n,function(e,t){if(i[l]==a._getItemValue(t))return s=a._getItemValue(t),!1}),o.push(s),l++})}),o}})},A.Scroller=W;var ye={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};function ot(e,t,a,s,n,i,o){o=new Date(e,t,a,s||0,n||0,i||0,o||0);return 23==o.getHours()&&0===(s||0)&&o.setHours(o.getHours()+2),o}function xe(a,e,t){if(!e)return null;for(var s=Da({},ke,t),n=function(e){for(var t=0;c+1<a.length&&a.charAt(c+1)==e;)t++,c++;return t},i=function(e,t,a){var s=""+t;if(n(e))for(;s.length<a;)s="0"+s;return s},o=function(e,t,a,s){return(n(e)?s:a)[t]},l="",r=!1,c=0;c<a.length;c++)if(r)"'"!=a.charAt(c)||n("'")?l+=a.charAt(c):r=!1;else switch(a.charAt(c)){case"d":l+=i("d",s.getDay(e),2);break;case"D":l+=o("D",e.getDay(),s.dayNamesShort,s.dayNames);break;case"o":l+=i("o",(e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5,3);break;case"m":l+=i("m",s.getMonth(e)+1,2);break;case"M":l+=o("M",s.getMonth(e),s.monthNamesShort,s.monthNames);break;case"y":d=s.getYear(e),l+=n("y")?d:(d%100<10?"0":"")+d%100;break;case"h":var d=e.getHours();l+=i("h",12<d?d-12:0===d?12:d,2);break;case"H":l+=i("H",e.getHours(),2);break;case"i":l+=i("i",e.getMinutes(),2);break;case"s":l+=i("s",e.getSeconds(),2);break;case"a":l+=11<e.getHours()?s.pmText:s.amText;break;case"A":l+=(11<e.getHours()?s.pmText:s.amText).toUpperCase();break;case"'":n("'")?l+="'":r=!0;break;default:l+=a.charAt(c)}return l}function we(t,i,e){var a=Da({},ke,e),s=dt(a.defaultValue||new Date);if(!t||!i)return s;if(i.getTime)return i;i="object"==typeof i?i.toString():i+"";for(var e=a.shortYearCutoff,n=a.getYear(s),o=a.getMonth(s)+1,l=a.getDay(s),r=-1,c=s.getHours(),d=s.getMinutes(),m=0,u=-1,h=!1,f=function(e){e=_+1<t.length&&t.charAt(_+1)==e;return e&&_++,e},p=function(e){f(e);e=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}"),e=i.substr(g).match(e);return e?(g+=e[0].length,parseInt(e[0],10)):0},b=function(e,t,a){for(var s=f(e)?a:t,n=0;n<s.length;n++)if(i.substr(g,s[n].length).toLowerCase()==s[n].toLowerCase())return g+=s[n].length,n+1;return 0},v=function(){g++},g=0,_=0;_<t.length;_++)if(h)"'"!=t.charAt(_)||f("'")?v():h=!1;else switch(t.charAt(_)){case"d":l=p("d");break;case"D":b("D",a.dayNamesShort,a.dayNames);break;case"o":r=p("o");break;case"m":o=p("m");break;case"M":o=b("M",a.monthNamesShort,a.monthNames);break;case"y":n=p("y");break;case"H":c=p("H");break;case"h":c=p("h");break;case"i":d=p("i");break;case"s":m=p("s");break;case"a":u=b("a",[a.amText,a.pmText],[a.amText,a.pmText])-1;break;case"A":u=b("A",[a.amText,a.pmText],[a.amText,a.pmText])-1;break;case"'":f("'")?v():h=!0;break;default:v()}if(n<100&&(n+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n<=("string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10))?0:-100)),-1<r){o=1,l=r;do{var y=32-new Date(n,o-1,32,12).getDate()}while(y<l&&(o++,l-=y),y<l)}e=a.getDate(n,o-1,l,c=-1==u?c:u&&c<12?c+12:u||12!=c?c:0,d,m);return a.getYear(e)!=n||a.getMonth(e)+1!=o||a.getDay(e)!=l?s:e}function lt(e,t){return Math.round((t-e)/864e5)}function rt(e){return ot(e.getFullYear(),e.getMonth(),e.getDate())}function ct(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function j(e,t,a){var s,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(a)for(s in i)(n=e[i[s]-t])&&(a[s]="tz"==s?n:1)}function Ce(e,t,a){var s=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&s)return s(e);if("locale"==n)return xe(a,e,t);if("iso8601"==n)return s=e,a=t.isoParts,t=n="",s&&(a.h&&(t+=ae(s.getHours())+":"+ae(s.getMinutes()),a.s&&(t+=":"+ae(s.getSeconds())),a.u&&(t+="."+ae(s.getMilliseconds(),3)),a.tz&&(t+=a.tz)),a.y?(n+=s.getFullYear(),a.m&&(n+="-"+ae(s.getMonth()+1),a.d&&(n+="-"+ae(s.getDate())),a.h&&(n+="T"+t))):a.h&&(n=t)),n}return e}function dt(e,t,a,s){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=Te.exec(e))?(j(n,2,s),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n=n||G.exec(e))?(j(n,0,s),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):we(t,e,a)):null}function mt(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}B.select=function(o,e){var l,h,r,c,a,f,s,p,d,m,n,b,i,u,v,t="",g={},_=1e3,y=this,x=ka(y),w=Da({},o.settings),C=Da(o.settings,ye,w),T=ka('<div class="mbsc-sel-empty">'+C.filterEmptyText+"</div>"),k=C.readonly,M={},D=C.layout||(/top|bottom|inline/.test(C.display)||C.filter?"liquid":""),S="liquid"==D||!C.touchUi,V=da(C.select)?C.select:"multiple"==C.select||x.prop("multiple"),A=V||!(!C.filter&&!C.tapSelect)&&1,I=this.id+"_dummy",w=ka('label[for="'+this.id+'"]').attr("for",I),E=void 0!==C.label?C.label:w.length?w.text():x.attr("name"),w=C.group,$=!!C.data,O=$?!!C.group:ka("optgroup",x).length,F=O&&w&&!1!==w.groupWheel,Y=O&&w&&F&&!0===w.clustered,L=O&&(!w||!1!==w.header&&!Y),w=x.val()||(V?[]:[""]),H=[];function P(a){var s,n,i,o,l,r,c,d=0,m=0,u={};M={},p={},b=[],f=[],H.length=0,$?ka.each(h,function(e,t){l=t[C.dataText]+"",n=t[C.dataHtml],r=t[C.dataValue],i=t[C.dataGroup],o={value:r,html:n,text:l,index:e,cssClass:L?"mbsc-sel-gr-itm":""},M[r]=o,a&&!X(l,a)||(b.push(o),O&&(void 0===u[i]?(s={text:i,value:m,options:[],index:m},p[m]=s,u[i]=m,f.push(s),m++):s=p[u[i]],Y&&(o.index=s.options.length),o.group=u[i],s.options.push(o)),t[C.dataDisabled]&&H.push(r))}):O?(c=!0,ka("optgroup",x).each(function(t){p[t]={text:this.label,value:t,options:[],index:t},c=!0,ka("option",this).each(function(e){o={value:this.value,text:this.text,index:Y?e:d++,group:t,cssClass:L?"mbsc-sel-gr-itm":""},M[this.value]=o,a&&!X(this.text,a)||(c&&(f.push(p[t]),c=!1),b.push(o),p[t].options.push(o),this.disabled&&H.push(this.value))})})):ka("option",x).each(function(e){o={value:this.value,text:this.text,index:e},M[this.value]=o,a&&!X(this.text,a)||(b.push(o),this.disabled&&H.push(this.value))}),t=C.defaultValue||(b.length?b[0].value:""),L&&(b=[],d=0,ka.each(p,function(e,t){t.options.length&&(r="__group"+e,o={text:t.text,value:r,group:e,index:d++,cssClass:"mbsc-sel-gr"},M[r]=o,b.push(o),H.push(o.value),ka.each(t.options,function(e,t){t.index=d++,b.push(t)}))})),T&&(b.length?T.removeClass("mbsc-sel-empty-v"):T.addClass("mbsc-sel-empty-v"))}function N(e,t,a,s,n){var i,o=[];if(e)for(i=0;i<e.length;i++)o.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!s?1:s,cssClass:(t&&!s?"mbsc-sel-one":"")+" "+n,data:o,label:a}}function W(){return N(Y&&p[a]?p[a].options:b,A,E,V,"")}function R(){var e=[[]];return F&&(s=N(f,A,C.groupLabel,!1,"mbsc-sel-gr-whl"),S?e[0][d]=s:e[d]=[s]),i=W(),S?e[0][u]=i:e[u]=[i],e}function q(e){V&&(e&&ue(e)&&(e=e.split(",")),ka.isArray(e)&&(e=e[0])),!M[n=null==e||""===e?t:e]&&b&&b.length&&(n=b[0].value),F&&(a=M[n]?M[n].group:null)}function z(e){return g[e]||(M[e]?M[e].text:"")}function B(){var e,t="",a=o.getVal(),s=C.formatValue.call(y,o.getArrayVal(),o,!0);if(C.filter&&"inline"==C.display||l.val(s),x.is("select")&&$){if(V)for(e=0;e<a.length;e++)t+='<option value="'+a[e]+'">'+z(a[e])+"</option>";else t='<option value="'+(null===a?"":a)+'">'+s+"</option>";x.html(t)}y!==l[0]&&x.val(a)}function U(){var e={};e[u]=W(),v=!0,o.changeWheel(e)}function X(e,t){return t=t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function j(e){return C.data.dataField?e[C.data.dataField]:C.data.processResponse?C.data.processResponse(e):e}function G(e){var t={};P(e),q(n),C.wheels=R(),t[u]=i,o._tempWheelArray[u]=n,F&&(t[d]=s,o._tempWheelArray[d]=a),o.changeWheel(t,0,!0),B()}function K(e){return o.trigger("onFilter",{filterText:e})}function Z(e){e[d]!=a&&(a=e[d],n=p[a].options[0].value,e[u]=n,Y?U():o.setArrayVal(e,!1,!1,!0,_))}return o.setVal=function(e,t,a,s,n){var i;A&&((e=null!=e&&!V?[e]:e)&&ue(e)&&(e=e.split(",")),o._tempSelected[u]=te(e),s||(o._selected[u]=te(e)),e=e?e[0]:null,F&&(i=(i=M[e])&&i.group,o._tempSelected[d]=te([i]),s||(o._selected[d]=te([i])))),o._setVal(e,t,a,s,n)},o.getVal=function(e,t){var a=A?(a=J((e?o._tempSelected:o._selected)[u]),V?a:a.length?a[0]:null):(a=e?o._tempWheelArray:o._hasValue?o._wheelArray:null)?a[u]:null;return V?a:void 0!==a?O&&t?[M[a]?M[a].group:null,a]:a:null},o.refresh=function(e,t,a){a=a||ca,e?(h=e,m||(C.data=e)):ka.isArray(C.data)&&(h=C.data),!e&&m&&void 0===t?re(C.data.url,function(e){h=j(e),G(),a()},C.data.dataType):(G(t),a())},e.invalid||(C.invalid=H),u=F?(d=0,1):(d=-1,0),A&&(V&&x.is("select")&&x.prop("multiple",!0),w&&ue(w)&&(w=w.split(",")),o._selected[u]=te(w)),o._$input&&o._$input.remove(),x.next().is(".mbsc-select-input")?l=x.next().removeAttr("tabindex"):C.input?l=ka(C.input):(C.filter&&"inline"==C.display?o._$input=ka('<div class="mbsc-sel-input-wrap"><input type="text" id="'+I+'" class="mbsc-select-input mbsc-control '+C.inputClass+'" readonly /></div>'):(l=ka('<input type="text" id="'+I+'" class="mbsc-select-input mbsc-control '+C.inputClass+'" readonly />'),o._$input=l),C.showInput&&(o._$input.insertAfter(x),l=l||o._$input.find("#"+I))),o.attachShow(l.attr("placeholder",C.placeholder||"")),l[0]!==y&&(x.addClass("mbsc-sel-hdn").attr("tabindex",-1),C.showInput||x.attr("data-enhance",!1)),!A||C.rows%2||(C.rows=C.rows-1),C.filter&&(r=C.filter.minLength||0),(m=C.data&&C.data.url)?o.refresh():($&&(h=C.data),P(),q(x.val())),{layout:D,headerText:!1,anchor:l,compClass:"mbsc-sc mbsc-sel"+(A?" mbsc-sel-multi":""),setOnTap:!F||[!1,!0],formatValue:function(e,t,a){var s,n=[],t=a?t._selected:t._tempSelected;if(A){for(s in t[u])n.push(z(s));return n.join(", ")}return z(e[u])},tapSelect:A,parseValue:function(e){return q(void 0===e?x.val():e),F?[a,n]:[n]},validate:function(e){var t=e.index,e=[];return e[u]=C.invalid,Y&&!v&&void 0===t&&U(),v=!1,{disabled:e}},onRead:B,onFill:B,onMarkupReady:function(e,t){var a,s,n,i;C.filter&&(e=ka(".mbsc-fr-w",e.target),i=ka('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+C.filterClearIcon+'"></span>'),"inline"==C.display?(a=l).parent().find(".mbsc-sel-filter-clear").remove():(e.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w mbsc-'+C.theme+(C.baseTheme?" mbsc-"+C.baseTheme:"")+'"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=e.find(".mbsc-sel-filter-input")),c=null,n=a[0],a.prop("readonly",!1).attr("placeholder",C.filterPlaceholderText).parent().append(i),e.find(".mbsc-fr-c").prepend(T),t._activeElm=n,t.tap(i,function(){c=null,n.value="",t.refresh(),i.removeClass("mbsc-sel-filter-show-clear"),K("")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("input",function(){clearTimeout(s),n.value.length?i.addClass("mbsc-sel-filter-show-clear"):i.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){c!==n.value&&!1!==K(n.value)&&((c=n.value).length>=r||!c.length)&&(m&&C.data.remoteFilter?re(C.data.url+encodeURIComponent(c),function(e){t.refresh(j(e))},C.data.dataType):t.refresh(void 0,c))},500)}))},onBeforeShow:function(){V&&C.counter&&(C.headerText=function(){var e=0;return ka.each(o._tempSelected[u],function(){e++}),(1<e&&C.selectedPluralText||C.selectedText).replace(/{count}/,e)}),q(x.val()),A&&F&&(o._selected[d]=te([a])),C.filter&&P(void 0),o.settings.wheels=R(),v=!0},onWheelGestureStart:function(e){e.index==d&&(C.readonly=[!1,!0])},onWheelAnimationEnd:function(e){var t=o.getArrayVal(!0);e.index==d?(C.readonly=k,A||Z(t)):e.index==u&&t[u]!=n&&(n=t[u],F&&M[n]&&M[n].group!=a&&(a=M[n].group,t[d]=a,o._tempSelected[d]=te([a]),o.setArrayVal(t,!1,!1,!0,_)))},onItemTap:function(e){var t;if(e.index==u&&(g[e.value]=M[e.value].text,A&&!V&&e.selected))return!(o._prevItemTap=!0);if(e.index==d&&A){if(e.selected)return!(o._prevItemTap=!0);(t=o.getArrayVal(!0))[d]=e.value,Z(t)}},onClose:function(){m&&C.data.remoteFilter&&c&&o.refresh()},onDestroy:function(){o._$input&&o._$input.remove(),x.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}},l("select",W);var G=/^(\d{4}|[+-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::(\d{2}))?)?)?$/,Te=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::(\d{2}))?)?)?$/,ut=/^\d{1,2}(\/\d{1,2})?$/,ht=/^w\d$/i,ke={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:ot,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};s.datetime={formatDate:xe,parseDate:we};function ft(b){function e(e){var t,a,s,n,i=[];if(e){for(t=0;t<e.length;t++)if((a=e[t]).start&&a.end&&!Te.test(a.start))for(s=new Date(dt(a.start,D,O)),n=new Date(dt(a.end,D,O));s<=n;)i.push(ot(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function I(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function t(e,t,a){return Math.floor((a-t)/e)*e+t}function u(e){return e.getFullYear()+"-"+ae(e.getMonth()+1)+"-"+ae(e.getDate())}function l(e,t,a,s){var n;return void 0===T[t]||(n=+e[T[t]],isNaN(n))?a?J[t](a):void 0!==o[t]?o[t]:J[t](s):n}function v(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==T.dd&&(t=e[T.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==T.tt&&(t=t||a,t=new Date(t.getTime()+e[T.tt]%86400*1e3));var s=l(e,"y",t,a),n=l(e,"m",t,a),i=Math.min(l(e,"d",t,a),O.getMaxDayOfMonth(s,n)),o=l(e,"h",t,a);return O.getDate(s,n,i,W&&l(e,"a",t,a)?o+12:o,l(e,"i",t,a),l(e,"s",t,a),l(e,"u",t,a))}function g(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null==e)return e;for(a=0;a<n.length;a++)void 0!==T[s=n[a]]&&(i[T[s]]=J[s](e)),t&&(o[s]=J[s](e));return i}function h(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function f(e){return{value:e,display:(/yy/i.test(A)?e:(e+"").substr(2,2))+(O.yearSuffix||"")}}function p(e){return e}function _(e,t){return O.getYear(e)===O.getYear(t)&&O.getMonth(e)===O.getMonth(t)}function y(e,t){return!(!t&&e<H)&&(!(!t&&P<e)&&(!!a(e,L)||!a(e,Y)))}function a(e,t){var a,s,n,i;if(t)for(s=0;s<t.length;s++)if(n=(i=(a=t[s]).d||a)+"",!a.start)if(ht.test(n)){if((n=+n.replace("w",""))==e.getDay())return 1}else if(ut.test(n)){if((n=n.split("/"))[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return 1}else if(n[0]==e.getDate())return 1}else if(a=dt(i,D,O),e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return 1}function x(e,t,a,s,n,i,o){var l,r,c,d,m;if(e)for(c=0;c<e.length;c++)if(m=(r=(l=e[c]).d||l)+"",!l.start)if(ht.test(m))for(d=(m=+m.replace("w",""))-s;d<n;d+=7)0<=d&&(i[d+1]=o);else ut.test(m)?(m=m.split("/"))[1]?m[0]-1==a&&(i[m[1]]=o):i[m[0]]=o:(l=dt(r,D,O),O.getYear(l)==t&&O.getMonth(l)==a&&(i[O.getDay(l)]=o))}function w(e,t,a,s,n,i,o,l){var r,c,d,m,u,h,f,p,b,v,g,_,y,x,w,C,T,k,M,D,S={},V=O.getDate(s,n,i),A=["a","h","i","s"];if(e){for(f=0;f<e.length;f++)(g=e[f]).start&&(g.apply=!1,k=(T=(d=g.d)+"").split("/"),d&&(d.getTime&&s==O.getYear(d)&&n==O.getMonth(d)&&i==O.getDay(d)||!ht.test(T)&&(k[1]&&i==k[1]&&n==k[0]-1||!k[1]&&i==k[0])||ht.test(T)&&V.getDay()==+T.replace("w",""))&&(g.apply=!0,S[V]=!0));for(f=0;f<e.length;f++)if(g=e[f],p=G[a],b=K[a],c=!(w=x=!(C=r=0)),g.start&&(g.apply||!g.d&&!S[V])){for(_=g.start.split(":"),y=g.end.split(":"),v=0;v<3;v++)void 0===_[v]&&(_[v]=0),void 0===y[v]&&(y[v]=59),_[v]=+_[v],y[v]=+y[v];if("tt"==a)p=I(Math.round((new Date(V).setHours(_[0],_[1],_[2])-new Date(V).setHours(0,0,0,0))/1e3),E,0,86400),b=I(Math.round((new Date(V).setHours(y[0],y[1],y[2])-new Date(V).setHours(0,0,0,0))/1e3),E,0,86400);else{for(_.unshift(11<_[0]?1:0),y.unshift(11<y[0]?1:0),W&&(12<=_[1]&&(_[1]=_[1]-12),12<=y[1]&&(y[1]=y[1]-12)),v=0;v<t;v++)void 0!==$[v]&&(M=I(_[v],Z[A[v]],G[A[v]],K[A[v]]),D=I(y[v],Z[A[v]],G[A[v]],K[A[v]]),h=u=m=0,W&&1==v&&(m=_[0]?12:0,u=y[0]?12:0,h=$[0]?12:0),x||(M=0),w||(D=K[A[v]]),(x||w)&&M+m<$[v]+h&&$[v]+h<D+u&&(c=!0),$[v]!=M&&(x=!1),$[v]!=D&&(w=!1));if(!l)for(v=t+1;v<4;v++)0<_[v]&&(r=Z[a]),y[v]<K[A[v]]&&(C=Z[a]);c||(M=I(_[t],Z[a],G[a],K[a])+r,D=I(y[t],Z[a],G[a],K[a])-C,x&&(p=M),w&&(b=D))}if(x||w||c)for(v=p;v<=b;v+=Z[a])o[v]=!l}}}var E,C,T={},o={},k={},$=[],s=function(e){var t,a,s={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",s.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}s.format=t,a=e.attr("min"),e=e.attr("max"),a&&"undefined"!=a&&(s.min=we(t,a)),e&&"undefined"!=e&&(s.max=we(t,e))}return s}(ka(this)),n=Da({},b.settings),i=ee[n.calendarSystem],O=Da(b.settings,ke,i,Me,s,n),M=O.preset,r="datetime"==M?O.dateFormat+O.separator+O.timeFormat:"time"==M?O.timeFormat:O.dateFormat,D=s.format||r,S=O.dateWheels||O.dateFormat,V=O.timeWheels||O.timeFormat,A=O.dateWheels||O.dateDisplay,F=V,n=O.baseTheme||O.theme,Y=e(O.invalid),L=e(O.valid),H=dt(O.min,D,O),P=dt(O.max,D,O),N=/time/i.test(M),W=/h/.test(F),R=/D/.test(A),q=(s=O.steps||{}).hour||O.stepHour||1,z=s.minute||O.stepMinute||1,B=s.second||O.stepSecond||1,U=(s=s.zeroBased)||!H?0:H.getHours()%q,X=s||!H?0:H.getMinutes()%z,j=s||!H?0:H.getSeconds()%B,c=t(q,U,W?11:23),d=t(z,X,59),m=t(z,X,59),G={y:H?H.getFullYear():-1/0,m:0,d:1,h:U,i:X,s:j,a:0,tt:0},K={y:P?P.getFullYear():1/0,m:11,d:31,h:c,i:d,s:m,a:1,tt:86400},Z={y:1,m:1,d:1,h:q,i:z,s:B,a:1,tt:1},J={y:function(e){return O.getYear(e)},m:function(e){return O.getMonth(e)},d:function(e){return O.getDay(e)},h:function(e){return e=e.getHours(),I(e=W&&12<=e?e-12:e,q,U,c)},i:function(e){return I(e.getMinutes(),z,X,d)},s:function(e){return I(e.getSeconds(),B,j,m)},u:function(e){return e.getMilliseconds()},a:function(e){return 11<e.getHours()?1:0},dd:u,tt:function(e){return I(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),E||1,0,86400)}};return b.getVal=function(e){return b._hasValue||e?Ce(v(b.getArrayVal(e)),O,D):null},b.getDate=function(e){return b._hasValue||e?v(b.getArrayVal(e)):null},b.setDate=function(e,t,a,s,n){b.setArrayVal(g(e,!0),t,n,s,a)},s=function(){var e,t,a,s,n,i,o,l,r=0,c=[],d=[],m=[];if(/date/i.test(M)){for(e=S.split(/\|/.test(S)?"|":""),s=0;s<e.length;s++)if(i=0,(a=e[s]).length)if(/y/i.test(a)&&(k.y=1,i++),/m/i.test(a)&&(k.y=1,k.m=1,i++),/d/i.test(a)&&(k.y=1,k.m=1,k.d=1,i++),1<i&&void 0===T.dd)T.dd=r,r++,d.push(function(a){var s=/d/i.test(a);return{label:"",cssClass:"mbsc-dt-whl-date",min:H?h(u(H),s):void 0,max:P?h(u(P),s):void 0,data:function(e){var t=new Date((new Date).setHours(0,0,0,0)),e=s?new Date(864e5*e):new Date(1970,e,1);return s&&(e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),{invalid:s&&!y(e,!0),value:u(e),display:t.getTime()==e.getTime()?O.todayText:xe(a,e,O)}},getIndex:function(e){return h(e,s)}}}(a)),m=d,C=!0;else if(/y/i.test(a)&&void 0===T.y)T.y=r,r++,d.push({cssClass:"mbsc-dt-whl-y",label:O.yearText,min:H?O.getYear(H):void 0,max:P?O.getYear(P):void 0,data:f,getIndex:p});else if(/m/i.test(a)&&void 0===T.m){for(T.m=r,o=[],r++,n=0;n<12;n++)l=A.replace(/[dy|]/gi,"").replace(/mm/,ae(n+1)+(O.monthSuffix||"")).replace(/m/,n+1+(O.monthSuffix||"")),o.push({value:n,display:/MM/.test(l)?l.replace(/MM/,'<span class="mbsc-dt-month">'+O.monthNames[n]+"</span>"):l.replace(/M/,'<span class="mbsc-dt-month">'+O.monthNamesShort[n]+"</span>")});d.push({cssClass:"mbsc-dt-whl-m",label:O.monthText,data:o})}else if(/d/i.test(a)&&void 0===T.d){for(T.d=r,o=[],r++,n=1;n<32;n++)o.push({value:n,display:(/dd/i.test(A)?ae(n):n)+(O.daySuffix||"")});d.push({cssClass:"mbsc-dt-whl-d",label:O.dayText,data:o})}c.push(d)}if(/time/i.test(M)){for(t=V.split(/\|/.test(V)?"|":""),s=0;s<t.length;s++)if(i=0,(a=t[s]).length&&(/h/i.test(a)&&(k.h=1,i++),/i/i.test(a)&&(k.i=1,i++),/s/i.test(a)&&(k.s=1,i++),/a/i.test(a)&&i++),1<i&&void 0===T.tt)T.tt=r,r++,m.push(function(e){var t,a,s,n=[];for(/s/i.test(e)?a=B:/i/i.test(e)?a=60*z:/h/i.test(e)&&(a=3600*q),E=Z.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:xe(e,s,O)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}(a));else if(/h/i.test(a)&&void 0===T.h){for(o=[],T.h=r,k.h=1,r++,n=U;n<(W?12:24);n+=q)o.push({value:n,display:W&&0===n?12:/hh/i.test(F)?ae(n):n});m.push({cssClass:"mbsc-dt-whl-h",label:O.hourText,data:o})}else if(/i/i.test(a)&&void 0===T.i){for(o=[],T.i=r,k.i=1,r++,n=X;n<60;n+=z)o.push({value:n,display:/ii/i.test(F)?ae(n):n});m.push({cssClass:"mbsc-dt-whl-i",label:O.minuteText,data:o})}else if(/s/i.test(a)&&void 0===T.s){for(o=[],T.s=r,k.s=1,r++,n=j;n<60;n+=B)o.push({value:n,display:/ss/i.test(F)?ae(n):n});m.push({cssClass:"mbsc-dt-whl-s",label:O.secText,data:o})}else/a/i.test(a)&&void 0===T.a&&(T.a=r,r++,m.push({cssClass:"mbsc-dt-whl-a",label:O.ampmText,data:/A/.test(a)?[{value:0,display:O.amText.toUpperCase()},{value:1,display:O.pmText.toUpperCase()}]:[{value:0,display:O.amText},{value:1,display:O.pmText}]}));m!=d&&c.push(m)}return c}(),O.isoParts=k,b._format=r,b._order=T,b.handlers.now=function(){b.setDate(new Date,b.live,1e3,!0,!0)},b.buttons.now={text:O.nowText,icon:O.nowIcon,handler:"now"},{minWidth:C&&N?{bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50}[n]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:s,headerText:!!O.headerText&&function(){return xe(r,v(b.getArrayVal(!0)),O)},formatValue:function(e){return xe(D,v(e),O)},parseValue:function(e){return e||(o={},b._hasValue=!1),g(dt(e||O.defaultValue||new Date,D,O,k),!!e)},validate:function(e){var t,o,a,s,n=e.values,i=e.index,l=e.direction,r=O.wheels[0][T.d],c=function(e,t){var a,s,n=!1,i=!1,o=0,l=0,r=H?v(g(H)):-1/0,c=P?v(g(P)):1/0;if(y(e))return e;if(s=a=e=c<(e=e<r?r:e)?c:e,2!==t)for(n=y(a,!0);!n&&a<c&&o<100;)n=y(a=new Date(a.getTime()+864e5),!0),o++;if(1!==t)for(i=y(s,!0);!i&&r<s&&l<100;)i=y(s=new Date(s.getTime()-864e5),!0),l++;return(1!==t||!n)&&(2===t&&i||!_(e,a)&&(_(e,s)||l<=o&&i))?s:a}(v(n),l),e=g(c),d=[],n={},m=J.y(c),u=J.m(c),h=O.getMaxDayOfMonth(m,u),f=!0,p=!0;if(ka.each(["dd","y","m","d","tt","a","h","i","s"],function(e,a){var t,s=G[a],n=K[a],i=J[a](c);if(d[T[a]]=[],f&&H&&(s=J[a](H)),(n=p&&P?J[a](P):n)<(i=i<s?s:i)&&(i=n),"dd"!==a&&"tt"!==a&&(f=f&&i==s,p=p&&i==n),void 0!==T[a]){if("y"!=a&&"dd"!=a)for(o=G[a];o<=K[a];o+=Z[a])(o<s||n<o)&&d[T[a]].push(o);"d"==a&&(t=O.getDate(m,u,1).getDay(),x(Y,m,u,t,h,i={},1),x(L,m,u,t,h,i,0),ka.each(i,function(e,t){t&&d[T[a]].push(e)}))}}),N&&ka.each(["a","h","i","s","tt"],function(e,a){var t=J[a](c),s=J.d(c),n={};void 0!==T[a]&&(w(Y,e,a,m,u,s,n,0),w(L,e,a,m,u,s,n,1),ka.each(n,function(e,t){t&&d[T[a]].push(e)}),$[e]=b.getValidValue(T[a],t,l,n))}),r&&(r.data.length!==h||R&&(void 0===i||i===T.y||i===T.m))){for((n[T.d]=r).data=[],t=1;t<=h;t++)s=O.getDate(m,u,t).getDay(),a=A.replace(/[my|]/gi,"").replace(/dd/,(t<10?"0"+t:t)+(O.daySuffix||"")).replace(/d/,t+(O.daySuffix||"")),r.data.push({value:t,display:/DD/.test(a)?a.replace(/DD/,'<span class="mbsc-dt-day">'+O.dayNames[s]+"</span>"):a.replace(/D/,'<span class="mbsc-dt-day">'+O.dayNamesShort[s]+"</span>")});b._tempWheelArray[T.d]=e[T.d],b.changeWheel(n)}return{disabled:d,valid:e}}}}var Me={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"};B.date=ft,B.time=ft,B.datetime=ft,l("date",W),l("time",W),l("datetime",W);function Z(r){var s,t,c,e=Da({},r.settings),o=Da(r.settings,De,e),a=o.layout||(/top|bottom/.test(o.display)?"liquid":""),d="liquid"==a,n=o.readonly,i=ka(this),l=this.id+"_dummy",m=0,u=[],h=o.wheelArray||function n(e){var i=[];var e=1<e.length?e:e.children(o.itemSelector);e.each(function(e){var t=ka(this),a=t.clone();a.children("ul,ol").remove(),a.children(o.itemSelector).remove();var s=r._processMarkup?r._processMarkup(a):a.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),a=!!t.attr("data-invalid"),a={key:void 0===t.attr("data-val")||null===t.attr("data-val")?e:t.attr("data-val"),value:s,invalid:a,children:null},t="li"===o.itemSelector?t.children("ul,ol"):t.children(o.itemSelector);t.length&&(a.children=n(t)),i.push(a)});return i}(i),f=function(e){var t,a=[],s=e,n=!0,i=0;for(;n;)t=v(s),a[i++]=t.key,(n=t.children)&&(s=n);return a}(h);function p(e,t,a){for(var s=0,n=[];s<e;)n[s]=function(e,t,a){var s,n=0,i=a,o=[];for(;n<t;){var l=e[n];for(s in i)if(i[s].key==l){i=i[s].children;break}n++}n=0;for(;n<i.length;)i[n].invalid&&o.push(i[n].key),n++;return o}(a,s,t),s++;return n}function b(e,t,a){var s,n,i=0,o=!0,l=[[]],r=h;if(t)for(n=0;n<t;n++)d?l[0][n]={}:l[n]=[{}];for(;o;){for(d?l[0][i]=g(r,i):l[i]=[g(r,i)],n=0,s=null;n<r.length&&!s;)r[n].key==e[i]&&(void 0!==a&&i<=a||void 0===a)&&(s=r[n]),n++;(s=s||v(r))&&s.children?(r=s.children,i++):o=!1}return l}function v(e,t){if(!e)return!1;for(var a,s=0;s<e.length;)if(!(a=e[s++]).invalid)return t?s-1:a;return!1}function g(e,t){for(var a={data:[],label:o.labels&&o.labels[t]?o.labels[t]:t},s=0;s<e.length;)a.data.push({value:e[s].key,display:e[s].value}),s++;return a}function _(e){r._isVisible&&ka(".mbsc-sc-whl-w",r._markup).css("display","").slice(e).hide()}function y(e,t){for(var a,s,n,i=0,o=h,l=!0,r=[];l;){if(void 0!==e[i]&&i<=t)for(s=e[i],a=void(n=0);n<o.length&&void 0===a;)o[n].key!=e[i]||o[n].invalid||(a=n),n++;else s=o[a=v(o,!0)]&&o[a].key;r[i]=s,i++,l=!!o[a]&&o[a].children,o=o[a]&&o[a].children}return{lvl:i,nVector:r}}function x(e,t,a){for(var s=(t||0)+1,n=[],i={},o=b(e,null,t),l=0;l<e.length;l++)r._tempWheelArray[l]=e[l]=a.nVector[l]||0;for(;s<a.lvl;)i[s]=d?o[0][s]:o[s][0],n.push(s++);_(a.lvl),u=e.slice(0),n.length&&(c=!0,r.changeWheel(i))}return function e(t,a){var s;for(m=m<a?a:m,s=0;s<t.length;s++)t[s].children&&e(t[s].children,a+1)}(h,1),e=b(f,m),ka("#"+l).remove(),o.input?t=ka(o.input):o.showInput&&(t=ka('<input type="text" id="'+l+'" value="" class="'+o.inputClass+'" placeholder="'+(o.placeholder||"")+'" readonly />').insertBefore(i)),t&&r.attachShow(t),o.wheelArray||i.hide(),{wheels:e,anchor:t,layout:a,headerText:!1,setOnTap:1==m,formatValue:function(e){return void 0===s&&(s=y(e,e.length).lvl),e.slice(0,s).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(o.defaultValue||f).slice(0)},onBeforeShow:function(){var e=r.getArrayVal(!0);u=e.slice(0),o.wheels=b(e,m,m),c=!0},onWheelGestureStart:function(e){o.readonly=function(e,t){for(var a=[];e;)a[--e]=!0;return a[t]=!1,a}(m,e.index)},onWheelAnimationEnd:function(e){var t=e.index,a=r.getArrayVal(!0),e=y(a,t);s=e.lvl,o.readonly=n,a[t]!=u[t]&&x(a,t,e)},onFill:function(e){s=void 0,t&&t.val(e.valueText)},validate:function(e){var t=e.values,a=e.index,e=y(t,t.length);return s=e.lvl,void 0===a&&(_(e.lvl),c||x(t,a,e)),c=!1,{disabled:p(s,h,t)}},onDestroy:function(){t&&ka("#"+l).remove(),i.show()}}}var De={invalid:[],showInput:!0,inputClass:"",itemSelector:"li"};B.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){(t=ka(t)).is("img")?ka('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),Z.call(this,e)},l("image",W),B.treelist=Z,l("treelist",W);function Se(D){var c,d,m,n,i,u,r,o,l,S,h,f,p,b,v,a,V,g,_,A,I,y,T,E,x,w,$,C,k,M,O,F,Y,L,H,P,N,W,R,q,z,B,U,X,j,G,K,Z,J,Q,ee,te,ae,se,ne,ie,oe,le,re,ce,de,me,ue,he,fe,pe,be,ve,ge,_e,ye,xe,we,e,t,Ce=1,Te=this;function ke(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function Me(e){var t;e.hasClass("mbsc-cal-h")?(t=e).hasClass("mbsc-cal-h")&&t.removeClass("mbsc-cal-h"):ke(e)}function De(e,t,a){e[t]=e[t]||[],e[t].push(a)}function s(e,l,r){var c,d,m,u,h,f,p,b=de.getDate,v=de.getYear,g=de.getMonth,_=de.getDay,y=de.getMaxDayOfMonth,x=v(l),w=g(l),C={};return e&&ka.each(e,function(e,t){if(c=t.d||t.start||t,d=c+"",t.start&&t.end)for(p=rt(dt(t.start,T,de)),f=rt(dt(t.end,T,de));p<=f;)De(C,p,t),p=b(v(p),g(p),_(p)+1);else if(ht.test(d))for(p=Xe(l,!1,+d.replace("w",""));p<=r;)De(C,p,t),p=b(v(p),g(p),_(p)+7);else if(ut.test(d)){var a=!!(d=d.split("/"))[1],s=a?1:0,n=a?0:1,i=a?d[0]-1:w,o=a?+d[1]:+d[0];for(h=y(x,i),p=b(x,i,Math.min(o,h));p<=r;)m=v(p),u=g(p),_(p)===o&&De(C,p,t),h=y(m+s,u+n),p=b(m+s,u+n,Math.min(o,h))}else De(C,rt(dt(c,T,de)),t)}),C}function Se(e){return' style="'+(W?"transform: translateY("+100*e+"%)":"left:"+100*e*ce+"%")+'"'}function Ve(e){return e=(e=je(e,oe-1)>B?je(B,1-oe):e)<K?K:e}function Ae(e,t,a){var s="none"===e.background,n=s?"none":e.color,i=s?e.color:at(n),o=e.text;return'<div data-id="'+e._id+'" data-index="'+t+'" class="mbsc-cal-txt'+(s?" mbsc-cal-txt-only":"")+'" title="'+ka("<div>"+o+"</div>").text()+'"'+(n?' style="background:'+n+(a&&i?";color:"+i:"")+';"':"")+">"+(a?o:"")+"</div>"}function Ie(e){var t=Xe(je(e,-le-ie),!1),a=Xe(je(e,-le+oe+ie-1),!1),a=de.getDate(de.getYear(a),de.getMonth(a),de.getDay(a)+7*S);D._onGenMonth(t,a),O=s(de.invalid,t,a),fe=s(de.valid,t,a),q=s(de.labels||de.events||de.marked,t,a),z=s(de.colors,t,a),R=D._labels||q||z,(w=de.labels||D._labels)&&function(){A={};for(var b={},v=t,e=function(){v.getDay()==E&&(b={});for(var e,t=X,a=(R[v]||[]).slice(0).sort(de.eventOrder),s=a.length,n=[],i=void 0,o=void 0,l=0,r=0,c=0;l<t;){var d,m,u,h,f,p,i=null;a.forEach(function(e,t){b[l]==e&&(i=e,o=t)}),l==t-1&&(r<s-1||s&&c==s&&!i)?(p=(1<(f=s-r)&&de.moreEventsPluralText||de.moreEventsText).replace(/{count}/,f),f&&n.push('<div class="mbsc-cal-txt-more">'+p+"</div>"),i&&(b[l]=null,i._days.forEach(function(e){A[e][l]='<div class="mbsc-cal-txt-more">'+de.moreEventsText.replace(/{count}/,1)+"</div>"})),r++,l++):i?(o==c&&c++,mt(v,dt(i.end))&&(b[l]=null),n.push(Ae(i,o)),l++,r++,i._days.push(v)):c<s?(m=(d=a[c]).start&&dt(d.start),u=d.end&&dt(d.end),h=v.getDay(),f=0<E-h?7:0,p=u&&!mt(m,u),m&&!mt(v,m)&&h!=E||(void 0===d._id&&(d._id=Ce++),p&&(b[l]=d),d._days=[v],e=p?100*Math.min(lt(v,rt(u))+1,7+E-h-f):100,n.push(p?'<div class="mbsc-cal-txt-w" style="width:'+e+'%">'+Ae(d,c,!0)+"</div>"+Ae(d,c):Ae(d,c,!0)),l++,r++),c++):(n.push('<div class="mbsc-cal-txt-ph"></div>'),l++)}A[v]=n,v=de.getDate(de.getYear(v),de.getMonth(v),de.getDay(v)+1)};v<a;)e()}()}function Ee(e){var t=de.getYear(e),a=de.getMonth(e);We(l=_=e),he("onMonthChange",{year:t,month:a}),he("onMonthLoading",{year:t,month:a}),he("onPageChange",{firstDay:e}),he("onPageLoading",{firstDay:e}),Ie(e)}function $e(e){var t=de.getYear(e),a=de.getMonth(e);void 0===ne?Oe(e,t,a):Le(e,ne,!0),He(l,y.focus),y.focus=!1}function Oe(e,t,a){var s=y.$scroller;ka(".mbsc-cal-slide",s).removeClass("mbsc-cal-slide-a"),ka(".mbsc-cal-slide",s).slice(ie,ie+oe).addClass("mbsc-cal-slide-a"),ka(".mbsc-cal-slide-a .mbsc-cal-day",s).on("mouseenter",function(){var e=ka(this);be||P||(M=setTimeout(function(){F=!0,he("onCellHoverIn",qe(e))},150))}).on("mouseleave",function(){clearTimeout(M),!be&&F&&(F=!1,he("onCellHoverOut",qe(ka(this))))}),w&&ka(".mbsc-cal-slide-a .mbsc-cal-txt",s).on("mouseenter",function(){var e=ka(this).attr("data-id");ka('.mbsc-cal-txt[data-id="'+e+'"]',s).addClass("mbsc-hover")}).on("mouseleave",function(){ka(".mbsc-cal-txt.mbsc-hover",s).removeClass("mbsc-hover")}),he("onMonthLoaded",{year:t,month:a}),he("onPageLoaded",{firstDay:e})}function Fe(e,t){for(var a=de.getYear(e),s='<div class="mbsc-cal-slide"'+Se(t)+'><div role="grid" class="mbsc-cal-table"><div role="row" class="mbsc-cal-row">',n=0;n<12;n++)n&&n%3==0&&(s+='</div><div role="row" class="mbsc-cal-row">'),s+='<div role="gridcell" tabindex="-1" aria-label="'+a+'" data-val="'+a+'" class="mbsc-cal-cell mbsc-btn-e '+(a<Q||G<a?" mbsc-disabled ":"")+(a==de.getYear(_)?V:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+a+we+"</div></div>",a++;return s+="</div></div></div>"}function Ye(e,t){for(var a,s,n,i,o,l,r,c,d,m,u,h,f,p,b,v,g=1,_=de.getYear(e),y=de.getMonth(e),x=de.getDay(e),w=null!==de.defaultValue||D._hasValue?D.getDate(!0):null,C=de.getDate(_,y,x).getDay(),T=0<E-C?7:0,k='<div class="mbsc-cal-slide"'+Se(t)+'><div role="grid" class="mbsc-cal-table"><div role="row" class="mbsc-cal-row">',M=0;M<7*S;M++)i=(s=de.getDate(_,y,(b=M+E-T)-C+x)).getFullYear(),o=s.getMonth(),l=s.getDate(),r=de.getMonth(s),c=de.getDay(s),p=de.getMaxDayOfMonth(i,o),d=i+"-"+(o+1)+"-"+l,a="none"!==(m=Da({valid:!((v=s)<K)&&(!(B<v)&&(void 0===O[v]||void 0!==fe[v])),selected:w&&mt(w,s)},function(e){var t,a,s,n=q[e]||!1,i=z[e]||!1,o=i&&i[0].background?i[0].background:n&&n[0].background,l="";if(i)for(t=0;t<i.length;t++)l+=(i[t].cssClass||"")+" ";if(n){for(s='<div class="mbsc-cal-marks">',t=0;t<n.length;t++)l+=((a=n[t]).cssClass||"")+" ",s+='<div class="mbsc-cal-mark"'+(a.color?' style="background:'+a.color+';"':"")+"></div>";s+="</div>"}return o={marked:n,background:o,cssClass:l,markup:A[e]?A[e].join(""):$?s:""},Da(o,D._getDayProps(e,o))}(s))).background&&m.background,u=m.valid,h=m.selected,n=m.cssClass,f=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),v=r!==y,I[d]=m,M&&M%7==0&&(k+='</div><div role="row" class="mbsc-cal-row">'),ve&&M%7==0&&("month"==ve&&v&&1<g?g=1==l?1:2:"year"==ve&&(g=de.getWeekNumber(de.getDate(i,o,l+(7-E+1)%7))),k+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+g+"</div>",g++),k+='<div role="gridcell" aria-label="'+(f?de.todayText+", ":"")+de.dayNames[s.getDay()]+", "+de.monthNames[r]+" "+c+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(v&&!ue?' aria-hidden="true"':' data-full="'+d+'"')+(v||!u?' aria-disabled="true"':"")+(h?' aria-selected="true"':"")+(u?' tabindex="-1"':"")+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+b%7+" "+(de.dayClass||"")+" "+(h?V:"")+(f?" "+de.todayClass:"")+(n?" "+n:"")+(1==c?" mbsc-cal-day-first":"")+(c==p?" mbsc-cal-day-last":"")+(v?" mbsc-cal-day-diff":"")+(u?" mbsc-btn-e":" mbsc-disabled")+(m.marked?" mbsc-cal-day-marked":"")+(a?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(a?' style="background:'+a+";color:"+at(a)+'"':"")+">"+c+"</div>"+(m.markup?'<div class="mbsc-cal-day-markup">'+m.markup+"</div>":"")+"</div></div>";return k+="</div></div></div>"}function Le(e,t,a){var s,n=de.getYear(e),i=de.getMonth(e),o=y?y.pos:0,l="";if(I={},S)for(t||(he("onMonthLoading",{year:n,month:i}),he("onPageLoading",{firstDay:e})),Ie(e),s=0;s<re;s++)l+=Ye(je(e,s-le-ie),o*ce+s-ie);return ne=void 0,a&&y&&(y.$active=null,y.$scroller.html(l),Oe(e,n,i)),l}function He(e,t){var a;y&&((a=y.$active)&&a.length&&(a[0].blur(),a.hasClass("mbsc-disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1")),y.$active=ka('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+ct(e)+'"]',y.$scroller).attr("tabindex","0"),t&&y.$active.length&&y.$active[0].focus())}function Pe(e,t){ka(".mbsc-selected",t).removeClass(V).removeAttr("aria-selected"),ka('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(V).attr("aria-selected","true")}function Ne(e,t,a,s){var n,i;pe&&(B<(e=e<K?K:e)&&(e=B),"calendar"!==pe&&C&&!t||(D._isSetDate=!t,x&&S&&(i=Xe(Ve(e),H),se&&(e<je(_,-le)||e>=je(_,oe-le))&&(n=H?de.getMonth(i)-de.getMonth(_)+12*(de.getYear(i)-de.getYear(_)):Math.floor(lt(_,i)/(7*S)))&&(y.queue=[],y.focus=s&&a,Ke(y,n,a)),n&&a||He(e,s),t||(s=e,t=y&&y.$scroller,de.highlight&&y&&(ka(".mbsc-selected",t).removeClass(V).removeAttr("aria-selected"),null===de.defaultValue&&!D._hasValue||ka('.mbsc-cal-day[data-full="'+ct(s)+'"]',t).addClass(V).attr("aria-selected","true"))),H||n||We(_,!0),l=e,se=!0),D._onSetDate(e,n),D._isSetDate=!1))}function We(e,t){var a,s,n,i=de.getYear(e),o=de.getMonth(e),l=i+we;if(k){if(Pe(o,ae.$scroller),Pe(i,xe.$scroller),Ke(xe,Math.floor(i/12)-Math.floor(de.getYear(xe.first)/12),!0),ka(".mbsc-cal-cell",ae.$scroller).removeClass("mbsc-disabled"),i===Q)for(a=0;a<J;a++)ka('.mbsc-cal-cell[data-val="'+a+'"]',ae.$scroller).addClass("mbsc-disabled");if(i===G)for(a=j+1;a<=12;a++)ka('.mbsc-cal-cell[data-val="'+a+'"]',ae.$scroller).addClass("mbsc-disabled")}for(t||(Re(ka(".mbsc-cal-prev-m",d),je(e,-le)<=K),Re(ka(".mbsc-cal-next-m",d),je(e,oe-le)>B),Re(ka(".mbsc-cal-prev-y",d),de.getDate(i-1,o+1,1)<=K),Re(ka(".mbsc-cal-next-y",d),de.getDate(i+1,o,1)>B)),r.attr("aria-label",i).html(l),a=0;a<oe;a++)(n=je(e,a-le))<=me&&me<je(n,1)&&(n=me),s=de.getYear(n),n=de.getMonth(n),l=s+we,m.eq(a).attr("aria-label",de.monthNames[n]+(_e?"":" "+i)).html((!_e&&ye<ee?l+" ":"")+te[n]+(!_e&&ee<ye?" "+l:""))}function Re(e,t){t?e.addClass(a).attr("aria-disabled","true"):e.removeClass(a).removeAttr("aria-disabled")}function qe(e){var t=e[0],a=e.attr("data-full"),s=a?a.split("-"):[],s=ot(s[0],s[1]-1,s[2]),e=e.hasClass("mbsc-selected");return Da(I?I[a]:{},{date:s,target:t,selected:e})}function ze(e,t){var a=D.getDate(!0),s=qe(e),n=e[0],i=s.date,o=ot(i.getFullYear(),i.getMonth(),i.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),l=ka(t.target),r=l[0];if(I&&(ue||!e.hasClass("mbsc-cal-day-diff"))){if(s.date=o,w&&n.contains(r))for(;r!=n;){if(l.hasClass("mbsc-cal-txt")||l.hasClass("mbsc-cal-txt-more")){var c=l.attr("data-index"),d=R[i];if(!1===he("onLabelTap",{date:o,domEvent:t,target:l[0],labels:d,label:d[c]}))return;break}r=(l=l.parent())[0]}!1===he("onDayChange",s)||de.readonly||e.hasClass("mbsc-disabled")||D._selectDay(e,i,o,s.selected)}}function Be(e){ke(n),Ne(de.getDate(de.getYear(y.first),e.attr("data-val"),1),!0,!0)}function Ue(e){ke(o),Ne(de.getDate(e.attr("data-val"),de.getMonth(y.first),1),!0,!0)}function Xe(e,t,a){var s=de.getYear(e),n=de.getMonth(e),i=e.getDay(),o=0<E-i?7:0;return t?de.getDate(s,n,1):de.getDate(s,n,(void 0===a?E:a)-o-i+de.getDay(e))}function je(e,t){var a=de.getYear(e),s=de.getMonth(e),e=de.getDay(e);return H?de.getDate(a,s+t,1):de.getDate(a,s,e+t*S*7)}function Ge(e,t){e=12*Math.floor(de.getYear(e)/12);return de.getDate(e+12*t,0,1)}function Ke(e,t,a,s){t&&D._isVisible&&(e.queue.push(arguments),1==e.queue.length&&Ze(e,t,a,s))}function Ze(s,n,e,i){var o,l,t="",r=s.$scroller,c=s.buffer,d=s.offset,a=s.pages,m=s.total,u=s.first,h=s.genPage,f=s.getFirst,p=0<n?Math.min(n,c):Math.max(n,-c),b=s.pos*ce+p-n+d,v=Math.abs(n)>c;s.callback&&(s.load(),s.callback(!0)),s.first=f(u,n),s.pos+=p*ce,s.changing=!0,s.load=function(){if(v){for(o=0;o<a;o++)t+=h(f(u,l=n+o-d),b+l);0<n?(ka(".mbsc-cal-slide",r).slice(-a).remove(),r.append(t)):n<0&&(ka(".mbsc-cal-slide",r).slice(0,a).remove(),r.prepend(t))}},s.callback=function(e){var t=Math.abs(p),a="";if(D._isVisible){for(o=0;o<t;o++)a+=h(f(u,l=n+o-d-c+(0<n?m-t:0)),b+l);if(0<n?(r.append(a),ka(".mbsc-cal-slide",r).slice(0,p).remove()):n<0&&(r.prepend(a),ka(".mbsc-cal-slide",r).slice(p).remove()),v){for(a="",o=0;o<t;o++)a+=h(f(u,l=n+o-d-c+(0<n?0:m-t)),b+l);0<n?(ka(".mbsc-cal-slide",r).slice(0,p).remove(),r.prepend(a)):n<0&&(ka(".mbsc-cal-slide",r).slice(p).remove(),r.append(a))}Qe(s),i&&!e&&i(),s.callback=null,s.load=null,s.queue.shift(),v=!1,s.queue.length?Ze.apply(this,s.queue[0]):(s.changing=!1,s.onAfterChange(s.first))}},s.onBeforeChange(s.first),s.load&&(s.load(),s.scroller.scroll(-s.pos*s.size,e?200:0,!1,s.callback))}function Je(e,t,a,s,n,i,o,l,r,c,d,m,u){var h=W?"Y":"X",f={$scroller:ka(".mbsc-cal-scroll",e),queue:[],buffer:s,offset:n,pages:i,first:l,total:o,pos:0,min:t,max:a,genPage:m,getFirst:u,onBeforeChange:c,onAfterChange:d};return f.scroller=new it(e,{axis:h,easing:"",contSize:0,maxSnapScroll:s,mousewheel:void 0===de.mousewheel?W:de.mousewheel,time:200,lock:!0,rtl:N,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&xa(),r(ka(e.target),e.domEvent)},onStart:function(){clearTimeout(M)},onGestureStart:function(){P=!0},onAnimationStart:function(){f.changing=!0},onAnimationEnd:function(e){P=!1,m&&Ke(f,Math.round((-f.pos*f.size-e["pos"+h])/f.size)*ce)}}),D._scrollers.push(f.scroller),f}function Qe(e,t){var a=0,s=0,n=e.first;if(!e.changing||!t){if(e.getFirst){for(a=e.buffer,s=e.buffer;s&&e.getFirst(n,s+e.pages-e.offset-1)>e.max;)s--;for(;a&&e.getFirst(n,1-a-e.offset)<=e.min;)a--}t=Math.round(h/e.pages),L&&t&&e.size!=t&&e.$scroller[W?"height":"width"](t),Da(e.scroller.settings,{snap:t,minScroll:(-e.pos*ce-s)*t,maxScroll:(-e.pos*ce+a)*t}),e.size=t,e.scroller.refresh()}}function et(e){D._onRefresh(e),D._isVisible&&x&&S&&(y&&y.changing?ne=e:(Le(_,e,!0),He(l)))}function tt(e){be="touchstart"===e.type}return b={},v=[],A={},he=D.trigger,t=Da({},D.settings),e=(de=Da(D.settings,pt,t)).controls.join(","),E=de.firstDay,N=de.rtl,ie=de.pageBuffer,ve=de.weekCounter,S=de.weeks,H=6==S,W="vertical"==de.calendarScroll,p=D._getRespCont(),ge="full"==de.weekDays?"":"min"==de.weekDays?"Min":"Short",t=de.layout||("inline"==de.display||/top|bottom/.test(de.display)&&de.touchUi?"liquid":""),f=(L="liquid"==t)?null:de.calendarWidth,ce=N&&!W?-1:1,a="mbsc-disabled "+(de.disabledClass||""),g="mbsc-selected "+(de.selectedTabClass||""),V="mbsc-selected "+(de.selectedClass||""),X=Math.max(1,Math.floor(((de.calendarHeight||0)/S-45)/18)),e.match(/calendar/)&&(b.calendar=1,x=!0),e.match(/date/)&&!x&&(b.date=1),e.match(/time/)&&(b.time=1),de.controls.forEach(function(e){b[e]&&v.push(e)}),k=de.quickNav&&x&&H,_e=de.yearChange&&H,L&&x&&"center"==de.display&&(D._isFullScreen=!0),de.layout=t,de.preset=(b.date||x?"date":"")+(b.time?"time":""),t=ft.call(this,D),te=_e?de.monthNamesShort:de.monthNames,we=de.yearSuffix||"",ee=(de.dateWheels||de.dateFormat).search(/m/i),ye=(de.dateWheels||de.dateFormat).search(/y/i),T=D._format,de.min&&(K=rt(dt(de.min,T,de)),Q=de.getYear(K),J=de.getMonth(K),Z=de.getDate(12*Math.floor(Q/12),0,1)),de.max&&(B=rt(dt(de.max,T,de)),G=de.getYear(B),j=de.getMonth(B),U=de.getDate(12*Math.floor(G/12),0,1)),D._minDate=K,D._maxDate=B,D.refresh=function(){et(!1)},D.redraw=function(){et(!0)},D.navigate=function(e,t){Ne(dt(e,T,de),!0,t)},D.changeTab=function(e){D._isVisible&&b[e]&&pe!=e&&(pe=e,ka(".mbsc-cal-tab",d).removeClass(g).removeAttr("aria-selected"),ka('.mbsc-cal-tab[data-control="'+e+'"]',d).addClass(g).attr("aria-selected","true"),C&&(u.addClass("mbsc-cal-h"),b[pe].removeClass("mbsc-cal-h")),"calendar"==pe&&Ne(D.getDate(!0),!1,!0),D._showDayPicker(),D.trigger("onTabChange",{tab:pe}))},D._checkSize=!0,D._onGenMonth=ca,D._onSetDate=ca,D._onRefresh=ca,D._getDayProps=ca,D._prepareObj=s,D._showDayPicker=function(){k&&(ke(o),ke(n))},D._selectDay=D.__selectDay=function(e,t,a){var s=D.live;se=de.outerMonthChange,Y=!0,D.setDate(a,s,1e3,!s,!0),s&&he("onSet",{valueText:D._value})},D._checkBtn=Re,Da(t,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",eventOrder:function(e,t){var a=e.start?dt(e.start):null,s=t.start?dt(t.start):null;e.end&&dt(e.end),t.end&&dt(t.end);var n=ht.test(e.d)||ut.test(e.d),i=ht.test(t.d)||ut.test(t.d),a=e.d?n?e.d:dt(e.d):a,s=t.d?i?t.d:dt(t.d):s,a=a.getTime?e.allDay?1:a.getTime():0,s=s.getTime?t.allDay?1:s.getTime():0;return a==s?e.text>t.text?1:-1:a-s},onMarkupReady:function(e){var a,s,t=0;d=ka(e.target),i=ka(".mbsc-fr-c",d),l=D.getDate(!0),h=0,x&&($=!(!de.marked&&!de.data||de.labels||de.multiLabel||de.showEventCount),se=!0,pe="calendar",oe="auto"==de.months?Math.max(1,Math.min(3,Math.floor((f||st(p))/280))):+de.months,re=oe+2*ie,W=W&&oe<2,ue=void(le=0)===de.showOuterDays?oe<2&&!W||!H:de.showOuterDays,_=Xe(Ve(l),H),i.append(function(){for(var e,t,a,s,n="",i=N?de.btnCalNextClass:de.btnCalPrevClass,o=N?de.btnCalPrevClass:de.btnCalNextClass,l='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+de.prevMonthText+'" class="'+i+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',r=0;r<(S?oe:1);r++)l+='<div role="button" class="mbsc-cal-month"></div>';if(l+='<div data-step="1" role="button" tabindex="0" aria-label="'+de.nextMonthText+'" class="'+o+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',_e&&(n='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+de.prevYearText+'" class="'+i+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+de.nextYearText+'" class="'+o+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),S&&(s=Le(_)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(H?"":" mbsc-cal-week-view")+(1<oe?" mbsc-cal-multi ":"")+(ve?" mbsc-cal-weeks ":"")+(W?" mbsc-cal-vertical":"")+($?" mbsc-cal-has-marks":"")+(w?" mbsc-cal-has-labels":"")+(ue?"":" mbsc-cal-hide-diff ")+(de.calendarClass||"")+'"'+(L?"":' style="width:'+(f||280*oe)+'px;"')+'><div class="mbsc-cal-hdr">'+(ye<ee||1<oe?n+l:l+n)+"</div>",S){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',t=0;t<oe;t++){for(e+='<div class="mbsc-cal-days">',r=0;r<7;r++)e+='<div class="mbsc-cal-week-day'+(a=(r+E)%7)+'" aria-label="'+de.dayNames[a]+'">'+de["dayNames"+ge][a]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(de.calendarClass||"")+'"'+(de.calendarHeight?' style="height:'+de.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/oe+'%">'+s+"</div></div>"}if(e+="</div>",k){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(de.calendarClass||"")+'"><div class="mbsc-cal-scroll">',r=0;r<3;r++){for(e+='<div class="mbsc-cal-slide"'+Se(r-1)+'><div role="grid" class="mbsc-cal-table"><div role="row" class="mbsc-cal-row">',t=0;t<12;t++)t&&t%3==0&&(e+='</div><div role="row" class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==r?' tabindex="-1" aria-label="'+de.monthNames[t]+'" data-val="'+t+'"':"")+' class="mbsc-cal-cell'+(1==r?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==r?de.monthNamesShort[t]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(de.calendarClass||"")+'"><div class="mbsc-cal-scroll">',r=-1;r<2;r++)e+=Fe(Ge(_,r),r);e+="</div></div></div>"}return e+="</div></div></div>"}()),m=ka(".mbsc-cal-month",d),r=ka(".mbsc-cal-year",d),c=ka(".mbsc-cal-day-scroll-c",d)),k&&(o=ka(".mbsc-cal-year-picker",d),n=ka(".mbsc-cal-month-picker",d)),u=ka(".mbsc-w-p",d),1<v.length&&i.before((s='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',v.forEach(function(e,t){a=de[("calendar"==e?"date":e)+"Text"],s+='<div role="tab" aria-controls="'+Te.id+"-mbsc-pnl-"+t+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(t?"":g)+'" data-control="'+e+'"'+(de.tabLink?'><a href="#">'+a+"</a>":' tabindex="0">'+a)+"</div>"}),s+="</div></div>")),["date","time","calendar"].forEach(function(e){b[e]?(b[e]=u.eq(t),t++):"date"==e&&!b.date&&x&&(u.eq(t).remove(),t++)}),v.forEach(function(e){i.append(b[e])}),!x&&b.date&&b.date.css("position","relative"),D._scrollers=[],x&&S&&(e=ka(".mbsc-cal-scroll-c",d),y=Je(e[0],K,B,ie,le,oe,re,_,ze,Ee,$e,Ye,je),k&&(ae=Je(e[1],null,null,1,0,1,3,_,Be),xe=Je(e[2],Z,U,1,0,1,3,_,Ue,ca,ca,Fe,Ge),D.tap(m,function(){Me(n),ke(o)}),D.tap(r,function(){Me(o),ke(n)})),nt(ka(".mbsc-cal-btn",d),function(e,t,a,s){Ke(y,t,!0,s)}),$e(_),null===de.defaultValue&&!D._hasValue||D._multiple||(D._activeElm=y.$active[0]),pa(c[0],"touchstart",tt,{passive:!0}),pa(c[0],"mousedown",tt),c.on("keydown",function(e){var t,a=de.getYear(l),s=de.getMonth(l),n=de.getDay(l);switch(e.keyCode){case 32:ze(y.$active,e);break;case 37:t=de.getDate(a,s,n-+ce);break;case 39:t=de.getDate(a,s,n+ +ce);break;case 38:t=de.getDate(a,s,n-7);break;case 40:t=de.getDate(a,s,n+7);break;case 36:t=de.getDate(a,s,1);break;case 35:t=de.getDate(a,s+1,0);break;case 33:t=e.altKey?de.getDate(a-1,s,n):H?de.getDate(a,s-1,n):de.getDate(a,s,n-7*S);break;case 34:t=e.altKey?de.getDate(a+1,s,n):H?de.getDate(a,s+1,n):de.getDate(a,s,n+7*S)}t&&(e.preventDefault(),Ne(t,!0,!1,!0))})),D.tap(ka(".mbsc-cal-tab",d),function(){D.changeTab(ka(this).attr("data-control"))})},onShow:function(){x&&S&&We(_)},onHide:function(){clearTimeout(M),D._scrollers.forEach(function(e){e.destroy()}),pe=xe=ae=y=I=null},onValidated:function(e){var t,a=e.index,s=D._order,n=D.getDate(!0);me=n,Y?t="calendar":void 0!==a&&(t=s.dd==a||s.d==a||s.m==a||s.y==a?"date":"time"),he("onSetDate",{date:n,control:t}),"time"!==t&&Ne(n,!1,!!e.time,Y&&!D._multiple),Y=!1},onPosition:function(e){var t,a,s,n,i,o,l=e.oldHeight,r=e.windowHeight;if(C=(e.hasTabs||!0===de.tabs||!1!==de.tabs&&L)&&1<v.length,L&&(e.windowWidth>=de.breakPointMd?ka(e.target).addClass("mbsc-fr-md"):ka(e.target).removeClass("mbsc-fr-md")),C?(d.addClass("mbsc-cal-tabbed"),pe=ka(".mbsc-cal-tab.mbsc-selected",d).attr("data-control"),u.addClass("mbsc-cal-h"),b[pe].removeClass("mbsc-cal-h")):(d.removeClass("mbsc-cal-tabbed"),u.removeClass("mbsc-cal-h")),D._isFullScreen&&(c.height(""),i=r-(e=e.popup.offsetHeight)+c[0].offsetHeight,e<=r&&c.height(i)),w&&S&&r!=l&&(l=i||c[0].offsetHeight,i=(o=c.find(".mbsc-cal-txt,.mbsc-cal-txt-ph")[0]).offsetTop,o=o.offsetHeight,o=Math.max(1,Math.floor((l/S-i)/(o+2))),X!=o&&(X=o,D.redraw())),x&&S){if(o=L||W||C?c[0][W?"offsetHeight":"offsetWidth"]:f||280*oe,n=o!=h,h=o,L&&n&&_e)for(te=de.maxMonthWidth>m[0].offsetWidth?de.monthNamesShort:de.monthNames,a=de.getYear(_),s=de.getMonth(_),t=0;t<oe;t++)m.eq(t).text(te[de.getMonth(de.getDate(a,s-le+t,1))]);n&&Qe(y,!0)}k&&n&&(Qe(ae,!0),Qe(xe,!0))}})}var pt={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Ve={};B.calendar=function(r){function i(e){var t,a,s,n=null;if(p={},e&&e.length)for(a=0;a<e.length;a++)t=dt(e[a],o,m,m.isoParts),n=n||t,p[ot((s=t).getFullYear(),s.getMonth(),s.getDate())]=t;return n}function c(){r.redraw()}var d,t,e=Da({},r.settings),m=Da(r.settings,Ve,e),u="mbsc-selected "+(m.selectedClass||""),a=m.defaultValue,h="multiple"==m.select||1<m.select||"week"==m.selectType,f=da(m.select)?m.select:1/0,p={},s=Se.call(this,r),b=void 0===m.firstSelectDay?m.firstDay:m.firstSelectDay,o=r._format;return h&&i(a),r._multiple=h,r._getDayProps=function(e){return{selected:h?void 0!==p[e]:void 0}},r._selectDay=function(e,t,a,s){var n="single"==m.select||1==m.select||void 0===m.select;if(m.setOnDayTap&&n&&"inline"!=m.display)return r.setDate(a),void r.select();if(h)if("week"==m.selectType){var i,o,l=(l=t.getDay()-b)<0?7+l:l;for(n&&(p={}),i=0;i<7;i++)o=ot(t.getFullYear(),t.getMonth(),t.getDate()-l+i),s?delete p[o]:J(p).length/7<f&&(p[o]=o);c()}else{n=ka('.mbsc-cal-day[data-full="'+e.attr("data-full")+'"]',d);s?(n.removeClass(u).removeAttr("aria-selected"),delete p[t]):J(p).length<f&&(n.addClass(u).attr("aria-selected","true"),p[t]=t)}r.__selectDay(e,t,a)},r.setVal=function(e,t,a,s,n){h&&(e=i(e)),r._setVal(e,t,a,s,n),h&&c()},r.getVal=function(e){var t,a=[];if(h){for(t in p)a.push(Ce(p[t],m,o));return a}return Ce(r.getDate(e),m,o)},Da({},s,{highlight:!h,outerMonthChange:!h,parseValue:function(e){return h&&e&&"string"==typeof e&&(e=i(e.split(","))),h&&a&&a.length&&(m.defaultValue=a[0]),s.parseValue.call(this,e)},formatValue:function(e){var t,a=[];if(h){for(t in p)a.push(xe(o,p[t],m));return a.join(", ")}return s.formatValue.call(this,e,r)},onClear:function(){h&&(p={},c())},onBeforeShow:function(){void 0!==m.setOnDayTap||m.buttons&&m.buttons.length||1!=m.controls.length||(m.setOnDayTap=!0),m.setOnDayTap&&"inline"!=m.display&&(m.outerMonthChange=!1),m.counter&&h&&(m.headerText=function(){var e=0,t="week"==m.selectType?7:1;return ka.each(p,function(){e++}),(1<(e=Math.round(e/t))&&m.selectedPluralText||m.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){s.onMarkupReady.call(this,e),d=ka(e.target),h&&(ka(".mbsc-fr-hdr",d).attr("aria-live","off"),t=Da({},p))},onCancel:function(){!r.live&&h&&(p=Da({},t))}})},l("calendar",W);var Ae={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};B.timespan=function(m){function u(a){var s={};return ka(t).each(function(e,t){s[t]=g[t]?Math.floor(a/b[t].limit):0,a-=s[t]*b[t].limit}),s}function o(e,t,a){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+a+"</span>"}function h(a){var s=0;return ka.each(d,function(e,t){isNaN(+a[0])||(s+=b[t.v].limit*a[e])}),s}var l,a,i,f,p,e=Da({},m.settings),r=Da(m.settings,Ae,e),c=r.wheelOrder,e=r.useShortLabels?r.labelsShort:r.labels,t=["years","months","days","hours","minutes","seconds"],b={years:{ord:0,index:6,until:10,limit:31536e6,label:e[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:e[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:e[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:e[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:e[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:e[5],re:"s",wheel:{}}},d=[],v=r.steps||[],g={},_="seconds",y=r.defaultValue||Math.max(r.min,Math.min(0,r.max)),s=[[]];return ka(t).each(function(e,t){-1<(a=c.search(new RegExp(b[t].re,"i")))&&(d.push({o:a,v:t}),b[t].index>b[_].index&&(_=t))}),d.sort(function(e,t){return e.o>t.o?1:-1}),ka.each(d,function(e,t){g[t.v]=e+1,s[0].push(b[t.v].wheel)}),f=u(r.min),p=u(r.max),ka.each(d,function(e,t){!function(e){var t=!1,a=v[g[e]-1]||1,s=b[e],n=s.label,i=s.wheel;if(i.data=[],i.label=s.label,c.match(new RegExp(s.re+s.re,"i"))&&(t=!0),e==_)i.min=f[e],i.max=p[e],i.data=function(e){return{value:e*a,display:o(e*a,t,n)}},i.getIndex=function(e){return Math.round(e/a)};else for(l=0;l<=s.until;l+=a)i.data.push({value:l,display:o(l,t,n)})}(t.v)}),m.getVal=function(e,t){return t?m._getVal(e):m._hasValue||e?h(m.getArrayVal(e)):null},{minWidth:100,showLabel:!0,wheels:s,compClass:"mbsc-ts mbsc-sc",parseValue:function(a){var s,n=[];return da(a)||!a?(i=u(a||y),ka.each(d,function(e,t){n.push(i[t.v])})):ka.each(d,function(e,t){s=new RegExp("(\\d+)\\s?("+r.labels[b[t.v].ord]+"|"+r.labelsShort[b[t.v].ord]+")","gi").exec(a),n.push(s?s[1]:0)}),ka(n).each(function(e,t){n[e]=(t=t,e=v[e]||1,Math.floor(t/e)*e)}),n},formatValue:function(a){var s="";return ka.each(d,function(e,t){s+=+a[e]?a[e]+" "+b[t.v].label+" ":""}),s?s.replace(/\s+$/g,""):0},validate:function(e){var a,s,n,i,o=e.values,l=e.direction,r=[],c=!0,d=!0;return ka(t).each(function(e,t){if(void 0!==g[t]){if(n=g[t]-1,r[n]=[],i={},t!=_){if(c)for(s=p[t]+1;s<=b[t].until;s++)i[s]=!0;if(d)for(s=0;s<f[t];s++)i[s]=!0}o[n]=m.getValidValue(n,o[n],l,i),a=u(h(o)),c=c&&a[t]==p[t],d=d&&a[t]==f[t],ka.each(i,function(e){r[n].push(e)})}}),{disabled:r}}}},l("timespan",W);var Ie={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide",mode:"countdown"};B.timer=function(a){function r(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function l(e,t,a){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+a+"</span>"}function s(e){var a,s=[],n=function(a){var s={};if(E&&x[V].index>x.days.index){var e,t,n,i,o=new Date,l=f?o:I,o=r(o=f?I:o),l=r(l);for(s.years=l.getFullYear()-o.getFullYear(),s.months=l.getMonth()-o.getMonth(),s.days=l.getDate()-o.getDate(),s.hours=l.getHours()-o.getHours(),s.minutes=l.getMinutes()-o.getMinutes(),s.seconds=l.getSeconds()-o.getSeconds(),s.fract=(l.getMilliseconds()-o.getMilliseconds())/10,e=y.length;0<e;e--)t=y[e-1],n=x[t],i=y[ka.inArray(t,y)-1],x[i]&&s[t]<0&&(s[i]--,s[t]+="months"==i?32-new Date(l.getFullYear(),l.getMonth(),32).getDate():n.until+1);"months"==V&&(s.months+=12*s.years,delete s.years)}else ka(y).each(function(e,t){x[t].index<=x[V].index&&(s[t]=Math.floor(a/x[t].limit),a-=s[t]*x[t].limit)});return s}(e);return ka(y).each(function(e,t){w[t]&&(a=Math.max(Math.round(S/x[t].limit),1),s.push(Math.round(n[t]/a)*a))}),s}function t(e){E?(u=I-new Date,f=u<0&&(u*=-1,!0),D=!(h=0)):(void 0!==I?(D=!1,u=1e3*I,f="countdown"!=g.mode):(u=0,f="countdown"!=g.mode,D=f),e&&(h=0))}function n(){k?(ka(".mbsc-fr-w",p).addClass("mbsc-timer-running mbsc-timer-locked"),ka(".mbsc-timer-btn-toggle-c > div",p).text(g.stopText),a.buttons.start.icon&&ka(".mbsc-timer-btn-toggle-c > div",p).removeClass("mbsc-ic-"+a.buttons.start.icon),a.buttons.stop.icon&&ka(".mbsc-timer-btn-toggle-c > div",p).addClass("mbsc-ic-"+a.buttons.stop.icon),"stopwatch"==g.mode&&(ka(".mbsc-timer-btn-resetlap-c > div",p).text(g.lapText),a.buttons.reset.icon&&ka(".mbsc-timer-btn-resetlap-c > div",p).removeClass("mbsc-ic-"+a.buttons.reset.icon),a.buttons.lap.icon&&ka(".mbsc-timer-btn-resetlap-c > div",p).addClass("mbsc-ic-"+a.buttons.lap.icon))):(ka(".mbsc-fr-w",p).removeClass("mbsc-timer-running"),ka(".mbsc-timer-btn-toggle-c > div",p).text(g.startText),a.buttons.start.icon&&ka(".mbsc-timer-btn-toggle-c > div",p).addClass("mbsc-ic-"+a.buttons.start.icon),a.buttons.stop.icon&&ka(".mbsc-timer-btn-toggle-c > div",p).removeClass("mbsc-ic-"+a.buttons.stop.icon),"stopwatch"==g.mode&&(ka(".mbsc-timer-btn-resetlap-c > div",p).text(g.resetText),a.buttons.reset.icon&&ka(".mbsc-timer-btn-resetlap-c > div",p).addClass("mbsc-ic-"+a.buttons.reset.icon),a.buttons.lap.icon&&ka(".mbsc-timer-btn-resetlap-c > div",p).removeClass("mbsc-ic-"+a.buttons.lap.icon)))}var c,e,d,i,o,m,u,h,f,p,b,v=Da({},a.settings),g=Da(a.settings,Ie,v),_=g.useShortLabels?g.labelsShort:g.labels,v=["resetlap","toggle"],y=["years","months","days","hours","minutes","seconds","fract"],x={years:{index:6,until:10,limit:31536e6,label:_[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:_[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:_[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:_[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:_[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:_[5],wheel:{}},fract:{index:0,until:99,limit:10,label:_[6],prefix:".",wheel:{}}},w={},C=[],T=0,k=!1,M=!0,D=!1,S=Math.max(10,1e3*g.step),V=g.maxWheel,A="stopwatch"==g.mode||E,I=g.targetTime,E=I&&void 0!==I.getTime,$=[[]];return a.start=function(){M&&a.reset(),k||(t(),!D&&u<=h||(M=!(k=!0),o=new Date,i=h,g.readonly=!0,a.setVal(s(f?h:u-h),!0,!0,!1,100),e=setInterval(function(){h=new Date-o+i,a.setVal(s(f?h:u-h),!0,!0,!1,Math.min(100,d-10)),!D&&u<=h+d&&(clearInterval(e),setTimeout(function(){a.stop(),h=u,a.setVal(s(f?h:0),!0,!0,!1,100),a.trigger("onFinish",{time:u}),M=!0},u-h))},d),n(),a.trigger("onStart")))},a.stop=function(){k&&(k=!1,clearInterval(e),h=new Date-o+i,n(),a.trigger("onStop",{ellapsed:h}))},a.toggle=function(){k?a.stop():a.start()},a.reset=function(){a.stop(),C=[],T=h=0,a.setVal(s(f?0:u),!0,!0,!1,1e3),a.settings.readonly=A,M=!0,A||ka(".mbsc-fr-w",p).removeClass("mbsc-timer-locked"),a.trigger("onReset")},a.lap=function(){k&&(m=new Date-o+i,b=m-T,T=m,C.push(m),a.trigger("onLap",{ellapsed:m,lap:b,laps:C}))},a.resetlap=function(){k&&"stopwatch"==g.mode?a.lap():a.reset()},a.getTime=function(){return u},a.setTime=function(e){I=e/1e3,u=e},a.getEllapsedTime=function(){return M?0:k?new Date-o+i:h},a.setEllapsedTime=function(e,t){M||(i=h=e,o=new Date,a.setVal(s(f?h:u-h),!0,t,!1,1e3))},t(!0),V||u||(V="minutes"),"inline"!==g.display&&v.unshift("hide"),V||ka(y).each(function(e,t){if(!V&&u>=x[t].limit)return V=t,!1}),ka(y).each(function(e,t){!function(e){var t=1,a=x[e],s=a.wheel,n=a.prefix,i=a.until,o=x[y[ka.inArray(e,y)-1]];if(a.index<=x[V].index&&(!o||o.limit>S))if(w[e]||$[0].push(s),w[e]=1,s.data=[],s.label=a.label||"",s.cssClass="mbsc-timer-whl-"+e,S>=a.limit&&(t=Math.max(Math.round(S/a.limit),1),d=t*a.limit),e==V)s.min=0,s.data=function(e){return{value:e,display:l(e,n,a.label)}},s.getIndex=function(e){return e};else for(c=0;c<=i;c+=t)s.data.push({value:c,display:l(c,n,a.label)})}(t)}),d=Math.max(97,d),g.autostart&&setTimeout(function(){a.start()},0),a.handlers.toggle=a.toggle,a.handlers.start=a.start,a.handlers.stop=a.stop,a.handlers.resetlap=a.resetlap,a.handlers.reset=a.reset,a.handlers.lap=a.lap,a.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:g.startText,icon:g.startIcon,handler:"toggle"},a.buttons.start={text:g.startText,icon:g.startIcon,handler:"start"},a.buttons.stop={text:g.stopText,icon:g.stopIcon,handler:"stop"},a.buttons.reset={text:g.resetText,icon:g.resetIcon,handler:"reset"},a.buttons.lap={text:g.lapText,icon:g.lapIcon,handler:"lap"},a.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:g.resetText,icon:g.resetIcon,handler:"resetlap"},a.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:g.hideText,icon:g.closeIcon,handler:"cancel"},{minWidth:100,wheels:$,headerText:!1,readonly:A,buttons:v,compClass:"mbsc-timer mbsc-sc",parseValue:function(){return s(f?0:u)},formatValue:function(a){var s="",n=0;return ka(y).each(function(e,t){"fract"!=t&&w[t]&&(s+=a[n]+("seconds"==t&&w.fract?"."+a[n+1]:"")+" "+_[e]+" ",n++)}),s},validate:function(e){var a=e.values,e=e.index,s=0;M&&void 0!==e&&(I=0,ka(y).each(function(e,t){w[t]&&(I+=x[t].limit*a[s],s++)}),I/=1e3,t(!0))},onBeforeShow:function(){g.showLabel=!0},onMarkupReady:function(e){p=ka(e.target),n(),A&&ka(".mbsc-fr-w",p).addClass("mbsc-timer-locked")},onPosition:function(e){ka(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",ka(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(e)}}},l("timer",W);var Ee,$e="mbsc-input-wrap",Oe=["touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],Fe={tap:g};function Ye(e,t){var a={},s=e[0],n=e.parent(),i=n.find(".mbsc-err-msg"),o=e.attr("data-icon-align")||"left",l=e.attr("data-icon");n.hasClass($e)?n=n.parent():ka('<span class="'+$e+'"></span>').insertAfter(e).append(e),i&&n.find("."+$e).append(i),l&&(-1!==l.indexOf("{")?a=JSON.parse(l):a[o]=l),"file"==s.type&&(a.right=e.attr("data-icon-upload")||"upload"),(l||t)&&(Da(a,t),n.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find("."+$e).append('<span class="mbsc-input-fill"></span>').append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function Le(e,t,a,s,n){"segmented"==t?e.closest(".mbsc-segmented").addClass("box"==a?"mbsc-input-box":"").addClass("outline"==a?"mbsc-input-outline":""):"button"!=t&&"submit"!=t&&(e.addClass("mbsc-control-w").addClass("box"==a?"mbsc-input-box":"").addClass("outline"==a?"mbsc-input-outline":"").addClass("inline"==s?"mbsc-label-inline":"").addClass("stacked"==s?"mbsc-label-stacked":"").addClass("floating"==s?"mbsc-label-floating":"").addClass("floating"==s&&n.value?"mbsc-label-floating-active":"").find("label").addClass("mbsc-label").each(function(e,t){ka(t).attr("title",ka(t).text())}),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){ka('<span class="mbsc-label" title="'+this.textContent.trim()+'"></span>').insertAfter(this).append(this)}))}function He(e){e=Q.themes.form[e];return e&&e.addRipple?e:null}function Pe(e,t,a){t=e.attr(t);return void 0===t||""===t?a:t}function Ne(e){var t=D(e),a=Q.themes.form[t].baseTheme;return"mbsc-"+t+(a?" mbsc-"+a:"")+(e.rtl?" mbsc-rtl":" mbsc-ltr")}var We=function(){function e(e,t){var a=this,s=Da({},Fe,Q.settings,t),n=ka(e),i=n.parent(),o=i.hasClass("mbsc-input-wrap")?i.parent():i,l=n.next().hasClass("mbsc-fr")?n.next():null,r=Ca(n),t=Pe(n,"data-input-style",s.inputStyle),i=Pe(n,"data-label-style",s.labelStyle);e.mbscInst&&e.mbscInst.destroy(),l&&l.insertAfter(o),s.theme=D(s),void 0===s.rtl&&s.lang&&Q.i18n[s.lang]&&(s.rtl=Q.i18n[s.lang].rtl),Le(o,r,t,i,e),n.addClass("mbsc-control"),this._handle=this._handle.bind(this),Oe.forEach(function(e){n.on(e,a._handle)}),pa(e,"touchstart",this._handle,{passive:!0}),pa(e,"touchmove",this._handle,{passive:!0}),this.settings=s,this._type=r,this._elm=e,this._$elm=n,this._$parent=o,this._$frame=l,this._ripple=He(s.theme),this._isFloating="floating"==i||o.hasClass("mbsc-label-floating"),this.cssClass=Ne(s),this.getClassElm().addClass(this.cssClass),e.mbscInst=this}var t=e.prototype;return t.getClassElm=function(){return this._$parent},t.destroy=function(){var t=this,a=this._$elm,e=this._elm;a.removeClass("mbsc-control"),this.getClassElm().removeClass(this.cssClass),Oe.forEach(function(e){a.off(e,t._handle)}),ba(e,"touchstart",this._handle,{passive:!0}),ba(e,"touchmove",this._handle,{passive:!0}),delete e.mbscInst},t.option=function(e){Da(this.settings,e);e=this.getClassElm();this.cssClass&&e.removeClass(this.cssClass),this.cssClass=Ne(this.settings),e.addClass(this.cssClass),this._ripple=He(this.settings.theme)},t._handle=function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}},t._addRipple=function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)},t._removeRipple=function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()},t._onStart=function(e){var t=this._elm;ha(e,t)&&(this._startX=wa(e,"X"),this._startY=wa(e,"Y"),Ee&&Ee.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,(Ee=this._$elm).addClass("mbsc-active"),this._addRipple(e))),"touchstart"==e.type&&this._$elm.closest(".mbsc-no-touch").removeClass("mbsc-no-touch")},t._onMove=function(e){(this._isActive&&9<Math.abs(wa(e,"X")-this._startX)||9<Math.abs(wa(e,"Y")-this._startY))&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)},t._onEnd=function(e){var t=this,a=this._elm,s=this._type;this._isActive&&this.settings.tap&&"touchend"==e.type&&!a.readOnly&&Ta(a,s,e),this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,Ee=null},e}();Q.themes.form.mobiscroll={};function Re(t,e,a){var s,n,i,o,l=this;Sa.call(this,t,e,!0),l.__init=ca,l.__destroy=ca,l._init=function(){var e;o=l.settings,s=ka(t),e=!!n,n=(n=s.parent()).hasClass("mbsc-input-wrap")?n.parent():n,l._$parent=n,i&&n.removeClass(i),i=l._css+" mbsc-progress-w mbsc-control-w "+Ne(o),n.addClass(i),s.addClass("mbsc-control"),l.__init(),e||l._attachChange(),l.refresh(),t.mbscInst=l},l._destroy=function(){l.__destroy(),n.removeClass(i),s.removeClass("mbsc-control"),delete t.mbscInst},a||l.init()}function qe(n,i,e){var o,l,r,c,d,m,u,h,f,p,b,v,g,t,_=this;function a(){var e=y("value",u);e!==g&&s(e)}function y(e,t,a){e=l.attr(e);return void 0===e||""===e?t:a?e:+e}function s(e,t,a,s){e=Math.min(h,Math.max(e,u)),c.css("width",100*(e-u)/(h-u)+"%"),void 0===a&&(a=!0),void 0===s&&(s=a),e===g&&!t||_._display(e),e!==g&&(g=e,a&&l.attr("value",g),s&&l.trigger("change"))}Re.call(this,n,i,!0),_._display=function(e){t=v&&b.returnAffix?v.replace(/\{value\}/,e).replace(/\{max\}/,h):e,d&&d.html(t),o&&o.html(t)},_._attachChange=function(){l.on("change",a)},_.__init=function(){var e,t,a,s;if(b=_.settings,l=ka(n),s=!!r,r=_._$parent,u=_._min=void 0===i.min?y("min",b.min):i.min,h=_._max=void 0===i.max?y("max",b.max):i.max,f=void 0===i.inputStyle?y("data-input-style",b.inputStyle,!0):i.inputStyle,p=void 0===i.labelStyle?y("data-label-style",b.labelStyle,!0):i.labelStyle,g=y("value",u),e=l.attr("data-val")||b.val,a=(a=l.attr("data-step-labels"))?JSON.parse(a):b.stepLabels,v=l.attr("data-template")||(100!=h||b.template?b.template:"{value}%"),s?(e&&(o.remove(),r.removeClass("mbsc-progress-value-"+("right"==e?"right":"left"))),a&&ka(".mbsc-progress-step-label",m).remove()):(Le(r,null,f,p,n),Ye(l),r.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=_._$progress=r.find(".mbsc-progress-bar"),m=_._$track=r.find(".mbsc-progress-track")),l.attr("min",u).attr("max",h),e&&(o=ka('<span class="mbsc-progress-value"></span>'),r.addClass("mbsc-progress-value-"+("right"==e?"right":"left")).find(".mbsc-input-wrap").append(o)),a)for(t=0;t<a.length;++t)m.append('<span class="mbsc-progress-step-label" style="'+(b.rtl?"right":"left")+": "+100*(a[t]-u)/(h-u)+'%" >'+a[t]+"</span>");d=ka(l.attr("data-target")||b.target)},_.__destroy=function(){r.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),r.find(".mbsc-input-ic").remove(),l.off("change",a)},_.refresh=function(){s(y("value",u),!0,!1)},_.getVal=function(){return g},_.setVal=function(e,t,a){s(e,!0,t,a)},e||_.init()}qe.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},S("[mbsc-progress]",A.Progress=qe);function ze(a,e,t){var s,n,i,r,o,l,c,d,m,u,h,f,p,b,v,g,_,y,x,w,C,T,k,M,D,S,V,A,I,E,$,O,F,Y=this,L=new Date;function H(e){"mousedown"===e.type&&e.preventDefault(),!ha(e,this)||d&&!g||a.disabled||a.readOnly||(S.stopProp&&e.stopPropagation(),u=T=!(d=!0),A=wa(e,"X"),I=wa(e,"Y"),p=A,c.removeClass("mbsc-progress-anim"),n=k?ka(".mbsc-slider-handle",this):r,i&&i.removeClass("mbsc-handle-curr"),i=n.parent().addClass("mbsc-active mbsc-handle-curr"),s.addClass("mbsc-active"),v=+n.attr("data-index"),O=c[0].offsetWidth,f=c[0].getBoundingClientRect().left,"mousedown"===e.type&&(_=!0,ka(document).on("mousemove",P).on("mouseup",N)),"mouseenter"===e.type&&(g=!0,ka(document).on("mousemove",P)))}function P(e){d&&(p=wa(e,"X"),b=wa(e,"Y"),h=p-A,b=b-I,((T=5<Math.abs(h)?!0:T)||_||g)&&50<Math.abs(L-new Date)&&(L=new Date,j(p,S.round,x&&(!g||_))),T?e.preventDefault():7<Math.abs(b)&&"touchmove"==e.type&&X())}function N(e){d&&(e.preventDefault(),k||c.addClass("mbsc-progress-anim"),g&&!_?G(F[v],v,!1,!1,!0):j(p,!0,!0),T||u||("touchend"==e.type&&xa(),Y._onTap(F[v])),"mouseup"==e.type&&(_=!1),(g="mouseleave"==e.type?!1:g)||X())}function W(){d&&X()}function R(){var e=Y._readValue(ka(this)),t=+ka(this).attr("data-index");e!==F[t]&&(F[t]=e,G(M[t]=e,t))}function q(e){e.stopPropagation()}function z(e){e.preventDefault()}function B(e){var t;if(!a.disabled){switch(e.keyCode){case 38:case 39:t=1;break;case 40:case 37:t=-1}t&&(e.preventDefault(),$||(v=+ka(this).attr("data-index"),G(F[v]+D*t,v,!0),$=setInterval(function(){G(F[v]+D*t,v,!0)},200)))}}function U(e){e.preventDefault(),clearInterval($),$=null}function X(){d=!1,i.removeClass("mbsc-active"),s.removeClass("mbsc-active"),ka(document).off("mousemove",P).off("mouseup",N)}function j(e,t,a){e=t?Math.min(Math[Y._rounding||"round"](Math.max(100*(e-f)/O,0)/V/D)*D*100/(w-C+m),100):Math.max(0,Math.min(100*(e-f)/O,100));y&&(e=100-e),G(Math.round((C-m+e/V)*E)/E,v,a,e)}function G(e,t,a,s,n,i){var o=r.eq(t),l=o.parent();e=Math.min(w,Math.max(e,C)),void 0===i&&(i=a),Y._update?e=Y._update(e,F,t,s,k,n,l):l.css({left:y?"auto":(s||K(e,C,w))+"%",right:y?(s||K(e,C,w))+"%":"auto"}),C<e?l.removeClass("mbsc-slider-start"):(F[t]>C||n)&&l.addClass("mbsc-slider-start"),a&&(F[t]=e),a&&M[t]!=e&&(u=!0,M[t]=e,Y._fillValue(e,t,i)),o.attr("aria-valuenow",e)}Re.call(this,a,e,!0),Y._onTap=ca,Y.___init=ca,Y.___destroy=ca,Y._attachChange=function(){s.on(S.changeEvent,R)},Y.__init=function(){var e;r&&(e=!0,r.parent().remove()),Y.___init(),l=Y._$parent,c=Y._$track,s=l.find("input"),S=Y.settings,C=Y._min,w=Y._max,m=Y._base||0,D=Y._step,x=Y._live,E=D%1!=0?100/(100*+(D%1).toFixed(2)):1,V=100/(w-C+m)||100,k=1<s.length,y=S.rtl,F=[],M=[],s.each(function(e){F[e]=Y._readValue(ka(this)),ka(this).attr("data-index",e)}),r=l.find(".mbsc-slider-handle"),o=l.find(k?".mbsc-slider-handle-cont":".mbsc-progress-cont"),r.on("keydown",B).on("keyup",U).on("blur",U),o.each(function(e,t){pa(t,"touchstart",H,{passive:!0}),pa(t,"mousedown",H),pa(t,"touchend",N),pa(t,"touchcancel",N),pa(t,"pointercancel",W),S.hover&&(pa(t,"mouseenter",H),pa(t,"mouseleave",N))}),e||(s.on("click",q),l.on("click",z),pa(document,"touchmove",P,{passive:!1}))},Y.__destroy=function(){l.off("click",z),s.off(S.changeEvent,R).off("click",q),r.off("keydown",B).off("keyup",U).off("blur",U),o.each(function(e,t){ba(t,"touchstart",H,{passive:!0}),ba(t,"mousedown",H),ba(t,"touchend",N),ba(t,"touchcancel",N),ba(t,"pointercancel",W),ba(t,"mouseenter",H),ba(t,"mouseleave",N),ba(document,"touchmove",P,{passive:!1})}),Y.___destroy()},Y.refresh=function(){s.each(function(e){G(Y._readValue(ka(this)),e,!0,!1,!0,!1)})},Y.getVal=function(){return k?F.slice(0):F[0]},Y.setVal=Y._setVal=function(e,t,a){ka.isArray(e)||(e=[e]),ka.each(e,function(e,t){F[e]=t}),ka.each(e,function(e,t){G(t,e,!0,!1,!0,a)})},t||Y.init()}function Be(e,t,a){var s,n,l,r,i,c,d,m,u,h,f,o,p,b=this;qe.call(this,e,t,!0);var v=b.__init,g=b.__destroy;ze.call(this,e,t,!0);var _=b.__init,y=b.__destroy;b.__init=function(){v(),_()},b.__destroy=function(){g(),y()},b._update=function(e,t,a,s,n,i,o){return m?0===a?(e=Math.min(e,t[1]),l.css({width:K(t[1],f,h)-K(e,f,h)+"%",left:u?"auto":K(e,f,h)+"%",right:u?K(e,f,h)+"%":"auto"})):(e=Math.max(e,t[0]),l.css({width:K(e,f,h)-K(t[0],f,h)+"%"})):n||!c?o.css({left:u?"auto":(s||K(e,f,h))+"%",right:u?(s||K(e,f,h))+"%":"auto"}):l.css("width",(s||K(e,f,h))+"%"),d&&r.eq(a).html(e),n||t[a]==e&&!i||b._display(e),e},b._readValue=function(e){return+e.val()},b._fillValue=function(e,t,a){s.eq(t).val(e),a&&s.eq(t).trigger("change")},b._markupReady=function(){var e,t;if(d&&n.addClass("mbsc-slider-has-tooltip"),1!=o)for(t=(h-f)/o,e=0;e<=t;++e)i.append('<span class="mbsc-slider-step" style="'+(u?"right":"left")+":"+100/t*e+'%"></span>');s.each(function(e,t){var a=+t.value;"range"==t.type&&ka(t).attr("min",f).attr("max",h).attr("step",o),(c?l:i).append('<span class="mbsc-slider-handle-cont'+(m&&!e?" mbsc-slider-handle-left":"")+(m&&!e&&(h-f)/2<a?" mbsc-handle-curr":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+f+'" aria-valuemax="'+h+'" data-index="'+e+'"></span>'+(d?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),r=n.find(".mbsc-slider-tooltip")},b.___init=function(){n&&(n.removeClass("mbsc-slider-has-tooltip"),1!=o&&ka(".mbsc-slider-step",i).remove()),n=b._$parent,i=b._$track,l=b._$progress,s=n.find("input"),p=b.settings,f=b._min,h=b._max,b._step=o=void 0===t.step?+s.attr("step")||p.step:t.step,b._live=x("data-live",p.live,s),d=x("data-tooltip",p.tooltip,s),c=x("data-highlight",p.highlight,s)&&s.length<3,m=c&&2==s.length,u=p.rtl,b._markupReady()},a||b.init()}function Ue(e){var a=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return ka.each(a,function(e,t){1==t.length&&(a[e]="0"+t)}),"#"+a.join("")}function Xe(e){return{r:(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function je(e){var t,a,s,n=e.h,i=255*e.s/100,o=255*e.v/100;return 0==i?t=a=s=o:(o=n%60*((e=o)-(i=(255-i)*o/255))/60,(n=360==n?0:n)<60?(t=e,a=(s=i)+o):n<120?(s=i,t=(a=e)-o):n<180?(a=e,s=(t=i)+o):n<240?(t=i,a=(s=e)-o):n<300?(s=e,t=(a=i)+o):n<360?(a=i,s=(t=e)-o):t=a=s=0),{r:t,g:a,b:s,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function Ge(e){var t=0,a=Math.min(e.r,e.g,e.b),s=Math.max(e.r,e.g,e.b),n=s-a,i=s,a=s?255*n/s:0,t=a?e.r==s?(e.g-e.b)/n:e.g==s?2+(e.b-e.r)/n:4+(e.r-e.g)/n:-1;return(t*=60)<0&&(t+=360),{h:t,s:a*=100/255,v:i*=100/255,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function Ke(e){var t,a=e.r/255,s=e.g/255,n=e.b/255,i=Math.max(a,s,n),o=Math.min(a,s,n),e=(i+o)/2;if(i==o)t=r=0;else{var l=i-o,r=.5<e?l/(2-i-o):l/(i+o);switch(i){case a:t=(s-n)/l+(s<n?6:0);break;case s:t=(n-a)/l+2;break;case n:t=(a-s)/l+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*r),l:Math.round(100*e),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function Ze(e){return Ke(Xe(e))}function Je(e){return Ue((n=(t=e).h,i=t.s,e=t.l,isFinite(n)||(n=0),isFinite(i)||(i=0),isFinite(e)||(e=0),(n/=60)<0&&(n=6- -n%6),n%=6,i=Math.max(0,Math.min(1,i/100)),e=Math.max(0,Math.min(1,e/100)),i=(t=(1-Math.abs(2*e-1))*i)*(1-Math.abs(n%2-1)),i=n<1?(a=t,s=i,0):n<2?(a=i,s=t,0):n<3?(a=0,s=t,i):n<4?(a=0,s=i,t):n<5?(a=i,s=0,t):(a=t,s=0,i),t=e-t/2,{r:Math.round(255*(a+t)),g:Math.round(255*(s+t)),b:Math.round(255*(i+t)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}));var t,a,s,n,i}function Qe(e){return Ue(je(e))}function et(e){return Ge(Xe(e))}Be.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},S("[mbsc-slider]",A.Slider=Be);d=function(a,e,t){var c,s,d,n,m,u,i,o,l,r,h,f,p,b,v,g,_,y,x,w,C,T,k,M,D,S=this,V=ka(a),A=0,I={},E={};function $(e,t,a){if(!a){S._value=S._hasValue?S._tempValue.slice(0):null;for(var s=0;s<d.length;++s)d[s].tempChangedColor&&S._value&&-1!=S._value.indexOf(d[s].tempChangedColor)&&(d[s].changedColor=d[s].tempChangedColor),delete d[s].tempChangedColor}e&&(S._isInput&&V.val(S._hasValue?S._tempValue:""),n("onFill",{valueText:S._hasValue?S._tempValue:"",change:t}),t&&(I=Da(!0,{},E),S._preventChange=!0,V.trigger("change")),P(S._value,!0))}function O(e,t){return'<div class="mbsc-color-input-item" data-color="'+(void 0!==(t=void 0!==t?t:Y(e))?t:e)+'" style="background: '+e+';">'+(y?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function F(e){f[0].style.background=e?_a+"linear-gradient(left, "+(c.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(c.rtl?"#FFFFFF":"#000000")+" 100%)":""}function Y(e){if(Object.keys(E).length&&!isNaN(e))return e;for(var t in d)if(e==d[t].color||e==d[t].changedColor)return t}function L(e,t){var a,s=e.match(/\d+/gim);switch(!0){case-1<e.indexOf("rgb"):a=Ue({r:s[0],g:s[1],b:s[2]});break;case-1<e.indexOf("hsl"):a=Je({h:s[0],s:s[1],l:s[2]});break;case-1<e.indexOf("hsv"):a=Qe({h:s[0],s:s[1],v:s[2]});break;case-1<e.indexOf("#"):a=e}return function(e,t){switch(t){case"rgb":return Xe(e);case"hsl":return Ze(e);case"hsv":return et(e);default:return e}}(a,t||c.format)}function H(e,t){ka(".mbsc-color-active",t).removeClass("mbsc-color-active"),p&&(e.parent().addClass("mbsc-color-active"),h&&e&&void 0!==A&&k.eq(A).parent().addClass("mbsc-color-active"))}function P(e,t){var a,s,n,i=[],o=0,l=ka.map(d,function(e){return e.changedColor||e.color});if(y)e=ka.isArray(e)?e[0]:e,-1<(s=l.indexOf(e))&&i.push(s),e&&!i.length&&p&&(n=+ka(".mbsc-color-input-item",C).attr("data-color"),isNaN(n)?n=void 0:i.push(n),g=n);else if(e)if(h&&p)for(var r in I)void 0!==I[r].colorIndex&&i.push(+I[r].colorIndex);else for(a=0;a<e.length;++a)-1<(s=l.indexOf(e[a]))&&(i.push(s),l[s]="temp"+a);for(a=0;a<i.length;++a)d[i[a]]&&N(!0,i[a],o++,d[i[a]].changedColor||d[i[a]].color,!0);for(a=0;a<d.length;++a)-1==i.indexOf(a)&&N(!1,a,void 0,d[a].changedColor||d[a].color,!1);if(h)for(a=o;a<c.select;++a)E[a]={},k&&k.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});I=Da(!0,{},E),!1!==t&&function(){if(_){var e,t="";if(C.empty(),S._hasValue){if(y)t+=O(S._value,g);else for(e=0;e<S._value.length;++e)t+=O(S._value[e],Object.keys(E).length&&E[e].colorIndex?E[e].colorIndex:Y(S._value[e]));C.append(t),S.tap(ka(".mbsc-color-input-item",C),function(e){var t;ka(e.target).hasClass("mbsc-color-input-item-close")?(t=ka(this).index(),e.stopPropagation(),e.preventDefault(),void 0===g&&(g=ka(e.target).parent().attr("data-color")),h&&d[g]&&(A=d[g].previewInd,k.eq(A).parent().removeClass("mbsc-color-active"),I[t]={},E[t]={}),S._value.splice(t,1),S.setVal(S._value,!0,!0)):p&&"inline"!==c.display&&(g=ka(e.target).attr("data-color"),(g=isNaN(g)?Y(g):g)&&d[g]&&(d[g].selected=!0,A=d[g].previewInd,setTimeout(function(){m.scroll(T.eq(g),400),h&&u.scroll(k.eq(A),400)},200)))})}}}()}function N(e,t,a,s,n,i){h&&n&&(E[a].colorIndex=e?t:void 0,E[a].color=e?s:void 0,k&&((n=k.eq(a)).removeClass("mbsc-color-preview-item-empty").css({background:e?s:"transparent"}),e||n.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active"))),i&&(e?S._tempValue.splice(a,0,s):S._tempValue.splice(S._tempValue.indexOf(s),1)),T&&(e?T.eq(t).addClass("mbsc-color-selected"):T.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),d[t].previewInd=e?a:void 0,d[t].selected=e}function W(e,t){void 0!==e&&(y||d[e]&&d[e].selected)?d[g=e]&&(o=d[e].changedColor||d[e].color,M=T.eq(e),p&&(H(T.eq(e),t||""),(l=L(d[e].color,"hsl")).l=L(o,"hsl").l,F(d[e].color),v.setVal(100-l.l,!1,!1))):p&&F()}function R(e,t){var a=ka(e.target).index();g=E[a].colorIndex,M=T.eq(g),A=a,W(g,t),m.scroll(M,250),n("onPreviewItemTap",{target:e.target,value:E[a].color,index:a})}function q(e,t){var a=!1,s=ka(".mbsc-color-selected",t);if((M=ka(e.target)).hasClass("mbsc-color-clear-item"))return o="",void S.clear();(y||x>+s.length||M.hasClass("mbsc-color-selected"))&&(g=M.attr("data-index"),h&&(A=void 0!==d[g].previewInd?d[g].previewInd:function(){for(var e=0;e<c.select;++e)if(void 0===E[e].colorIndex)return e}(),a=p&&M.hasClass("mbsc-color-selected")&&!M.parent().hasClass("mbsc-color-active"),6<k.length&&u.scroll(k.eq(A))),o=d[g].changedColor||d[g].color,y?(s.removeClass("mbsc-color-selected"),(S._tempValue=o)&&M.toggleClass("mbsc-color-selected"),H(M,t)):(H(M,t),a||N(!d[g].selected,g,A,o,!0,!0)),W(g,t),S.live&&(S._fillValue(),n("onSet",{value:S._value})),n("onItemTap",{target:e.target,value:o,selected:d[g].selected,index:g}),S._updateHeader())}z.call(this,a,e,!0),S.setVal=S._setVal=function(e,t,a,s){S._hasValue=null!=e,S._tempValue=y?ka.isArray(e)?e[0]:e:ka.isArray(e)?e:e?[e]:[],$(t,void 0===a?t:a,s)},S.getVal=S._getVal=function(e){return S._hasValue||e?w?function(){for(var e=[],t=0;t<d.length;++t)d[t].selected&&e.push(d[t]);return e}():S[e?"_tempValue":"_value"]:null},S._readValue=function(){var e=V.val()||"";S._hasValue=!1,0!==e.length&&""!==e&&(S._hasValue=!0),S._hasValue?(S._tempValue=y?e:"hex"==c.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),$(!0)):S._tempValue=[],P(S._tempValue,S._hasValue)},S._fillValue=function(){$(S._hasValue=!0,!0)},S._generateContent=function(){var e,t,a,s=i?1:0;for(b=r?Math.ceil((d.length+s)/c.rows):c.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(r?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(r?'<div class="mbsc-color-row">':""),e=0;e<d.length;++e)a=d[e].changedColor||d[e].color,i&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+s)%b==0&&(t+=r?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(d[e].selected?"mbsc-color-selected":"")+'"  style="background:'+a+'"></div></div>';if(t+="</div></div>"+(r?"</div>":""),p&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),h){for(var n in t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">',I)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(I[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(I[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},S._position=function(e){var t,a;r||(t=e.find(".mbsc-color-cont"),a=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/a),Math.round(d.length/c.rows))*a+1)),m&&m.refresh(),u&&u.refresh()},S._markupInserted=function(t){r||t.find(".mbsc-color-scroll-cont").css("max-height",t.find(".mbsc-color-item-c")[0].offsetHeight*c.rows),m=new it(t.find(".mbsc-color-scroll-cont")[0],{axis:r?"X":"Y",rtl:c.rtl,elastic:60,stopProp:!1,mousewheel:c.mousewheel,onBtnTap:function(e){q(e,t)}})},S._attachEvents=function(t){var e;T=ka(".mbsc-color-item",t),t.on("keydown",".mbsc-color-btn-e",function(e){e.stopPropagation(),32==e.keyCode&&(e.target.classList.contains("mbsc-color-item")?q:R)(e,t)}),h&&(k=ka(".mbsc-color-preview-item",t)),p&&(t.addClass("mbsc-color-refine"),D=ka(".mbsc-color-slider",t),v=new Be(D[0],{theme:c.theme,rtl:c.rtl}),f=t.find(".mbsc-progress-track"),g&&S._value&&W(g,t),D.on("change",function(){void 0!==g&&(y||d[g]&&d[g].selected)&&(l.l=100-this.value,e=L(l.toString()).toString(),y?S._tempValue=e:S._tempValue[void 0!==A?A:S._tempValue.length]=e,d[g].tempChangedColor=e,T.eq(g).css("background",e),h&&(E[A].color=e,k.eq(A).removeClass("mbsc-color-preview-item-empty").css({background:e})),S.live&&ma(S._fillValue()))})),h&&(u=new it(t.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:c.rtl,stopProp:!1,mousewheel:c.mousewheel,onBtnTap:function(e){R(e,t)}})),S._updateHeader()},S._markupRemove=function(){m&&m.destroy(),v&&v.destroy(),u&&u.destroy()},S.__processSettings=function(){var e,t;if(c=S.settings,n=S.trigger,r="horizontal"==c.navigation,S._value=[],S._tempValue=[],y="single"==c.select,i=void 0!==c.clear?c.clear:y,!(t=c.data||[]).length)switch(c.format){case"rgb":t=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],i&&t.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":t=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],i&&t.splice(10,0,"hsl(20, 12%, 29%)");break;default:t=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],i&&t.splice(10,0,"#534741")}if(p="refine"==c.mode,h=!isNaN(c.select),x=isNaN(c.select)?y?2:t.length:c.select,w=ka.isPlainObject(t[0]),h&&!Object.keys(I).length)for(e=0;e<c.select;++e)I[e]={},E[e]={};for(d=t.slice(0),e=0;e<d.length;++e)ka.isPlainObject(t[e])?d[e].color=t[e].color:(t[e]=t[e].toLowerCase(),d[e]={key:e,name:t[e],color:t[e]});s=c.defaultValue||d[0].color,l=L(o=s,"hsl"),(_=c.enhance&&V.is("input"))&&(V.hasClass("mbsc-color-input-hdn")?C=V.prev():((C=ka("<div "+(a.placeholder?'data-placeholder="'+a.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(c.inputClass||"")+'" readonly ></div>')).insertBefore(V),V.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),c.anchor=C,S.attachShow(C))},S.__destroy=function(){_&&(V.removeClass("mbsc-color-input-hdn"),C.remove())},S._checkSize=!0,t||S.init()};d.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:Da({},z.prototype._defaults,{headerText:!1,validate:ca,parseValue:ca,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal",compClass:"mbsc-color"})},A.Color=d,Q.themes.color=Q.themes.frame,l("color",d,!(s.color={hsv2hex:Qe,hsv2rgb:je,rgb2hsv:Ge,rgb2hex:Ue,rgb2hsl:Ke,hex2rgb:Xe,hex2hsv:et,hex2hsl:Ze}));var tt={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0};B.range=function(r){function a(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function s(e,t){var a=r._order,e=new Date(e);return void 0===a.h&&e.setHours(t?23:0),void 0===a.i&&e.setMinutes(t?59:0),void 0===a.s&&e.setSeconds(t?59:0),e.setMilliseconds(t?999:0),e}function t(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function n(e){b?(C-x>I.maxRange-1&&(e?x=new Date(Math.max(_,C-I.maxRange+1)):C=new Date(Math.min(g,+x+I.maxRange-1))),C-x<I.minRange-1&&(e?x=new Date(Math.max(_,C-I.minRange+1)):C=new Date(Math.min(g,+x+I.minRange-1)))):(Math.ceil((C-x)/O)>Y&&(e?x=s(Math.max(_,t(C,1-Y)),!1):C=s(Math.min(g,t(x,Y-1)),!0)),Math.ceil((C-x)/O)<F&&(e?x=s(Math.max(_,t(C,1-F)),!1):C=s(Math.min(g,t(x,F-1)),!0)))}function i(e,t){var a=!0;return e&&x&&C&&(n(V),n(!V)),x&&C||(a=!1),t&&l(),a}function o(){M&&h&&(ka(".mbsc-range-btn",h).removeClass(H).removeAttr("aria-checked"),ka(".mbsc-range-btn",h).eq(V).addClass(H).attr("aria-checked","true"))}function l(){var e,t,a,s,n,i=0,o=$||!V?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=$||V?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(r.startVal=x?xe(p,x,I):"",r.endVal=C?xe(p,C,I):"",h&&(ka(".mbsc-range-btn-v-start",h).html(r.startVal||"&nbsp;"),ka(".mbsc-range-btn-v-end",h).html(r.endVal||"&nbsp;"),e=x?new Date(x):null,a=C?new Date(C):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),n=V?a:e,ka(".mbsc-cal-day-picker .mbsc-cal-day-hl",h).removeClass(P),ka(".mbsc-cal-day-picker .mbsc-selected",h).removeClass("mbsc-cal-sel-start mbsc-cal-sel-end "+H).removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),s=a.setHours(0,0,0,0);e<=a&&i<126;)ka('.mbsc-cal-day[data-full="'+n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+'"]',h).addClass(H+" "+(n.getTime()===t?o:"")+(n.getTime()===s?l:"")).attr("aria-selected","true"),n.setDate(n.getDate()+(V?-1:1)),n.setHours(0,0,0,0),i++}function c(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}function d(){x&&(v=!0,r.setDate(x,!1,0,!0),x=r.getDate(!0)),C&&(v=!0,r.setDate(C,!1,0,!0),C=r.getDate(!0))}function m(e){ha(e,this)&&(r._showDayPicker(),r.setActiveDate(ka(this).attr("data-select")))}var u,h,f,p,b,v,g,_,y,x,w,C,T,k,M,D=r._startDate,S=r._endDate,V=0,e=new Date,A=Da({},r.settings),I=Da(r.settings,tt,A),E=I.anchor,$=I.rangeTap,O=864e5,F=Math.max(1,Math.ceil(I.minRange/O)),Y=Math.max(1,Math.ceil(I.maxRange/O)),L="mbsc-disabled "+(I.disabledClass||""),H="mbsc-selected "+(I.selectedClass||""),P="mbsc-cal-day-hl",N=null===I.defaultValue?[]:I.defaultValue||[new Date(e.setHours(0,0,0,0)),new Date(e.getFullYear(),e.getMonth(),e.getDate()+6,23,59,59,999)];return $&&(I.tabs=!0),u=Se.call(this,r),p=r._format,b=/time/i.test(I.controls.join(",")),k="time"===I.controls.join(""),M=I.showSelector,g=I.max?s(dt(I.max,p,I),!0):1/0,_=I.min?s(dt(I.min,p,I),!1):-1/0,N[0]=dt(N[0],p,I,I.isoParts),N[1]=dt(N[1],p,I,I.isoParts),I.startInput&&r.attachShow(ka(I.startInput),function(){V=0,I.anchor=E||ka(I.startInput)}),I.endInput&&r.attachShow(ka(I.endInput),function(){V=1,I.anchor=E||ka(I.endInput)}),r._getDayProps=function(e,t){var a=x?new Date(x.getFullYear(),x.getMonth(),x.getDate()):null,s=C?new Date(C.getFullYear(),C.getMonth(),C.getDate()):null;return{selected:a&&s&&a<=e&&e<=C,cssClass:t.cssClass+" "+(($||!V)&&a&&a.getTime()===e.getTime()||($||V)&&s&&s.getTime()===e.getTime()?P:"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},r.setVal=function(e,t,a,s,n){var i=e||[],e=e;x=dt(i[0],p,I,I.isoParts),C=dt(i[1],p,I,I.isoParts),d(),r.startVal=x?xe(p,x,I):"",r.endVal=C?xe(p,C,I):"",e=u.parseValue(V?C:x,r),s||(r._startDate=D=x,r._endDate=S=C),y=!0,r._setVal(e,t,a,s,n)},r.getVal=function(e){return e?[Ce(x,I,p),Ce(C,I,p)]:r._hasValue?[Ce(D,I,p),Ce(S,I,p)]:null},r.setActiveDate=function(e){V="start"==e?0:1,e="start"==e?x:C,r.isVisible()&&(o(),$||(ka(".mbsc-cal-table .mbsc-cal-day-hl",h).removeClass(P),e&&ka('.mbsc-cal-day[data-full="'+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+'"]',h).addClass(P)),e&&(v=!0,r.setDate(e,!1,1e3,!0)))},r.getValue=r.getVal,Da({},u,{highlight:!1,outerMonthChange:!1,formatValue:function(){return r.startVal+(!I.endInput&&r.endVal?" - "+r.endVal:"")},parseValue:function(e){var t=e?e.split(" - "):[],e=I.startInput?ka(I.startInput).val():t[0],t=I.endInput?ka(I.endInput).val():t[1];return I.defaultValue=N[1],S=t?we(p,t,I):N[1],I.defaultValue=N[0],D=e?we(p,e,I):N[2],I.defaultValue=N[V],r.startVal=D?xe(p,D,I):"",r.endVal=S?xe(p,S,I):"",r._startDate=D,r._endDate=S,u.parseValue(V?S:D,r)},onFill:function(e){e=e.change,r._startDate=D=x,r._endDate=S=C,I.startInput&&(ka(I.startInput).val(r.startVal),e&&ka(I.startInput).trigger("change")),I.endInput&&(ka(I.endInput).val(r.endVal),e&&ka(I.endInput).trigger("change"))},onBeforeClose:function(e){if("set"===e.button&&!i(!0,!0))return r.setActiveDate(V?"start":"end"),!1},onHide:function(){u.onHide.call(r),V=0,h=null,I.anchor=E},onClear:function(){$&&(V=0)},onBeforeShow:function(){x=D||N[0],C=S||N[1],w=c(x,0),T=c(C,1),I.counter&&(I.headerText=function(){var e=x&&C?Math.max(1,Math.round((new Date(C).setHours(0,0,0,0)-new Date(x).setHours(0,0,0,0))/864e5)+1):0;return(1<e&&I.selectedPluralText||I.selectedText).replace(/{count}/,e)}),y=!0},onMarkupReady:function(e){d(),(V&&C||!V&&x)&&(v=!0,r.setDate(V?C:x,!1,0,!0)),l(),u.onMarkupReady.call(this,e),(h=ka(e.target)).addClass("mbsc-range"),M&&(e='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" data-select="start" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(r.startVal||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" data-select="end" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(r.endVal||"&nbsp;")+"</div></div></div></div>",I.headerText?ka(".mbsc-fr-hdr",h).after(e):ka(".mbsc-fr-w",h).prepend(e),o()),ka(".mbsc-range-btn",h).each(function(e,t){pa(t,"touchstart",m,{passive:!0}),pa(t,"click",m)})},onDayChange:function(e){e.active=V?"end":"start",f=!0},onSetDate:function(e){var t;v||(t=s(e.date,V),y&&!f||($&&f&&((V=1==V&&t<x?0:V)?t.setHours(T.h,T.i,T.s,999):t.setHours(w.h,w.i,w.s,0)),V?(C=new Date(t),T=c(C)):(x=new Date(t),w=c(x)),k&&I.autoCorrect&&(a(x,t),a(C,t)),$&&f&&!V&&(C=null))),k&&!I.autoCorrect&&C<x&&(C=new Date(C.setDate(C.getDate()+1))),r._isValid=i(y||f||I.autoCorrect,!v),e.active=V?"end":"start",!v&&$&&(f&&(V=V?0:1),o()),r.isVisible()&&(r._isValid?ka(".mbsc-fr-btn-s .mbsc-fr-btn",r._markup).removeClass(L):ka(".mbsc-fr-btn-s .mbsc-fr-btn",r._markup).addClass(L)),v=y=f=!1},onTabChange:function(e){"calendar"!=e.tab&&r.setDate(V?C:x,!1,1e3,!0),i(!0,!0)}})},l("range",W),l("scroller",W,!1);var Va,Aa="mbsc-selected",Ia="mbsc-lv-item-active",Ea="ios"==r&&7<a,$a=1,Oa="transparent",h=function(e,t){var o,l,r,c,s,d,m,g,u,h,f,p,b,a,v,n,i,_,y,x,w,C,T,k,M,D,S,V,A,I,E,$,O,F,Y,L,H,P,N,W,R,q,z,B,U,X,j,G,K,Z,J,Q,ee,te,ae,se,ne,ie,oe,le,re,ce,de,me,ue,he,fe,pe,be,ve,ge,_e,ye,xe,we,Ce,Te,ke,Me,De,Se,Ve,Ae,Ie,Ee,$e,Oe,Fe,Ye,Le,He,Pe,Ne,We,Re,qe,ze,Be,Ue,Xe,je,Ge,Ke,Ze,Je,Qe,et,tt=this,at=e,st=ka(at),nt=0,it=0,ot=0,lt={},rt={},ct={};function dt(){ve=ke=!1,Fe=c=0,Ye=new Date,Z=f.width(),a=Rt(f),ee=a.index(J),Q=J[0].offsetHeight,ot=J[0].offsetTop,Ue=Xe[J.attr("data-type")||"defaults"],Oe=Ue.stages}function mt(e){var t,a=va(u,e.target,".mbsc-lv-item");a&&u.contains(a)&&("touchstart"===e.type&&(g.removeClass("mbsc-no-touch"),ge=!0,clearTimeout(_e)),!ha(e,a)||o||nt||Va||aa||(j=!(s=o=!0),K="touchstart"===e.type,Le=wa(e,"X"),He=wa(e,"Y"),x=y=0,J=ka(a),t=J,dt(),qe=Ue.actionable||J.hasClass("mbsc-lv-parent")||J.hasClass("mbsc-lv-back"),se=J.offset().top,qe&&(r=setTimeout(function(){t.addClass(K?Ia:""),V("onItemActivate",{target:t[0],domEvent:e})},120)),tt.sortable&&!J.hasClass("mbsc-lv-back")&&(tt.sortable.group||(fe=J.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),ye=J.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),re=(tt.sortable.group?f.children(ae).eq(0):ye.length?ye.eq(-1):J)[0].offsetTop-ot,le=(tt.sortable.group?f.children(ae).eq(-1):fe.length?fe.eq(-1):J)[0].offsetTop-ot,tt.sortable.handle?ka(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(r),Be=setTimeout(function(){_t()},100)):Be=setTimeout(function(){A.appendTo(J),A[0].style[ya+"Animation"]="mbsc-lv-fill "+(Se.sortDelay-100)+"ms linear",clearTimeout(M),clearTimeout(r),s=!1,Be=setTimeout(function(){A[0].style[ya+"Animation"]="",_t()},Se.sortDelay-80)},80)),"mousedown"==e.type&&ka(document).on("mousemove",ut).on("mouseup",ht)))}function ut(e){var t,a,s=!1,n=!0,i=c;o&&(D=wa(e,"X"),S=wa(e,"Y"),y=D-Le,x=S-He,clearTimeout(M),T||Ne||Ve||J.hasClass("mbsc-lv-back")||(10<Math.abs(x)?(Ve=!0,ht(Da({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(r)):7<Math.abs(y)&&bt()),Ne?(e.preventDefault(),c=y/Z*100,vt(i)):T?(e.preventDefault(),a=Ke.scrollTop(),i=Math.max(re,Math.min(x+Qe,le)),Je+a<(e=F?se-et+a-Qe:se)+i+Q?(Ke.scrollTop(e+i-Je+Q),t=!0):e+i<a&&(Ke.scrollTop(e+i),t=!0),t&&(Qe+=Ke.scrollTop()-a),ue&&(tt.sortable.multiLevel&&me.hasClass("mbsc-lv-parent")?ue<ot+Q/4+i?s=!0:ue<ot+Q-Q/4+i&&(w=me.addClass("mbsc-lv-item-hl"),n=!1):ue<ot+Q/2+i&&(me.hasClass("mbsc-lv-back")?tt.sortable.multiLevel&&(C=me.addClass("mbsc-lv-item-hl"),n=!1):s=!0),s&&(xe.insertAfter(me),me=zt(we=me,"next"),Ce=ue,ue=me.length&&me[0].offsetTop,h++)),!s&&Ce&&(tt.sortable.multiLevel&&we.hasClass("mbsc-lv-parent")?ot+Q-Q/4+i<Ce?s=!0:ot+Q/4+i<Ce&&(w=we.addClass("mbsc-lv-item-hl"),n=!1):ot+Q/2+i<Ce&&(we.hasClass("mbsc-lv-back")?tt.sortable.multiLevel&&(C=we.addClass("mbsc-lv-item-hl"),n=!1):s=!0),s&&(xe.insertBefore(we),we=zt(me=we,"prev"),ue=Ce,Ce=we.length&&we[0].offsetTop+we[0].offsetHeight,h--)),n&&(w&&(w.removeClass("mbsc-lv-item-hl"),w=!1),C&&(C.removeClass("mbsc-lv-item-hl"),C=!1)),s&&V("onSortChange",{target:J[0],index:h}),Et(J,i),V("onSort",{target:J[0],index:h})):(5<Math.abs(y)||5<Math.abs(x))&&$t())}function ht(e){var t,a,s=J;o&&(o=!1,$t(),"mouseup"==e.type&&ka(document).off("mousemove",ut).off("mouseup",ht),Ve||(_e=setTimeout(function(){ge=!1},300)),(Ne||Ve||T)&&(ve=!0),Ne?gt():T?(a=f,w?(Lt(J.detach()),t=ct[w.attr("data-ref")],h=Rt(t.child).length,w.removeClass("mbsc-lv-item-hl"),Se.navigateOnDrop?Kt(w,function(){tt.add(null,J,null,null,w,!0),jt(J),yt(J,ee,a,!0)}):(tt.add(null,J,null,null,w,!0),yt(J,ee,a,!0))):C?(Lt(J.detach()),t=ct[C.attr("data-back")],h=Rt(t.parent).index(t.item)+1,C.removeClass("mbsc-lv-item-hl"),Se.navigateOnDrop?Kt(C,function(){tt.add(null,J,h,null,f,!0),jt(J),yt(J,ee,a,!0)}):(tt.add(null,J,h,null,t.parent,!0),yt(J,ee,a,!0))):(t=xe[0].offsetTop-ot,Et(J,t,6*Math.abs(t-Math.max(re,Math.min(x+Qe,le))),function(){Lt(J),J.insertBefore(xe),yt(J,ee,a,h!==ee)})),T=!1):!Ve&&Math.abs(y)<5&&Math.abs(x)<5&&(j=!0,"touchend"===e.type&&Se.tap&&Ta(e.target,Ca(ka(e.target)),e)),clearTimeout(r),setTimeout(function(){s.removeClass(Ia),V("onItemDeactivate",{target:s[0]})},100),Ve=!1,v=null)}function ft(e){var t;j&&(t="true"==J.attr("data-selected"),Ue.tap&&Ue.tap.call(at,{target:J,index:ee,domEvent:e},tt),qe&&!J.hasClass(Ia)&&(J.addClass(K?Ia:""),V("onItemActivate",{target:J[0],domEvent:e})),Ae&&(de?(t?ta:ea)(J):(ta(ka(ae,g).filter("."+Aa)),ea(J))),!1!==V("onItemTap",{target:J[0],index:ee,domEvent:e,selected:t})&&Kt(J))}function pt(e){va(u,e.target,".mbsc-lv-ic-m")&&(_||(e.stopPropagation(),e.preventDefault()),Le=wa(e,"X"),He=wa(e,"Y"))}function bt(){(Ne=Ht(Ue.swipe,{target:J[0],index:ee,direction:0<y?"right":"left"}))&&($t(),clearTimeout(r),Ue.actions?(l=Xt(Ue,y),ce.html(Ue.icons).show().children().css("width",l+"%"),U.hide(),ka(".mbsc-lv-ic-m",X).removeClass("mbsc-lv-ic-disabled"),ka(Ue.leftMenu).each(Mt),ka(Ue.rightMenu).each(Mt)):(U.show(),ce.hide(),n=Ue.start,v=Oe[n],Te=Oe[n-1],he=Oe[n+1]),J.addClass("mbsc-lv-item-swiping").removeClass(Ia),ze.css("line-height",Q+"px"),X.css({top:ot,height:Q,backgroundColor:Bt(y)}).addClass("mbsc-lv-stage-c-v").appendTo(f.parent()),Se.iconSlide&&J.append(U),V("onSlideStart",{target:J[0],index:ee}))}function vt(e){var t=!1;De||(Ue.actions?X.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(c<0?"right":"left")):(Te&&(c<0?c<=Te.percent:c<v.percent)?(he=v,v=Te,Te=Oe[--n-1],t=!0):he&&(c<0?c>v.percent:c>=he.percent)&&(Te=v,v=he,he=Oe[++n+1],t=!0),v&&(!t&&0<c!=e<=0||Ot(v,Se.iconSlide),t&&V("onStageChange",{target:J[0],index:ee,stage:v}))),Ie||(De=!0,Me=la(Vt)))}function gt(t){function e(e){va(u,e.target,".mbsc-lv-ic-m")||(e.preventDefault(),At(J,!0,t))}var a,s,n=J[0],i=!1;ra(Me),De=!1,Ie||Vt(),Ue.actions?10<Math.abs(c)&&l&&(It(J,c<0?-l:l,200),Va=i=!0,d=J,m=ee,n.__mbscOff&&n.__mbscOff(),pa(document,"touchstart",e,{passive:!1}),pa(document,"mousedown",e),n.__mbscOff=function(){ba(document,"touchstart",e,{passive:!1}),ba(document,"mousedown",e),delete n.__mbscOff}):c&&(Se.quickSwipe&&!Ie&&(a=(s=new Date-Ye)<300&&50<y,s<300&&y<-50?(ke=!0,Ot(v=Ue.left,Se.iconSlide)):a&&(ke=!0,Ot(v=Ue.right,Se.iconSlide))),v&&v.action&&(Ht(v.disabled,{target:J[0],index:ee})||(i=!0,(Va=Ie||Ht(v.confirm,{target:J[0],index:ee}))?(It(J,(c<0?-1:1)*U[0].offsetWidth*100/Z,200,!0),St(v,J,ee,!1,t)):Dt(v,J,ee,t)))),i||At(J,!0,t),Ne=!1}function _t(){C=w=!(T=!0),Qe=0,h=ee,Se.vibrate&&ua(),me=zt(J,"next"),ue=me.length&&me[0].offsetTop,we=zt(J,"prev"),Ce=we.length&&we[0].offsetTop+we[0].offsetHeight,xe.height(Q).insertAfter(J),J.css({top:ot}).addClass("mbsc-lv-item-dragging").removeClass(Ia).appendTo(k),V("onSortStart",{target:J[0],index:h})}function yt(t,a,s,e){t.removeClass("mbsc-lv-item-dragging"),xe.remove(),V("onSortEnd",{target:t[0],index:h}),Se.vibrate&&ua(),e&&(tt.addUndoAction(function(e){tt.move(t,a,null,e,s,!0)},!0),V("onSortUpdate",{target:t[0],index:h}))}function xt(){ge||(clearTimeout(R),Va&&function(e,t,a){var s;try{s=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0})}catch(e){(s=document.createEvent("Event")).initEvent(t,!0,!0),s.detail=a}e.dispatchEvent(s)}(document,"touchstart"),P&&(tt.close(H,N),P=!1,H=null))}function wt(){clearTimeout(i),i=setTimeout(function(){Je=Ze.innerHeight||Ke.innerHeight(),et=F?Ke.offset().top:0,o&&(ot=J[0].offsetTop,Q=J[0].offsetHeight,X.css({top:ot,height:Q}))},200)}function Ct(e){ve&&(e.stopPropagation(),e.preventDefault(),ve=!1)}function Tt(){G||(clearTimeout(be),be=setTimeout(function(){var e=F?Ze.getBoundingClientRect().top+Ke.innerHeight():window.innerHeight,e=oe[0].getBoundingClientRect().top-3<e;!G&&e&&V("onListEnd")},250))}function kt(){var a,e,t,s,n;!T&&o||(e=Ke.scrollTop(),t=st.offset().top,s=st[0].offsetHeight,n=F?Ke.offset().top:e,ka(".mbsc-lv-gr-title",st).each(function(e,t){ka(t).offset().top<n&&(a=t)}),t<n&&n<t+s?E.show().empty().append(ka(a).clone()):E.hide())}function Mt(e,t){Ht(t.disabled,{target:J[0],index:ee})&&ka(".mbsc-ic-"+t.icon,X).addClass("mbsc-lv-ic-disabled")}function Dt(e,t,a,s){var n,i={icon:"undo2",text:Se.undoText,action:function(){tt.undo()}};e.undo&&(tt.startActionTrack(),ka.isFunction(e.undo)&&tt.addUndoAction(function(){e.undo.call(at,{target:t[0],index:a},tt)}),je=t.attr("data-ref")),n=e.action.call(at,{target:t[0],index:a},tt),e.undo?(tt.endActionTrack(),!1!==n&&It(t,+t.attr("data-pos")<0?-100:100,200),xe.height(Q).insertAfter(t),t.css("top",ot).addClass("mbsc-lv-item-undo"),ce.hide(),U.show(),X.append(U),Ot(i),St(i,t,a,!0,s)):At(t,n,s)}function St(t,a,s,n,i){function e(e){e.preventDefault(),n&&Yt(a),At(a,!0,i)}function o(e){e.stopPropagation(),r=wa(e,"X"),c=wa(e,"Y")}function l(e){e.preventDefault(),"touchend"===e.type&&xa(),Math.abs(wa(e,"X")-r)<10&&Math.abs(wa(e,"Y")-c)<10&&(Dt(t,a,s,i),n&&(Ge=null,Yt(a)))}var r,c,d=a[0];Va=!0,d.__mbscOff&&d.__mbscOff(),pa(document,"touchstart",e,{passive:!1}),pa(document,"mousedown",e),_||(pa(U[0],"touchstart",o,{passive:!0}),pa(U[0],"mousedown",o),pa(U[0],"touchend",l),pa(U[0],"mouseup",l)),d.__mbscOff=function(){ba(document,"touchstart",e,{passive:!1}),ba(document,"mousedown",e),ba(U[0],"touchstart",o,{passive:!0}),ba(U[0],"mousedown",o),ba(U[0],"touchend",l),ba(U[0],"mouseup",l),delete d.__mbscOff}}function Vt(){It(J,Fe+100*y/Z),De=!1}function At(e,t,a){e[0].__mbscOff&&e[0].__mbscOff(),!1!==t?It(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){Ft(e,a),Lt(e)}):Ft(e,a),Va=!1}function It(e,t,a,s,n){t=Math.max("right"==Ne?0:-100,Math.min(t,"left"==Ne?0:100)),Pe=e[0].style,e.attr("data-pos",t),Pe[ya+"Transform"]="translate3d("+(s?Z*t/100+"px":t+"%")+",0,0)",Pe[ya+"Transition"]=_a+"transform "+(a||0)+"ms",n&&(nt++,setTimeout(function(){n(),nt--},a)),c=t}function Et(e,t,a,s){t=Math.max(re,Math.min(t,le)),(Pe=e[0].style)[ya+"Transform"]="translate3d(0,"+t+"px,0)",Pe[ya+"Transition"]=_a+"transform "+(a||0)+"ms ease-out",s&&(nt++,setTimeout(function(){s(),nt--},a))}function $t(){clearTimeout(Be),!s&&tt.sortable&&(s=!0,A.remove())}function Ot(e,t){var a=Ht(e.text,{target:J[0],index:ee})||"";Ht(e.disabled,{target:J[0],index:ee})?X.addClass("mbsc-lv-ic-disabled"):X.removeClass("mbsc-lv-ic-disabled"),X.css("background-color",e.color||(0===e.percent?Bt(c):Oa)),U.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(c<0?"right":"left")),B.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),ze.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(a?"":" mbsc-lv-ic-only")).html(a||"&nbsp;"),Se.animateIcons&&(ke?B.addClass("mbsc-lv-ic-v"):setTimeout(function(){B.addClass("mbsc-lv-ic-a")},10))}function Ft(e,t){o||(B.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),X.attr("style","").removeClass("mbsc-lv-stage-c-v"),ze.html("")),X.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(V("onSlideEnd",{target:e[0],index:ee}),t&&t())}function Yt(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Ge?tt.animate(xe,"collapse",function(){xe.remove()}):xe.remove(),Ft(),Ge=je=null}function Lt(e){(Pe=e[0].style)[ya+"Transform"]="",Pe[ya+"Transition"]="",Pe.top="",e.removeClass("mbsc-lv-item-swiping")}function Ht(e,t){return ka.isFunction(e)?e.call(this,t,tt):e}function Pt(e){return Ae&&!e.hasClass("mbsc-lv-parent")&&!e.hasClass("mbsc-lv-back")}function Nt(e){var t=e.attr("data-ref"),a=e.attr("data-role"),s=Xe[e.attr("data-type")||"defaults"],n=Pt(e)&&"true"==e.attr("data-selected");t||(t=$a++,e.attr("data-ref",t)),ct[t]={item:e,child:e.children(ie),parent:e.parent(),ref:e.parent()[0]===at?null:e.parent().parent().attr("data-ref")},e.addClass("list-divider"==a?"mbsc-lv-gr-title":"mbsc-lv-item"+(s.actionable?" mbsc-lv-item-actionable":"")+(n?" "+Aa:"")),e.attr("aria-selected",n?"true":"false"),tt.sortable.handle&&"list-divider"!=a&&!e.children(".mbsc-lv-handle-c").length&&e.append(Y),Se.enhance&&!e.hasClass("mbsc-lv-item-enhanced")&&(n=e.attr("data-icon"),(a=e.find("img").eq(0).addClass("mbsc-lv-img")).is(":first-child")?e.addClass("mbsc-lv-img-"+(Se.rtl?"right":"left")):a.length&&e.addClass("mbsc-lv-img-"+(Se.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){(t=ka(t)).is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),n&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(Se.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+n+'"></div>'))}function Wt(e){ka(ae,e).not(".mbsc-lv-back").each(function(){Nt(ka(this))}),ka(ie,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(q).parent().addClass("mbsc-lv-parent mbsc-lv-item-actionable").prepend(z),ka(".mbsc-lv-back",e).each(function(){ka(this).attr("data-back",ka(this).parent().parent().attr("data-ref"))})}function Rt(e){return e.children(ae).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function qt(e){return"object"!=typeof e&&(e=ka(ae,g).filter('[data-id="'+e+'"]')),ka(e)}function zt(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!tt.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function Bt(e){return(0<e?Ue.right:Ue.left).color||Oa}function Ut(e){return da(e)?e+"":0}function Xt(e,t){return+(t<0?Ut((e.actionsWidth||0).right)||Ut(e.actionsWidth)||Ut(Se.actionsWidth.right)||Ut(Se.actionsWidth):Ut((e.actionsWidth||0).left)||Ut(e.actionsWidth)||Ut(Se.actionsWidth.left)||Ut(Se.actionsWidth))}function jt(e,t){var a,s;e&&(a=Ke.scrollTop(),s=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,e=e.offset().top+(F?a-et:0),t?(e<a||a+Je<e+s)&&Ke.scrollTop(e):e<a?Ke.scrollTop(e):a+Je<e+s&&Ke.scrollTop(Math.min(e,e+s-Je/2)))}function Gt(e,t,a,s,n){var i=t.parent(),o=t.prev();s=s||ca,o[0]===U[0]&&(o=U.prev()),Se.rtl&&(e="l"===e?"r":"l"),f[0]!==t[0]?(V("onNavStart",{level:it,direction:e,list:t[0]}),Ee.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),jt(g),Zt(Ee,"mbsc-lv-sl-"+e,function(){f.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),p&&p.length?f.removeClass("mbsc-lv-v").insertAfter(p):b.append(f.removeClass("mbsc-lv-v")),p=o,b=i,f=t,jt(a,n),s.call(at,a),V("onNavEnd",{level:it,direction:e,list:t[0]})})):(jt(a,n),s.call(at,a))}function Kt(e,t){nt||(e.hasClass("mbsc-lv-parent")?(it++,Gt("r",ct[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(it--,Gt("l",ct[e.attr("data-back")].parent,ct[e.attr("data-back")].item,t)))}function Zt(e,t,a){var s;function n(){clearTimeout(s),nt--,e.off(ga,n).removeClass(t),a.call(at,e)}a=a||ca,Se.animation&&"mbsc-lv-item-none"!==t?(nt++,e.on(ga,n).addClass(t),s=setTimeout(n,250)):a.call(at,e)}function Jt(e,t){var a=e.attr("data-ref"),s=rt[a]=rt[a]||[];t&&s.push(t),e.attr("data-action")||(t=s.shift())&&(e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?Jt(e):delete rt[a]}))}function Qt(a,s,n){var i,o;a&&a.length&&(i=100/(a.length+2),ka.each(a,function(e,t){void 0===t.key&&(t.key=$e++),void 0===t.percent&&(t.percent=s*i*(e+1),n&&((o=Da({},t)).key=$e++,o.percent=-i*(e+1),a.push(o),lt[o.key]=o)),lt[t.key]=t}))}function ea(e){Pt(e)&&e.addClass(Aa).attr("data-selected","true").attr("aria-selected","true")}function ta(e){e.removeClass(Aa).removeAttr("data-selected").removeAttr("aria-selected")}Sa.call(this,e,t,!0),tt.animate=function(e,t,a){Zt(e,"mbsc-lv-item-"+t,a)},tt.add=function(e,t,a,s,n,i){var o,l,r,c,d="",m=void 0===n?st:qt(n),u=m,h=ka("object"!=typeof t?"<"+te+' data-ref="'+$a+++'" data-id="'+e+'">'+t+"</"+te+">":t),f=h[0],p=f.style,b=h.attr("data-pos")<0?"left":"right",v=h.attr("data-ref");s=s||ca,v||(v=$a++,h.attr("data-ref",v)),Nt(h),i||tt.addUndoAction(function(e){l?tt.navigate(m,function(){u.remove(),m.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),r.child=m.children(ie),tt.remove(h,null,e,!0)}):tt.remove(h,null,e,!0)},!0),Jt(h,function(t){Lt(h.css("top","").removeClass("mbsc-lv-item-undo")),m.is(ae)?(c=m.attr("data-ref"),m.children(ie).length||(l=!0,m.append("<"+ne+"></"+ne+">"))):c=m.children(".mbsc-lv-back").attr("data-back"),(r=ct[c])&&(r.child.length?u=r.child:(m.addClass("mbsc-lv-parent").prepend(z),u=m.children(ie).prepend(q).addClass("mbsc-lv"),r.child=u,ka(".mbsc-lv-back",m).attr("data-back",c))),ct[v]={item:h,child:h.children(ie),parent:u,ref:c},o=Rt(u),c=o.length,null==a&&(a=c),i&&(d="mbsc-lv-item-new-"+(i?b:"")),Wt(h.addClass(d)),!1!==a&&(c?a<c?h.insertBefore(o.eq(a)):h.insertAfter(o.eq(c-1)):(c=ka(".mbsc-lv-back",u)).length?h.insertAfter(c):u.append(h)),g.trigger("mbsc-refresh"),Se.animateAddRemove&&u.hasClass("mbsc-lv-v")?(p.height=f.offsetHeight+"px",tt.animate(h,i&&je===v?"none":"expand",function(e){tt.animate(e,i?"add-"+b:"pop-in",function(e){p.height="",s.call(at,e.removeClass(d)),t()})})):(s.call(at,h.removeClass(d)),t()),V("onItemAdd",{target:f})})},tt.swipe=function(e,t,a,s,n){var i;e=qt(e),J=e,_=s,o=Ie=!0,a=void 0===a?300:a,y=0<t?1:-1,dt(),bt(),It(e,t,a),clearTimeout(Re),clearInterval(We),We=setInterval(function(){i=c,c=fa(e)/Z*100,vt(i)},10),Re=setTimeout(function(){clearInterval(We),i=c,c=t,vt(i),gt(n),o=Ie=_=!1},a)},tt.openStage=function(e,t,a,s){lt[t]&&tt.swipe(e,lt[t].percent,a,s)},tt.openActions=function(e,t,a,s){e=qt(e);var n=Xt(Xe[e.attr("data-type")||"defaults"],"left"==t?-1:1);tt.swipe(e,"left"==t?-n:n,a,s)},tt.close=function(e,t){tt.swipe(e,0,t)},tt.remove=function(e,a,s,n){var i,o,t,l,r,c;s=s||ca,l=(i=qt(e)).attr("data-ref"),i.length&&ct[l]&&(o=i.parent(),t=Rt(o).index(i),c=i[0].style,function t(e){e&&(r=r||e.hasClass("mbsc-lv-v"),e.children("[data-ref]").each(function(){var e=ka(this).attr("data-ref");ct[e]&&(t(ct[e].child),delete ct[e])}))}(ct[l].child),r&&(e=Se.animation,Se.animation=!1,tt.navigate(i),Se.animation=e),delete ct[l],n||(i.attr("data-ref")===je&&(Ge=!0),tt.addUndoAction(function(e){tt.add(null,i,t,e,o,!0)},!0)),Jt(i,function(t){a=a||(i.attr("data-pos")<0?"left":"right"),Se.animateAddRemove&&o.hasClass("mbsc-lv-v")?tt.animate(i.addClass("mbsc-lv-removed"),n?"pop-out":"remove-"+a,function(e){c.height=e[0].offsetHeight+"px",tt.animate(e,"collapse",function(e){c.height="",Lt(e.removeClass("mbsc-lv-removed")),!1!==s.call(at,e)&&e.remove(),t()})}):(!1!==s.call(at,i)&&i.remove(),t()),V("onItemRemove",{target:i[0]})}))},tt.move=function(e,t,a,s,n,i){e=qt(e),i||tt.startActionTrack(),X.append(U),tt.remove(e,a,null,i),tt.add(null,e,t,s,n,i),i||tt.endActionTrack()},tt.navigate=function(e,t){var a,s;e=qt(e),a=ct[e.attr("data-ref")],s=function(e){for(var t=0,a=ct[e.attr("data-ref")];a&&a.ref;)t++,a=ct[a.ref];return t}(e),a&&(Gt(it<=s?"r":"l",a.parent,e,t,!0),it=s)},tt.showLoading=function(){G=!0,oe.addClass("mbsc-show-lv-loading"),Ke.scrollTop((F?Ze:ka(Se.context)[0]).scrollHeight)},tt.hideLoading=function(){oe.removeClass("mbsc-show-lv-loading"),setTimeout(function(){G=!1},100)},tt.select=function(e){de||ta(ka(ae,g).filter("."+Aa)),ea(qt(e))},tt.deselect=function(e){ta(qt(e))},tt._processSettings=function(){st.is("[mbsc-enhance]")&&($=!0,st.removeAttr("mbsc-enhance"))},tt._init=function(){var e,t=st.find(ie).length?"left":"right",s=0,n="",i="";ne=Se.listNode,ie=Se.listSelector,te=Se.itemNode,ae=Se.itemSelector,de="multiple"==Se.select,Ae="off"!=Se.select,(e=!0===(e="group"===(e=Se.sort||Se.sortable||!1)?{group:!1,multiLevel:!0}:e)?{group:!0,multiLevel:!0,handle:Se.sortHandle}:e)&&void 0===e.handle&&(e.handle=Se.sortHandle),e.handle&&(O=!0===e.handle?t:e.handle,Y='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+O+' mbsc-lv-handle"><div class="'+Se.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+Se.handleMarkup+"</div></div>"),q="<"+te+' class="mbsc-lv-item mbsc-lv-back mbsc-lv-item-actionable">'+Se.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Se.leftArrowClass+'"></div></'+te+">",z='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Se.rightArrowClass+'"></div>',t="mbsc-no-touch mbsc-lv-cont mbsc-lv-"+Se.theme+" mbsc-"+Se.theme+(Ea?" mbsc-lv-hb":"")+(Se.rtl?" mbsc-lv-rtl mbsc-rtl":" mbsc-ltr")+(Se.baseTheme?" mbsc-lv-"+Se.baseTheme+" mbsc-"+Se.baseTheme:"")+(Se.animateIcons?" mbsc-lv-ic-anim":"")+(Se.striped?" mbsc-lv-alt-row":"")+(Se.fixedHeader?" mbsc-lv-has-fixed-header":"")+(e.handle?" mbsc-lv-handle-"+O:""),tt.sortable=e||!1,g?(g.attr("class",t),ka(".mbsc-lv-handle-c",g).remove(),ka(ae,g).not(".mbsc-lv-back").removeClass("mbsc-lv-item"),ba(Ze,"orientationchange",wt),ba(Ze,"resize",wt),ba(Ze,"scroll",Tt),ba(Ze,"touchmove",Tt,{passive:!0}),pe&&(ba(Ze,"scroll",pe),ba(Ze,"touchmove",pe,{passive:!0}))):(st.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").removeClass("mbsc-cloak").show(),X=ka('<div class="mbsc-lv-stage-c"><div class="mbsc-lv-multi-c"></div><div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div></div>'),U=ka(".mbsc-lv-ic-c",X),ce=ka(".mbsc-lv-multi-c",X),B=ka(".mbsc-lv-ic-s",X),ze=ka(".mbsc-lv-ic-text",X),xe=ka("<"+te+' class="mbsc-lv-item mbsc-lv-ph"></'+te+">"),A=ka('<div class="mbsc-lv-fill-item"></div>'),g=ka('<div class="'+t+'"><'+ne+' class="mbsc-lv mbsc-lv-dummy"></'+ne+'><div class="mbsc-lv-sl-c"></div><div class="mbsc-lv-loading"><span class="mbsc-ic mbsc-ic-'+(Se.loadingIcon||"loop2")+'"></span></div></div>'),u=g[0],k=ka(".mbsc-lv-dummy",g),oe=ka(".mbsc-lv-loading",g),g.insertAfter(st),wt(),pa(u,"mousedown",mt),pa(u,"touchstart",mt,{passive:!0}),pa(document,"touchmove",ut,{passive:!1}),g.on("touchend touchcancel",".mbsc-lv-item",ht).on("click",".mbsc-lv-item",ft),pa(at,"click",Ct,!0),pa(u,"mousedown",pt),pa(document,"touchstart",pt,{passive:!1}),g.on("touchend mouseup",".mbsc-lv-ic-m",function(e){_||("touchend"===e.type&&xa(),Va&&!ka(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(wa(e,"X")-Le)<10&&Math.abs(wa(e,"Y")-He)<10&&Dt((c<0?Ue.rightMenu:Ue.leftMenu)[ka(this).index()],d,m))}),Ee=ka(".mbsc-lv-sl-c",g).append(st.addClass("mbsc-lv-sl-curr")).attr("data-ref",$a++),f=st,b=g),F="body"!==Se.context,Ke=ka(F?Se.context:window),pa(Ze=Ke[0],"orientationchange",wt),pa(Ze,"resize",wt),pa(Ze,"scroll",Tt),pa(Ze,"touchmove",Tt,{passive:!0}),$e=0,(Xe=Se.itemGroups||{}).defaults={swipeleft:Se.swipeleft,swiperight:Se.swiperight,stages:Se.stages,actions:Se.actions,actionsWidth:Se.actionsWidth,actionable:Se.actionable},Wt(st),ka.each(Xe,function(e,a){if(a.swipe=(void 0!==a.swipe?a:Se).swipe,a.actionable=(void 0!==a.actionable?a:Se).actionable,a.stages=a.stages||[],Qt(a.stages,1,!0),Qt(a.stages.left,1),Qt(a.stages.right,-1),(a.stages.left||a.stages.right)&&(a.stages=[].concat(a.stages.left||[],a.stages.right||[])),I=!1,a.stages.length||(a.swipeleft&&a.stages.push({percent:-30,action:a.swipeleft}),a.swiperight&&a.stages.push({percent:30,action:a.swiperight})),ka.each(a.stages,function(e,t){if(0===t.percent)return!(I=!0)}),I||a.stages.push({percent:0}),a.stages.sort(function(e,t){return e.percent-t.percent}),ka.each(a.stages,function(e,t){if(0===t.percent)return a.start=e,!1}),I?a.left=a.right=a.stages[a.start]:(a.left=a.stages[a.start-1]||{},a.right=a.stages[a.start+1]||{}),a.actions){for(a.leftMenu=a.actions.left||a.actions,a.rightMenu=a.actions.right||a.leftMenu,i=n="",s=0;s<a.leftMenu.length;s++)n+="<div "+(a.leftMenu[s].color?'style="background-color: '+a.leftMenu[s].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+a.leftMenu[s].icon+'">'+(a.leftMenu[s].text||"")+"</div>";for(s=0;s<a.rightMenu.length;++s)i+="<div "+(a.rightMenu[s].color?'style="background-color: '+a.rightMenu[s].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+a.rightMenu[s].icon+'">'+(a.rightMenu[s].text||"")+"</div>";a.actions.left&&(a.swipe=a.actions.right?a.swipe:"right"),a.actions.right&&(a.swipe=a.actions.left?a.swipe:"left"),a.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+n+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+i+"</div>"}}),Se.fixedHeader&&(t="mbsc-lv-fixed-header"+(F?" mbsc-lv-fixed-header-ctx mbsc-lv-"+Se.theme+" mbsc-"+Se.theme+(Se.baseTheme?" mbsc-lv-"+Se.baseTheme+" mbsc-"+Se.baseTheme:""):""),E?(E.attr("class",t),kt()):E=ka('<div class="'+t+'"></div>'),F?Ke.before(E):g.prepend(E),pe=ma(kt,200),pa(Ze,"scroll",pe),pa(Ze,"touchmove",pe,{passive:!0})),Se.hover&&(N||g.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){H&&H[0]==this||(xt(),H=ka(this),Xe[H.attr("data-type")||"defaults"].actions&&(R=setTimeout(function(){ge?H=null:(P=!0,tt.openActions(H,L,N,!1))},W)))}).on("mouseleave.mbsc-lv",xt),N=Se.hover.time||200,W=Se.hover.timeout||200,L=Se.hover.direction||Se.hover||"right"),$&&g.attr("mbsc-enhance",""),g.trigger("mbsc-enhance",[{theme:Se.theme,lang:Se.lang}])},tt._destroy=function(){var e;b.append(f),F&&E&&E.remove(),$&&(st.attr("mbsc-enhance",""),(e=Ma[u.id])&&e.destroy()),ba(document,"touchstart",pt,{passive:!1}),ba(document,"touchmove",ut,{passive:!1}),ba(at,"click",Ct,!0),g.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),g.find(ie).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(ae).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),ka(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",g).remove(),st.insertAfter(g),g.remove(),X.remove(),ba(Ze,"orientationchange",wt),ba(Ze,"resize",wt),ba(Ze,"scroll",Tt),ba(Ze,"touchmove",Tt,{passive:!0}),pe&&(ba(Ze,"scroll",pe),ba(Ze,"touchmove",pe,{passive:!0}))};var aa,sa=[],na=[],ia=[],oa=0;tt.startActionTrack=function(){oa||(ia=[]),oa++},tt.endActionTrack=function(){--oa||na.push(ia)},tt.addUndoAction=function(e,t){t={action:e,async:t};oa?ia.push(t):(na.push([t]),na.length>Se.undoLimit&&na.shift())},tt.undo=function(){var e,t,a;function s(){t<0?(aa=!1,n()):(e=a[t],t--,e.async?e.action(s):(e.action(),s()))}function n(){(a=sa.shift())&&(aa=!0,t=a.length-1,s())}na.length&&sa.push(na.pop()),aa||n()},Se=tt.settings,V=tt.trigger,tt.init()};h.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,tap:g,swipe:!0,quickSwipe:!0,animateAddRemove:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,actionable:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[],select:"off"}},l("listview",A.ListView=h,!(Q.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"}));var bt={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},decimalSeparator:".",signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};B.measurement=function(m){var a,u,h,f,p,b,v,g,_,y,x,w,e,t,s=Da({},m.settings),C=Da(m.settings,bt,s),n={},s=[[]],T={},k={},i={},M=[],D=C.sign,S=C.units&&C.units.length,V=S?C.defaultUnit||C.units[0]:"",o=[],A=C.step<1,I=1<C.step?C.step:1,l=A?Math.max(C.scale,(C.step+"").split(".")[1].length):1,r=Math.pow(10,l),E=Math.round(A?C.step*r:C.step),c=0,d=0,$=0;function O(e){return Math.max(_,Math.min(y,A?e<0?Math.ceil(e):Math.floor(e):H(Math.round(e-c),E)+c))}function F(e){return A?H((Math.abs(e)-Math.abs(O(e)))*r-d,E)+d:0}function Y(e){var t=O(e),a=F(e);return r<=a&&(e<0?t--:t++,a=0),[e<0?"-":"+",t,a]}function L(e){var t=+e[p],a=A?e[f]/r*(t<0?-1:1):0;return(D&&"-"==e[0]?-1:1)*(t+a)}function H(e,t){return Math.round(e/t)*t}function P(e,t,a){return t!==a&&C.convert?C.convert.call(this,e,t,a):e}function N(e){var t;v=P(C.min,V,e),g=P(C.max,V,e),A?(_=v<0?Math.ceil(v):Math.floor(v),y=g<0?Math.ceil(g):Math.floor(g),x=F(v),w=F(g)):(_=Math.round(v),y=Math.round(g),y=_+Math.floor((y-_)/E)*E,c=_%E),t=_,e=y,D&&(e=Math.abs(t)>Math.abs(e)?Math.abs(t):Math.abs(e),t=t<0?0:t),k.min=t<0?Math.ceil(t/I):Math.floor(t/I),k.max=e<0?Math.ceil(e/I):Math.floor(e/I)}function W(e){return L(e).toFixed(A?l:0)+(S?" "+o[e[b]]:"")}if(m.setVal=function(e,t,a,s,n){m._setVal(ka.isArray(e)?W(e):e,t,a,s,n)},C.units)for(t=0;t<C.units.length;++t)e=C.units[t],o.push(C.unitNames&&C.unitNames[e]||e);if(D)if(D=!1,S)for(t=0;t<C.units.length;t++)P(C.min,V,C.units[t])<0&&(D=!0);else D=C.min<0;if(D&&(s[0].push({data:["-","+"],label:C.signText}),$++),k={label:C.wholeText,data:function(e){return _%I+e*I},getIndex:function(e){return Math.round((e-_%I)/I)}},s[0].push(k),p=$++,N(V),A){for(s[0].push(i),i.data=[],i.label=C.fractionText,t=d;t<r;t+=E)M.push(t),i.data.push({value:t,display:C.decimalSeparator+ae(t,l)});f=$++,a=Math.ceil(100/E),C.invalid&&C.invalid.length&&(ka.each(C.invalid,function(e,t){var a=0<t?Math.floor(t):Math.ceil(t);T[a=0===a?t<=0?-.001:.001:a]=(T[a]||0)+1,0===t&&(T[a=.001]=(T[a]||0)+1)}),ka.each(T,function(e,t){t<a?delete T[e]:T[e]=e}))}if(S){for(n={data:[],label:C.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},t=0;t<C.units.length;t++)n.data.push({value:t,display:o[t]});s[0].push(n)}return b=$,{wheels:s,minWidth:D&&A?70:80,showLabel:!1,formatValue:W,compClass:"mbsc-msr mbsc-sc",parseValue:function(e){var t=((("number"==typeof e?e+"":e)||C.defaultValue)+"").split(" "),a=+t[0],s=[],e="";return S&&(e=-1==(e=-1==(e=ka.inArray(t[1],o))?ka.inArray(V,C.units):e)?0:e),N(h=S?C.units[e]:""),(t=Y(a=he(a=isNaN(a)?0:a,v,g)))[1]=he(t[1],_,y),u=a,D&&(s[0]=t[0],t[1]=Math.abs(t[1])),s[p]=t[1],A&&(s[f]=t[2]),S&&(s[b]=e),s},onCancel:function(){u=void 0},validate:function(e){var a,s,n,t,i=e.values,o=e.index,l=e.direction,r={},c=[],e={},d=S?C.units[i[b]]:"";if(D&&0===o&&(u=Math.abs(u)*("-"==i[0]?-1:1)),(o===p||o===f&&A||void 0===u||void 0===o)&&(u=L(i),h=d),(S&&o===b&&h!==d||void 0===o)&&(N(d),u=P(u,h,d),h=d,s=Y(u),void 0!==o&&(e[p]=k,m.changeWheel(e)),D&&(i[0]=s[0])),c[p]=[],D)for(c[0]=[],0<v&&(c[0].push("-"),i[0]="+"),g<0&&(c[0].push("+"),i[0]="-"),t=Math.abs("-"==i[0]?_:y),$=t+I;$<t+20*I;$+=I)c[p].push($),r[$]=!0;return u=he(u,v,g),s=Y(u),o=D?Math.abs(s[1]):s[1],a=D?"-"==i[0]:u<0,i[p]=o,a&&(s[0]="-"),A&&(i[f]=s[2]),ka.each(A?T:C.invalid,function(e,t){if(D&&a){if(!(t<=0))return;t=Math.abs(t)}t=H(P(t,V,d),A?1:E),r[t]=!0,c[p].push(t)}),i[p]=m.getValidValue(p,o,l,r),s[1]=i[p]*(D&&a?-1:1),A&&(c[f]=[],e=D?i[0]+i[1]:(u<0?"-":"+")+Math.abs(s[1]),o=(v<0?"-":"+")+Math.abs(_),l=(g<0?"-":"+")+Math.abs(y),e===o&&ka(M).each(function(e,t){(a?x<t:t<x)&&c[f].push(t)}),e===l&&ka(M).each(function(e,t){(a?t<w:w<t)&&c[f].push(t)}),ka.each(C.invalid,function(e,t){n=Y(P(t,V,d)),(s[0]===n[0]||0===s[1]&&0===n[1]&&0===n[2])&&s[1]===n[1]&&c[f].push(n[2])})),{disabled:c,valid:i}}}},B.number=B.measurement,l("number",W);d={},s=function(n,e,t){var i,o,l,r,c,d,m,a,s,u,h,f,p,b,v,g,_,y,x=ka(n),w=this,C=[],T=[],k={},M={},D={},S={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};function V(e){var t,a=d.validate.call(n,{values:b.slice(0),variables:k},w)||[],s=a&&a.disabled||[];if(w._isValid=!a.invalid,w._tempValue=d.formatValue.call(n,b.slice(0),k,w),c=b.length,v=a.length||_,w._isVisible){if(ka(".mbsc-np-ph",i).each(function(e){ka(this).html("ltr"==d.fill?c<=e?r:m||b[e]:_-v<=e?e+c<_?r:m||b[e+c-_]:"")}),ka(".mbsc-np-cph",i).each(function(){ka(this).html(k[ka(this).attr("data-var")]||ka(this).attr("data-ph"))}),c===_)for(t=0;t<=9;t++)s.push(t);for(ka(".mbsc-np-btn",i).removeClass(l),t=0;t<s.length;t++)ka('.mbsc-np-btn[data-val="'+s[t]+'"]',i).addClass(l);w._isValid?ka(".mbsc-fr-btn-s .mbsc-fr-btn",i).removeClass(l):ka(".mbsc-fr-btn-s .mbsc-fr-btn",i).addClass(l),w.live&&(w._hasValue=e||w._hasValue,A(e,!1,e),e&&g("onSet",{valueText:w._value}))}}function A(e,t,a,s){t&&V(),s||(y=b.slice(0),M=Da({},k),C=T.slice(0),w._value=w._hasValue?w._tempValue:null),e&&(w._isInput&&x.val(w._hasValue&&w._isValid?w._value:""),g("onFill",{valueText:w._hasValue?w._tempValue:"",change:a}),a&&(w._preventChange=!0,x.trigger("change")))}function I(e){var t,a,s=e||[],n=[];for(T=[],k={},t=0;t<s.length;t++)/:/.test(s[t])?(a=s[t].split(":"),k[a[0]]=a[1],T.push(a[0])):(n.push(s[t]),T.push("digit"));return n}function E(e,t){g("onInput",{domEvent:t,target:e,values:b.slice(0),valueText:w._tempValue,variables:k})}function $(e,t){e&&(e=ka.isArray(e)?e:[e]).forEach(function(e){D[e]=t})}function O(e,t,a){!(c||t||d.allowLeadingZero)||e.hasClass("mbsc-disabled")||e.hasClass("mbsc-np-btn-empty")||c<_&&(T.push("digit"),b.push(t),V(!0),E(e[0],a))}function F(e,t){var a,s,n=e.attr("data-val"),i="false"!==e.attr("data-track"),o=e.attr("data-var");if(!e.hasClass("mbsc-disabled")){if(o&&(s=o.split(":"),i&&T.push(s[0]),k[s[0]]=void 0!==s[2]&&k[s[0]]==s[1]?s[2]:s[1]),n.length+c<=v)for(a=0;a<n.length;++a)s=da(n[a])?+n[a]:n[a],(d.allowLeadingZero||c||s)&&(T.push("digit"),b.push(s),c=b.length);V(!0),E(e[0],t)}}function Y(e){var t,a,s=T.pop();if(c||"digit"!==s){if("digit"!==s&&k[s])for(delete k[s],a=T.slice(0),T=[],t=0;t<a.length;t++)a[t]!==s&&T.push(a[t]);else b.pop();V(!0),E(o,e)}}function L(){clearInterval(p),f=!1}function H(e){var t;ha(e,this)&&("keydown"==e.type&&32!=e.keyCode||(f=!0,a=wa(t=e,"X"),s=wa(t,"Y"),clearInterval(p),clearTimeout(p),Y(t),p=setInterval(function(){Y(t)},150),"mousedown"==e.type&&ka(document).on("mousemove",P).on("mouseup",N)))}function P(e){f&&(u=wa(e,"X"),h=wa(e,"Y"),u=u-a,h=h-s,(7<Math.abs(u)||7<Math.abs(h))&&L())}function N(e){f&&(e.preventDefault(),L(),"mouseup"==e.type&&ka(document).off("mousemove",P).off("mouseup",N))}z.call(this,n,e,!0),w.setVal=w._setVal=function(e,t,a,s){w._hasValue=null!=e&&""!==e,b=I(ka.isArray(e)?e.slice(0):d.parseValue.call(n,e,w)),A(t,!0,void 0===a?t:a,s)},w.getVal=w._getVal=function(e){return w._hasValue||e?w[e?"_tempValue":"_value"]:null},w.setArrayVal=w.setVal,w.getArrayVal=function(e){return e?b.slice(0):w._hasValue?y.slice(0):null},w._readValue=function(){var e=x.val()||"";""!==e&&(w._hasValue=!0),m?(k={},T=[],b=[]):(k=w._hasValue?M:{},T=w._hasValue?C:[],b=w._hasValue&&y?y.slice(0):I(d.parseValue.call(n,e,w)),A(!1,!0))},w._fillValue=function(){A(w._hasValue=!0,!1,!0)},w._generateContent=function(){var e,t,a,s=1,n=d.leftKey,i=d.rightKey,o="";for(o+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+d.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+d.deleteIcon+'"></div><div class="mbsc-np-dsp">',o+=d.template.replace(/d/g,'<span class="mbsc-np-ph">'+r+"</span>").replace(/&#100;/g,"d").replace(/{([a-zA-Z0-9]*):?([a-zA-Z0-9\-_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),o+="</div></div>",o+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(o+='<div class="mbsc-np-row">',t=0;t<3;t++)10==(a=s)||12==s?a="":11==s&&(a=0),""===a?10==s&&n?($(n.keys,"left"),o+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-np-btn-custom-left mbsc-fr-btn-e" '+(n.variable?'data-var="'+n.variable+'"':"")+' data-val="'+(n.value||"")+'" '+(void 0!==n.track?' data-track="'+n.track+'"':"")+">"+n.text+"</div>"):12==s&&d.rightKey?($(i.keys,"right"),o+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-np-btn-custom-right mbsc-fr-btn-e" '+(i.variable?'data-var="'+i.variable+'"':"")+' data-val="'+(i.value||"")+'" '+(void 0!==i.track?' data-track="'+i.track+'"':"")+" >"+i.text+"</div>"):o+='<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':o+='<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",s++;o+="</div>"}return o+="</div></div>"},w._markupReady=function(){i=w._markup,V()},w._attachEvents=function(s){s.on("keydown",function(e){var t,a=e.keyCode;void 0!==D[a]?(t=ka(".mbsc-np-btn-custom-"+D[a],s)).length&&("sign:-:"===t.attr("data-var")&&(k.sign=107===a||187===a?"-":""),F(t,e)):void 0!==S[a]?O(ka('.mbsc-np-btn[data-val="'+S[a]+'"]',s),S[a],e):8==a&&(e.preventDefault(),Y(e))}),w.tap(ka(".mbsc-np-btn",s),function(e){var t=ka(this);t.hasClass("mbsc-np-btn-custom")?F(t,e):O(t,+t.attr("data-val"),e)},!1,30,!0),pa(o=ka(".mbsc-np-del",s)[0],"touchstart",H,{passive:!0}),pa(o,"mousedown",H),pa(o,"keydown",H),pa(o,"touchmove",P,{passive:!0}),pa(o,"mousemove",P),pa(o,"touchend",N),pa(o,"mouseup",N),pa(o,"keyup",N)},w.__init=function(){(d=w.settings).template=d.template.replace(/\\d/,"&#100;"),r=d.placeholder,_=(d.template.match(/d/g)||[]).length,l="mbsc-disabled "+(d.disabledClass||""),m=d.mask,g=w.trigger,m&&x.is("input")&&x.attr("type","password")},w._indexOf=function(e,t){for(var a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},t||w.init()};s.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"numpad",_presets:d,_defaults:Da({},z.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",compClass:"mbsc-np",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:ca,parseValue:ca,formatValue:function(e,t,a){for(var s=1,a=a.settings,n=a.placeholder,i=a.template,o=e.length,l=i.length,r="",c=0;c<l;c++)"d"==i[l-c-1]?(r=s<=o?e[o-s]+r:n+r,s++):r=i[l-c-1]+r;return ka.each(t,function(e,t){r=r.replace("{"+e+"}",t)}),ka("<div>"+r+"</div>").text()}})},A.Numpad=s,Q.themes.numpad=Q.themes.frame;var vt={entryMode:"template",min:0,max:99.99,maxScale:4,prefix:"",suffix:"",returnAffix:!1};function gt(e){for(var t=0,a=1,s=0;e.length;)3<t?a=3600:1<t&&(a=60),s+=e.pop()*a*(t%2?10:1),t++;return s}d.decimal=function(l){var e=Da({},l.settings),t={scale:"freeform"==e.entryMode?void 0:2},r=Da(l.settings,vt,t,e),c=r.scale,d=+r.min.toFixed(c),m=+r.max.toFixed(c),t=d<0,u=new RegExp(r.thousandsSeparator,"g"),h=(Math.floor(Math.max(m,Math.abs(d)))+"").length+1,f="freeform"==r.entryMode;function p(e,t){if(!e.length)return null;var a=+e.map(function(e,t){return(0===t&&"."===e?"0":"")+e}).join("");if(!f)for(var s=0;s<c;s++)a/=10;return t?-1*a:a}function b(e,t){var a="";!f||void 0!==c&&t?(s=p(e),a=t&&f?null===s?"":s.toFixed(c):(null===s?0:s).toFixed(c)):("."===e[0]&&(a+="0"),a+=e.join(""));var s=a.split("."),e=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandsSeparator),a=s[1]?r.decimalSeparator+s[1]:"";return e+(a=void 0!==s[1]&&!s[1].length&&f?r.decimalSeparator:a)}l.setVal=function(e,t,a,s){return!e&&0!==e||(e=he(e="string"==typeof e?+e.replace(r.thousandsSeparator,"").replace(r.decimalSeparator,"."):e,d,m)),l._setVal(e,t,a,s)},l.getVal=function(e){var t=l._getVal(e),e=(t+"").replace(u,"").replace(r.decimalSeparator,".");return da(e)?+e:t};e=Array(h).join("d");return e+=f?void 0!==c?c?Array(c+2).join("d"):"":Array(r.maxScale+2).join("d"):c?"."+Array(c+1).join("d"):"",{template:(t?"{sign}":"")+r.prefix.replace(/d/g,"\\d")+e+r.suffix.replace(/d/g,"\\d"),leftKey:t?{text:"-/+",variable:"sign:-:",track:!1,keys:[107,109,187,189]}:void 0,rightKey:f?{text:r.decimalSeparator,value:".",keys:[110,190]}:void 0,allowLeadingZero:f,parseValue:function(e){var t,a,s,n,i=e||r.defaultValue,o=[],l=void 0!==c?c:r.maxScale;if(""===e||null==e)return o;if(0==+e)return f?[0]:[];if(i&&(a=(i=(i+"").replace(u,"").replace(r.decimalSeparator,".")).match(/\d+\.?\d*/g))){for(a=(+a[0]).toFixed(l),t=0;t<a.length;t++)"."!=a[t]?+a[t]?o.push(+a[t]):o.length&&(s=a.indexOf("."),n=a.length>t+1&&a.substring(t+1).match(/[1-9]+/),(!f||t<s||n)&&o.push(0)):f&&o.push(".");l=a.indexOf(".");0<=o.indexOf(".")&&(a.length<=l+1||!a.substring(l+1).match(/[1-9]+/))&&o.splice(o.indexOf("."),1)}return e<0&&o.unshift("sign:-"),o},formatValue:function(e,t){var a=b(e,!0);return(p(e,t&&"-"==t.sign)<0?"-":"")+(r.returnAffix?r.prefix+a+r.suffix:a)},validate:function(e){var t,a=e.values,s=b(a),n=p(a,e.variables&&"-"==e.variables.sign),i=[],o=m<n||n<d||!!r.invalid&&-1!=l._indexOf(r.invalid,n);if(a.length||r.allowLeadingZero||f||i.push(0),(a.length>=h||-1!==a.indexOf("."))&&i.push("."),f){if(1==a.length&&0===a[0])for(t=0;t<=9;t++)i.push(t);a.length&&"."!=a[a.length-1]||(o=!0);n=void 0!==c?c:r.maxScale;if(a.length>=n+1&&"."==a[a.length-n-1])for(t=0;t<=9;t++)i.push(t)}return l.isVisible()&&ka(".mbsc-np-dsp",l._markup).html((e.variables.sign||"")+r.prefix+s+r.suffix||"&nbsp;"),{disabled:i,invalid:o}}}};var _t=["h","m","s"],yt={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};d.timespan=function(n){var e=Da({},n.settings),i=Da(n.settings,yt,e),o={h:i.hourTextShort.replace(/d/g,"\\d"),m:i.minuteTextShort.replace(/d/g,"\\d"),s:i.secTextShort.replace(/d/g,"\\d")},e='d<span class="mbsc-np-sup mbsc-np-time">'+o.s+"</span>";function l(a){var s,n="",i=3600;return ka(_t).each(function(e,t){s=Math.floor(a/i),a-=s*i,i/=60,(0<s||"s"==t&&!n)&&(n=n+(n?" ":"")+s+o[t])}),n}return 9<i.max&&(e="d"+e),99<i.max&&(e='<span class="mbsc-np-ts-m">'+(639<i.max?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+o.m+"</span>"+e),6039<i.max&&(e='<span class="mbsc-np-ts-h">'+(38439<i.max?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+o.h+"</span>"+e),n.setVal=function(e,t,a,s){return da(e)&&(e=l(e)),n._setVal(e,t,a,s)},n.getVal=function(e){return n._hasValue||e?gt(n.getArrayVal(e)):null},{template:e,parseValue:function(e){var a,s=e||l(i.defaultValue),n=[];return s&&ka(_t).each(function(e,t){(a=new RegExp("(\\d+)"+o[t],"gi").exec(s))?9<(a=+a[1])?(n.push(Math.floor(a/10)),n.push(a%10)):(n.length&&n.push(0),(a||n.length)&&n.push(a)):n.length&&(n.push(0),n.push(0))}),n},formatValue:function(e){return l(gt(e))},validate:function(e){var t=e.values,a=gt(t.slice(0)),e=[];return t.length||e.push(0),{disabled:e,invalid:a>i.max||a<i.min||!!i.invalid&&-1!=n._indexOf(i.invalid,+a)}}}};var xt={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};d.time=function(s){var e=Da({},s.settings),h=Da(s.settings,xt,e),f=h.timeFormat.split(":"),p=h.timeFormat.match(/a/i),n=p?"a"==p[0]?h.amText:h.amText.toUpperCase():"",i=p?"a"==p[0]?h.pmText:h.pmText.toUpperCase():"",b=0,v=h.min?""+h.min.getHours():"",g=h.max?""+h.max.getHours():"",_=h.min?""+(h.min.getMinutes()<10?"0"+h.min.getMinutes():h.min.getMinutes()):"",y=h.max?""+(h.max.getMinutes()<10?"0"+h.max.getMinutes():h.max.getMinutes()):"",x=h.min?""+(h.min.getSeconds()<10?"0"+h.min.getSeconds():h.min.getSeconds()):"",w=h.max?""+(h.max.getSeconds()<10?"0"+h.max.getSeconds():h.max.getSeconds()):"";function o(e,t){for(var a="",s=0;s<e.length;++s)a+=e[s]+(s%2==(e.length%2==1?0:1)&&s!=e.length-1?":":"");return ka.each(t,function(e,t){a+=" "+t}),a}return h.min&&h.min.setFullYear(2014,7,20),h.max&&h.max.setFullYear(2014,7,20),{placeholder:"-",allowLeadingZero:!0,template:(3==f.length?"dd:dd:dd":2==f.length?"dd:dd":"dd")+(p?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:p?{text:n,variable:"ampm:"+n,value:"00"}:{text:":00",value:"00"},rightKey:p?{text:i,variable:"ampm:"+i,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,e=e||h.defaultValue,s=[];if(e){if(a=(e+="").match(/\d/g))for(t=0;t<a.length;t++)s.push(+a[t]);p&&s.push("ampm:"+(e.match(new RegExp(h.pmText,"gi"))?i:n))}return s},formatValue:o,validate:function(e){var t=e.values,a=o(t,e.variables),e=3<=t.length?new Date(2014,7,20,""+t[0]+(t.length%2==0?t[1]:""),""+t[t.length%2==0?2:1]+t[t.length%2==0?3:2]):"";return{disabled:function(e){var t,a,s,n,i,o,l,r,c,d=e.length,m=[],u=2*f.length;if(b=u,d||(p&&(m.push(0),m.push(h.leftKey.value)),m.push(h.rightKey.value)),!p&&(u-d<2||1!=e[0]&&(2<e[0]||3<e[1])&&u-d<=2)&&(m.push("30"),m.push("00")),(p?1<e[0]||2<e[1]:1!=e[0]&&(2<e[0]||3<e[1]))&&e[0]&&(e.unshift(0),b=u-1),d==b||d===u-1&&5<e[2])for(t=0;t<=9;++t)m.push(t);else if(1==d&&p&&1==e[0]||!p&&2==e[0]&&3<e[1]&&d%2==1)for(t=6;t<=9;++t)m.push(t);if(r=void 0!==e[1]?""+e[0]+e[1]:"",c=+y==+(void 0!==e[3]?""+e[2]+e[3]:""),h.invalid)for(t=0;t<h.invalid.length;++t)if(i=h.invalid[t].getHours(),o=h.invalid[t].getMinutes(),l=h.invalid[t].getSeconds(),i==+r){if(2==f.length&&(o<10?0:+(""+o)[0])==+e[2]){m.push(o<10?o:+(""+o)[1]);break}if((l<10?0:+(""+l)[0])==+e[4]){m.push(l<10?l:+(""+l)[1]);break}}if(h.min||h.max){if(u=(s=+g==+r)&&c,n=(a=+v==+r)&&c,0===d){for(t=p?2:19<v?v[0]:3;t<=(1==v[0]?9:v[0]-1);++t)m.push(t);if(10<=v&&(m.push(0),2==v[0]))for(t=3;t<=9;++t)m.push(t);if(g&&g<10||v&&10<=v)for(t=g&&g<10?+g[0]+1:0;t<(v&&10<=v?v[0]:10);++t)m.push(t)}if(1==d){if(0===e[0])for(t=0;t<v[0];++t)m.push(t);if(v&&0!==e[0]&&(p?1==e[0]:2==e[0]))for(t=p?3:4;t<=9;++t)m.push(t);if(e[0]==v[0])for(t=0;t<v[1];++t)m.push(t);if(e[0]==g[0]&&!p)for(t=+g[1]+1;t<=9;++t)m.push(t)}if(2==d&&(a||s))for(t=s?+y[0]+1:0;t<(a?+_[0]:10);++t)m.push(t);if(3==d&&(s&&e[2]==y[0]||a&&e[2]==_[0]))for(t=s&&e[2]==y[0]?+y[1]+1:0;t<(a&&e[2]==_[0]?+_[1]:10);++t)m.push(t);if(4==d&&(n||u))for(t=u?+w[0]+1:0;t<(n?+x[0]:10);++t)m.push(t);if(5==d&&(n&&e[4]==x[0]||u&&e[4]==w[0]))for(t=u&&e[4]==w[0]?+w[1]+1:0;t<(n&&e[4]==x[0]?+x[1]:10);++t)m.push(t)}return m}(t),length:b,invalid:(p?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+h.amText+"|"+h.pmText+")$","i").test(a):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(a))||!!h.invalid&&-1!=s._indexOf(h.invalid,e)||!((!h.min||h.min<=e)&&(!h.max||e<=h.max))}}}};var wt={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};l("numpad",s,!(d.date=function(a){var f,p,b,e,n=[],t=Da({},a.settings),v=Da(a.settings,ke,wt,t),s=v.dateOrder,g=v.min?""+(v.getMonth(v.min)+1):0,_=v.max?""+(v.getMonth(v.max)+1):0,y=v.min?""+v.getDay(v.min):0,x=v.max?""+v.getDay(v.max):0,w=v.min?""+v.getYear(v.min):0,C=v.max?""+v.getYear(v.max):0;for(s=(s=(s=s.replace(/y+/gi,"yyyy")).replace(/m+/gi,"mm")).replace(/d+/gi,"dd"),f=s.toUpperCase().indexOf("Y"),p=s.toUpperCase().indexOf("M"),b=s.toUpperCase().indexOf("D"),s="",n.push({val:f,n:"yyyy"},{val:p,n:"mm"},{val:b,n:"dd"}),n.sort(function(e,t){return e.val-t.val}),ka.each(n,function(e,t){s+=t.n}),f=s.indexOf("y"),p=s.indexOf("m"),b=s.indexOf("d"),s="",e=0;e<8;++e)s+="d",e+1!=f&&e+1!=p&&e+1!=b||(s+=v.delimiter);function i(e){return new Date(+(""+e[f]+e[f+1]+e[f+2]+e[f+3]),""+e[p]+e[p+1]-1,+(""+e[b]+e[b+1]))}return a.getVal=function(e){return a._hasValue||e?i(a.getArrayVal(e)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:s,parseValue:function(e){var t,a=[],e=e||v.defaultValue,s=we(v.dateFormat,e,v);if(e)for(t=0;t<n.length;++t)a=/m/i.test(n[t].n)?a.concat(((v.getMonth(s)<9?"0":"")+(v.getMonth(s)+1)).split("")):/d/i.test(n[t].n)?a.concat(((v.getDay(s)<10?"0":"")+v.getDay(s)).split("")):a.concat((v.getYear(s)+"").split(""));return a},formatValue:function(e){return xe(v.dateFormat,i(e),v)},validate:function(e){var t=e.values,e=i(t);return{disabled:function(e){var t,a,s,n,i,o,l=[],r=void 0!==e[f+3]?""+e[f]+e[f+1]+e[f+2]+e[f+3]:"",c=void 0!==e[p+1]?""+e[p]+e[p+1]:"",d=void 0!==e[b+1]?""+e[b]+e[b+1]:"",m=""+v.getMaxDayOfMonth(r||2012,c-1||0),u=w===r&&+g==+c,h=C===r&&+_==+c;if(v.invalid)for(t=0;t<v.invalid.length;++t){if(s=v.getYear(v.invalid[t]),n=v.getMonth(v.invalid[t]),i=v.getDay(v.invalid[t]),s==+r&&n+1==+c&&(i<10?0:+(""+i)[0])==+e[b]){l.push(i<10?i:+(""+i)[1]);break}if(n+1==+c&&i==+d&&(""+s).substring(0,3)==""+e[f]+e[f+1]+e[f+2]){l.push((""+s)[3]);break}if(s==+r&&i==+d&&(n<10?0:+(""+(n+1))[0])==+e[p]){l.push(n<10?n:+(""+(n+1))[1]);break}}if("31"!=d||e.length!=p&&e.length!=p+1||(1!=e[p]?l.push(2,4,6,9,11):l.push(1)),"30"==d&&0===e[p]&&e.length<=p+1&&l.push(2),e.length==p){for(t=C===r&&+_<10?1:2;t<=9;++t)l.push(t);w===r&&10<=+g&&l.push(0)}if(e.length==p+1){if(1==e[p]){for(t=C===r?+_[1]+1:3;t<=9;++t)l.push(t);if(w==r)for(t=0;t<+g[1];++t)l.push(t)}if(0===e[p]&&(l.push(0),C===r||w===r))for(t=C===r?+x<+d?+_:+_+1:0;t<=(w===r?+g-1:9);++t)l.push(t)}if(e.length==b){for(t=h?1+(10<+x?+x[0]:0):+m[0]+1;t<=9;++t)l.push(t);if(u)for(t=0;t<(+y<10?0:y[0]);++t)l.push(t)}if(e.length==b+1){if(3<=e[b]||"02"==c)for(t=+m[1]+1;t<=9;++t)l.push(t);if(h&&+x[0]==e[b])for(t=+x[1]+1;t<=9;++t)l.push(t);if(u&&y[0]==e[b])for(t=0;t<+y[1];++t)l.push(t);if(0===e[b]&&(l.push(0),h||u))for(t=h?+x+1:1;t<=(u?+y-1:9);++t)l.push(t)}if(void 0!==e[f+2]&&"02"==c&&"29"==d)for(a=+(""+e[f]+e[f+1]+e[f+2]+0);a<=+(""+e[f]+e[f+1]+e[f+2]+9);++a)l.push((o=a)%4==0&&o%100!=0||o%400==0?"":a%10);if(e.length==f){if(v.min)for(t=0;t<+w[0];++t)l.push(t);if(v.max)for(t=+C[0]+1;t<=9;++t)l.push(t);l.push(0)}if(v.min||v.max)for(a=1;a<4;++a)if(e.length==f+a){if(e[f+a-1]==+w[a-1]&&(3!=a||e[f+a-2]==+w[a-2]))for(t=0;t<+w[a]+(3==a&&e[p+1]&&+c<+g?1:0);++t)l.push(t);if(e[f+a-1]==+C[a-1]&&(3!=a||e[f+a-2]==+C[a-2]))for(t=+C[a]+(3==a&&+_<+c?0:1);t<=9;++t)l.push(t)}return l}(t),invalid:!("Invalid Date"!=e&&(!v.min||v.min<=e)&&(!v.max||e<=v.max))||!!v.invalid&&-1!=a._indexOf(v.invalid,e)}}}}));var Ct=["focus","change","blur","animationstart"],Tt=function(h){function e(e,t){var a,s,n,i,o,l,r,c=h.call(this,e,t)||this,d=c._$elm,m=c._$parent,u=m.find(".mbsc-select-input, .mbsc-color-input");return a=L(c),s=m,i={},o=(n=d)[0],t=n.attr("data-password-toggle"),l=n.attr("data-icon-show")||"eye",r=n.attr("data-icon-hide")||"eye-blocked",t&&(i.right="password"==o.type?l:r),Ye(n,i),t&&k(a,s.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==o.type?(o.type="password",ka(this).addClass("mbsc-ic-"+l).removeClass("mbsc-ic-"+r)):(o.type="text",ka(this).removeClass("mbsc-ic-"+l).addClass("mbsc-ic-"+r))}),c._checkLabel=c._checkLabel.bind(L(c)),c._mouseDown=c._mouseDown.bind(L(c)),c._setText=c._setText.bind(L(c)),"file"==e.type&&(e=m.find(".mbsc-file-input"),c._$input=e.length?e:ka('<input type="text" class="'+(d.attr("class")||"")+' mbsc-file-input" placeholder="'+(d.attr("placeholder")||"")+'"/>').insertAfter(d),d.on("change",c._setText)),m.addClass("mbsc-input").on("mousedown",c._mouseDown),Ct.forEach(function(e){d.on(e,c._checkLabel)}),u.length&&(d.after(u),u.hasClass("mbsc-select-input")&&(c._delm=u[0],c.refresh())),c}F(e,h);var t=e.prototype;return t._setText=function(e){for(var t=e.target.files,a=[],s=0;s<t.length;++s)a.push(t[s].name);this._$input.val(a)},t._checkLabel=function(e){var t;this._isFloating&&((t=this._delm||this._elm).value||document.activeElement===t||e&&("focus"==e.type||"animationstart"==e.type&&this._$elm.is("*:-webkit-autofill"))?this._$parent.addClass("mbsc-label-floating-active"):this._$parent.removeClass("mbsc-label-floating-active"))},t._mouseDown=function(e){document.activeElement===this._elm&&e.target!==this._elm&&e.preventDefault()},t.refresh=function(){this._checkLabel()},t.destroy=function(){var t=this;h.prototype.destroy.call(this),this._$parent.off("mousedown",this._mouseDown).removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove(),this._$parent.find(".mbsc-input-fill").remove(),Ct.forEach(function(e){t._$elm.off(e,t._checkLabel)}),this._$elm.off("change",this._setText)},e}(We);S("[mbsc-input]",Tt);var kt=function(s){function e(e,t){var a=s.call(this,e,t)||this,e=a._$elm,t=e.attr("data-icon");return e.addClass("mbsc-btn mbsc-no-touch").find(".mbsc-btn-ic").remove(),t&&(e.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+t+'"></span>'),""===e.text()&&e.addClass("mbsc-btn-icon-only")),a._$rippleElm=e,a}return F(e,s),e.prototype.getClassElm=function(){return this._$elm},e}(We);S("[mbsc-button]",kt);var Mt=function(a){function e(e,t){t=a.call(this,e,t)||this;return t._$parent.prepend(t._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),t._$elm.after('<span class="mbsc-checkbox-box"></span>'),t}return F(e,a),e}(We);S("[mbsc-checkbox]",Mt);var Dt=function(a){function e(e,t){t=a.call(this,e,t)||this;return t._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),t._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),t}return F(e,a),e}(We);S("[mbsc-radio]",Dt);var St=function(n){function e(e,t){var a=n.call(this,e,t)||this,s=a._$elm,e=a._$parent,t=e.find(".mbsc-select-input"),t=t.length?t:ka('<input tabindex="-1" class="mbsc-select-input mbsc-control" readonly>');return a._$input=t,a._delm=t[0],a._setText=a._setText.bind(L(a)),e.addClass("mbsc-select"+(a._$frame?" mbsc-select-inline":"")),s.after(t),t.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),s.on("change",a._setText),a._setText(),a}F(e,n);var t=e.prototype;return t.destroy=function(){n.prototype.destroy.call(this),this._$parent.find(".mbsc-select-ic").remove(),this._$elm.off("change",this._setText)},t._setText=function(){var e=this._elm,t=ka(e);t.is("select")&&!t.hasClass("mbsc-comp")&&this._$input.val(-1!=e.selectedIndex?e.options[e.selectedIndex].text:""),this.refresh()},e}(Tt);S("[mbsc-dropdown]",St);var Vt,At=["change","keydown","input","scroll"];function It(){clearTimeout(Vt),Vt=setTimeout(function(){ka("textarea.mbsc-control").each(function(){Et(this)})},100)}function Et(e){var t,a,s=ka(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",a=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(0<a?a:0),s<(a=Math.round(t/24))?(t=24*s+(t-24*a),ka(e).addClass("mbsc-textarea-scroll")):ka(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}m&&ka(window).on("resize orientationchange",It);var $t=function(n){function e(e,t){var a=n.call(this,e,t)||this;return a._$parent.addClass("mbsc-textarea"),At.forEach(function(e){a._$elm.on(e,a._handle)}),Et(e),a}F(e,n);var t=e.prototype;return t.destroy=function(){var t=this;n.prototype.destroy.call(this),At.forEach(function(e){t._$elm.off(e,t._handle)})},t.refresh=function(){n.prototype.refresh.call(this),clearTimeout(this._debounce),Et(this._elm)},t._handle=function(e){switch(n.prototype._handle.call(this,e),e.type){case"change":Et(this._elm);break;case"keydown":case"input":this._onInput(e);break;case"scroll":t=this._elm,(s=ka(t)).hasClass("mbsc-textarea-scroll")||(a=t.scrollHeight-t.offsetHeight,a=t.offsetHeight+a,Math.round(a/24)<=(s.attr("rows")||6)&&(t.scrollTop=0,t.style.height=a+"px"))}var t,a,s},t._onInput=function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){Et(e._elm)},100)},e}(Tt);S("[mbsc-textarea]",$t);var Ot=function(i){function e(e,t){var a,s,n=i.call(this,e,t)||this,e=n._$elm,t=n._$parent;return t.hasClass("mbsc-segmented-item-ready")||(a=ka('<div class="mbsc-segmented mbsc-segmented-group mbsc-no-touch"></div>'),t.after(a),t.parent().find('input[name="'+e.attr("name")+'"]').each(function(){var e=ka(this);s=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),ka('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(s.contents()).appendTo(s),s.prepend(e),a.append(s)})),n._$rippleElm=e.next(),n}return F(e,i),e.prototype.getClassElm=function(){return this._$elm.closest(".mbsc-segmented")},e}(We);S("[mbsc-segmented]",Ot);function Ft(t,e){var s,n,i,a,o,l,r,c,d,m,u,h,f,p,b,v,g="",_=this,y=ka(t),x=p;function w(){var e;t.disabled||(e=parseFloat(ka(this).val()),k(isNaN(e)?p:e))}function C(){return t.disabled}function T(e,t){k(p+t*m)}function k(e,t,a){x=p,void 0===t&&(t=!0),void 0===a&&(a=t),p=D(e),i.removeClass("mbsc-disabled"),t&&y.val(p),p==l&&n.addClass("mbsc-disabled"),p==o&&s.addClass("mbsc-disabled"),p!==x&&a&&y.trigger("change")}function M(e,t,a){e=y.attr(e);return void 0===e||""===e?t:a?e:+e}function D(e){return+Math.min(o,Math.max(Math.round(e/m)*m,l)).toFixed(d)}Sa.call(this,t,e,!0),_.getVal=function(){var e=parseFloat(y.val());return D(e=isNaN(e)?p:e)},_.setVal=function(e,t,a){e=parseFloat(e),k(isNaN(e)?p:e,t,a)},_._init=function(){b=y.parent().hasClass("mbsc-stepper"),v=b?y.closest(".mbsc-stepper-cont"):y.parent(),h=_.settings,l=void 0===e.min?M("min",h.min):e.min,o=void 0===e.max?M("max",h.max):e.max,m=void 0===e.step?M("step",h.step):e.step,d=Math.abs(m)<1?(m+"").split(".")[1].length:0,r=void 0===e.inputStyle?M("data-input-style",h.inputStyle,!0):e.inputStyle,a=y.attr("data-val")||h.val,p=D(+t.value||0),f=Q.themes.form[h.theme],c=f&&f.addRipple?f:null,b||v.addClass("mbsc-stepper-cont mbsc-no-touch mbsc-control-w").addClass("box"==r?"mbsc-input-box":"").addClass("outline"==r?"mbsc-input-outline":"").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(p==l?"mbsc-disabled":"")+'" data-step="-1" tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(p==o?"mbsc-disabled":"")+'"  data-step="1" tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span></span></span>').prepend(y),g&&v.removeClass(g).find(".mbsc-segmented").removeClass(g),g="mbsc-"+h.theme+(f.baseTheme?" mbsc-"+f.baseTheme:"")+(h.rtl?" mbsc-rtl":" mbsc-ltr"),v.addClass(g).find(".mbsc-segmented").addClass(g),n=ka(".mbsc-stepper-minus",v),s=ka(".mbsc-stepper-plus",v),i=ka(".mbsc-stepper-control",v),b||("left"==a?(v.addClass("mbsc-stepper-val-left"),y.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==a?(v.addClass("mbsc-stepper-val-right"),s.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):n.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),u||(y.on("change",w),u=nt(i,T,150,C,!1,c)),y.val(p).attr("data-role","stepper").attr("min",l).attr("max",o).attr("step",m).addClass("mbsc-control"),t.mbscInst=_},_._destroy=function(){y.removeClass("mbsc-control").off("change",w),u.destroy(),delete t.mbscInst},_.init()}Ft.prototype={_class:"stepper",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{min:0,max:100,step:1}},S("[mbsc-stepper]",A.Stepper=Ft);function Yt(e,t){var s,a,n,i,o=this;Da(t=t||{},{changeEvent:"click",round:!1}),ze.call(this,e,t,!0),o._readValue=function(){return e.checked?1:0},o._fillValue=function(e,t,a){s.prop("checked",!!e),a&&s.trigger("change")},o._onTap=function(e){o._setVal(e?0:1)},o.___init=function(){n=o.settings,s=ka(e),(a=s.parent()).find(".mbsc-switch-track").remove(),a.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),i&&i.destroy(),i=new We(e,n),o._$track=a.find(".mbsc-progress-track"),o._min=0,o._max=1,o._step=1},o.___destroy=function(){i.destroy()},o.getVal=function(){return e.checked},o.setVal=function(e,t,a){o._setVal(e?1:0,t,a)},o.init()}Yt.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},S("[mbsc-switch]",A.Switch=Yt);function Lt(e,t,a){var o,s,l,n,i,r,c,d=this,m=ka(e);Be.call(this,e,t,!0),d._update=function(e,t,a,s,n,i){return o.css("width",K(e,0,l)+"%"),n||t[a]==e&&!i||d._display(e),e},d._markupReady=function(){var e,t="",a="";for(s=d._$track,o=d._$progress,c=d.settings,n=d._min,l=d._max,d._base=n,d._rounding=c.rtl?"floor":"ceil",i=m.attr("data-empty")||c.empty,r=m.attr("data-filled")||c.filled,e=0;e<l;++e)t+='<span class="mbsc-ic mbsc-ic-'+i+'"></span>',a+='<span class="mbsc-ic mbsc-ic-'+r+'"></span>';s.html(t),s.append(o),o.html(a),s.append('<span class="mbsc-rating-handle-cont"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+n+'" aria-valuemax="'+l+'" data-index="0"></span></span>')},a||d.init()}Lt.prototype={_class:"progress",_css:"mbsc-progress mbsc-rating",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:1,max:5,step:1,live:!0,round:!0,hover:!0,highlight:!0,returnAffix:!0,empty:"star",filled:"star3"}},S("[mbsc-rating]",A.Rating=Lt);var Ht=1,Pt=function(){function e(e,t){var a,s,n,i=this,o=ka(e);this.settings=t,this._isOpen=t.isOpen||!1,o.addClass("mbsc-collapsible "+(this._isOpen?"mbsc-collapsible-open":"")),(a=(n=o.hasClass("mbsc-card")?(s=o.find(".mbsc-card-header").eq(0).addClass("mbsc-collapsible-header"),o.find(".mbsc-card-content").eq(0).addClass("mbsc-collapsible-content")):o.hasClass("mbsc-form-group")||o.hasClass("mbsc-form-group-inset")?(s=o.find(".mbsc-form-group-title").eq(0).addClass("mbsc-collapsible-header"),o.find(".mbsc-form-group-content").eq(0).addClass("mbsc-collapsible-content")):(s=o.find(".mbsc-collapsible-header").eq(0),o.find(".mbsc-collapsible-content").eq(0)))[0])&&!a.id&&(a.id="mbsc-collapsible-"+Ht++),s.length&&a&&(t=ka('<span class="mbsc-collapsible-icon mbsc-ic mbsc-ic-arrow-down5"></span>'),k(this,s,function(){i.collapse()}),s.attr("role","button").attr("aria-expanded",this._isOpen).attr("aria-controls",a.id).attr("tabindex","0").on("mousedown",this.onMouseDown).on("keydown",this.onKeyDown).append(t)),(e.mbscInst=this)._$header=s,this._$content=n,this._$elm=o,this._$accordionParent=o.parent("[mbsc-accordion], mbsc-accordion, .mbsc-accordion"),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}var t=e.prototype;return t.collapse=function(e){function t(){s.off("transitionend",t).css("height","")}var a=this._$elm,s=this._$content;(e=void 0===e?!this._isOpen:e)&&this._isOpen||!e&&!this._isOpen||!s.length||(e?(_&&s.on("transitionend",t).css("height",s[0].scrollHeight),a.addClass("mbsc-collapsible-open")):(_&&s.css("height",getComputedStyle(s[0]).height),setTimeout(function(){s.css("height",0),a.removeClass("mbsc-collapsible-open")},50)),e&&this._$accordionParent&&this._$accordionParent.find(".mbsc-collapsible-open").each(function(){this!==a[0]&&this.mbscInst.hide()}),this._isOpen=e,this._$header.attr("aria-expanded",this._isOpen))},t.show=function(){this.collapse(!0)},t.hide=function(){this.collapse(!1)},t.toggle=function(){this.collapse()},t.destroy=function(){this._$elm.removeClass("mbsc-collapsible mbsc-collapsible-open"),this._$content.removeClass("mbsc-collapsible-content"),this._$header.removeClass("mbsc-collapsible-header").off("mousedown",this.onMouseDown).off("keydown",this.onKeyDown).find(".mbsc-collapsible-icon").remove(),le(this._$header)},t.onKeyDown=function(e){32!==e.which&&13!=e.keyCode||(e.preventDefault(),this.collapse())},t.onMouseDown=function(e){e.preventDefault()},e}();A.CollapsibleBase=Pt;var Nt=0;function Wt(e,s,n,t){ka("input,select,textarea,progress,button",e).each(function(){var e=this,t=ka(e),a=Ca(t);if("false"!=t.attr("data-enhance"))if(t.hasClass("mbsc-control"))e.mbscInst&&e.mbscInst.option({theme:n.theme,lang:n.lang,rtl:n.rtl,onText:n.onText,offText:n.offText,stopProp:n.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++Nt),a){case"button":case"submit":s[e.id]=new kt(e,{theme:n.theme,rtl:n.rtl,tap:n.tap});break;case"switch":s[e.id]=new Yt(e,{theme:n.theme,lang:n.lang,rtl:n.rtl,tap:n.tap,onText:n.onText,offText:n.offText,stopProp:n.stopProp});break;case"checkbox":s[e.id]=new Mt(e,{tap:n.tap,theme:n.theme,rtl:n.rtl});break;case"range":ka(e).parent().hasClass("mbsc-slider")||(s[e.id]=new Be(e,{theme:n.theme,lang:n.lang,rtl:n.rtl,stopProp:n.stopProp,labelStyle:n.labelStyle}));break;case"rating":s[e.id]=new Lt(e,{theme:n.theme,lang:n.lang,rtl:n.rtl,stopProp:n.stopProp});break;case"progress":s[e.id]=new qe(e,{theme:n.theme,lang:n.lang,rtl:n.rtl,labelStyle:n.labelStyle});break;case"radio":s[e.id]=new Dt(e,{tap:n.tap,theme:n.theme,rtl:n.rtl});break;case"select":case"select-one":case"select-multiple":s[e.id]=new St(e,{tap:n.tap,inputStyle:n.inputStyle,labelStyle:n.labelStyle,theme:n.theme,rtl:n.rtl});break;case"textarea":s[e.id]=new $t(e,{tap:n.tap,inputStyle:n.inputStyle,labelStyle:n.labelStyle,theme:n.theme,rtl:n.rtl});break;case"segmented":s[e.id]=new Ot(e,{theme:n.theme,rtl:n.rtl,tap:n.tap,inputStyle:n.inputStyle});break;case"stepper":s[e.id]=new Ft(e,{theme:n.theme,rtl:n.rtl});break;case"hidden":return;default:s[e.id]=new Tt(e,{tap:n.tap,inputStyle:n.inputStyle,labelStyle:n.labelStyle,theme:n.theme,rtl:n.rtl})}}),ka("[data-collapsible]:not(.mbsc-collapsible)",e).each(function(){var e=ka(this).attr("data-open");this.id||(this.id="mbsc-form-control-"+ ++Nt),s[this.id]=new Pt(this,{isOpen:void 0!==e&&"false"!=e}),Ma[this.id]=s[this.id]}),t||It()}var Rt=function(e,t,a){function s(e){ka(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(ka(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(o.show()),ka(".mbsc-w-p",e).length||ka(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,o=ka(e),l=this;z.call(this,e,t,!0),l._generateContent=function(){return""},l._markupReady=function(e){"inline"!=n.display&&s(e)},l._markupInserted=function(e){"inline"==n.display&&s(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},l._markupRemove=function(){o.hide(),i&&i.parent().length&&i.after(o)},l.__processSettings=function(){n=l.settings,l.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),!i&&o.parent().length&&(i=ka(document.createComment("popup")),o.before(i)),o.hide()},a||l.init()};Rt.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_responsive:!0,_class:"popup",_defaults:Da({},z.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})},A.Popup=Rt;h=A.Widget=Rt;Q.themes.popup=Q.themes.frame;var qt,zt=m&&!!window.Promise,Bt=[],Ut=[];function Xt(e){Bt.length||e.show(),Bt.push(e)}function jt(e,a,s,t){return Da({display:a.display||"center",cssClass:"mbsc-alert",okText:a.okText,cancelText:a.cancelText,context:a.context,theme:a.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onHide:function(e,t){s&&s(t._resolve),a.callback&&a.callback(t._resolve),t&&t.destroy(),Bt.length?Bt[0].show():Ut.length&&Ut[0].show(!1,!0)}},t)}function Gt(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function Kt(e,t,a){Xt(new Rt(e,jt(Bt,t,a)))}function Zt(e,t,a){var s=new Rt(e,jt(Bt,t,a,{buttons:["cancel","ok"],onSet:function(){s._resolve=!0}}));s._resolve=!1,Xt(s)}function Jt(e,t,a){var s,n=new Rt(e,jt(Bt,t,a,{buttons:["cancel","ok"],onMarkupReady:function(e,t){var a=t.settings;t._markup.find("label").addClass("mbsc-"+a.theme+(a.baseTheme?" mbsc-"+a.baseTheme:"")),s=t._markup.find("input")[0],setTimeout(function(){s.focus(),s.setSelectionRange(0,s.value.length)},300)},onSet:function(){n._resolve=s.value}}));n._resolve=null,Xt(n)}function Qt(e,a,t,s,n){var i,n=new Rt(e,jt(Ut,a,t,{display:a.display||"bottom",animate:n,cssClass:(s||"mbsc-snackbar")+(a.color?" mbsc-"+a.color:""),scrollLock:!1,focusTrap:!1,buttons:[],onMarkupReady:function(e,t){var a=t.settings;t._markup.find("button").addClass("mbsc-"+a.theme+(a.baseTheme?" mbsc-"+a.baseTheme:""))},onShow:function(e,t){qt=t,!1!==a.duration&&(i=setTimeout(function(){t&&t.hide()},a.duration||3e3)),a.button&&t.tap(ka(".mbsc-snackbar-btn",e.target),function(){t.hide(),a.button.action&&a.button.action.call(this)})},onClose:function(){qt=null,clearTimeout(i)}}));s=n,n=Ut.length,Ut.push(s),Bt.length||(n?Ut[0].hide():s.show(!1,!0))}function ea(e,t,a){Qt(e,t,a,"mbsc-toast","fade")}function ta(t,a,s){var e;return zt?e=new Promise(function(e){t(a,s,e)}):t(a,s),e}Q.alert=function(e){var t=document.createElement("div");return t.innerHTML=Gt(e),ta(Kt,t,e)},Q.confirm=function(e){var t=document.createElement("div");return t.innerHTML=Gt(e),ta(Zt,t,e)},Q.prompt=function(e){var t=document.createElement("div");return t.innerHTML=Gt(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input class="mbsc-control" tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',ta(Jt,t,e)},Q.snackbar=function(e){var t=document.createElement("div"),a=e.button;return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(a?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(a.icon?'<span class="mbsc-ic '+(a.text?"mbsc-btn-ic ":"")+"mbsc-ic-"+a.icon+'"></span>':"")+(a.text||"")+"</button>":"")+"</div>",ta(Qt,t,e)},Q.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",ta(ea,t,e)},Q.notification={dismiss:function(){qt&&qt.hide()}};var aa="ios"==r&&7<a,s=function(e,t){var a,s="",n=ka(e),i={},o=this;function l(){n.removeClass("mbsc-no-touch")}Sa.call(this,e,t,!0),o.refresh=function(e){a.enhance&&Wt(n,i,a,e)},o._init=function(){Q.themes.form[a.theme]||(a.theme="mobiscroll"),n.hasClass("mbsc-form")||(n.show(),pa(n[0],"touchstart",l,{passive:!0})),s&&n.removeClass(s),s="mbsc-form mbsc-no-touch mbsc-"+a.theme+(aa?" mbsc-form-hb":"")+(a.baseTheme?" mbsc-"+a.baseTheme:"")+(a.rtl?" mbsc-rtl":" mbsc-ltr")+("box"==a.inputStyle?" mbsc-form-box":"")+("outline"==a.inputStyle?" mbsc-form-outline":""),n.addClass(s).removeClass("mbsc-cloak"),o.refresh()},o._destroy=function(){for(var e in n.removeClass(s),ba(n[0],"touchstart",l,{passive:!0}),i)i[e].destroy()},o.controls=i,a=o.settings,o.init()};s.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:g,stopProp:!0,rtl:!1,enhance:!0}},S("[mbsc-enhance],[mbsc-form]",A.Form=s,!0);d=function(e,t){var i="",o=ka(e),l=this.settings;Sa.call(this,e,t,!0),this._init=function(){var e=l.context,t=ka(e),a=t.find(".mbsc-ms-top .mbsc-ms"),s=t.find(".mbsc-ms-bottom .mbsc-ms"),n={};("body"==e?ka("body,html"):t).addClass("mbsc-page-ctx"),i&&o.removeClass(i),a.length&&(n.paddingTop=a[0].offsetHeight),s.length&&(n.paddingBottom=s[0].offsetHeight),i="mbsc-page mbsc-"+l.theme+(l.baseTheme?" mbsc-"+l.baseTheme:"")+(l.rtl?" mbsc-rtl":" mbsc-ltr"),o.addClass(i).removeClass("mbsc-cloak").css(n)},this._destroy=function(){o.removeClass(i)},l=this.settings,this.init()};d.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},A.Page=d,Q.themes.page.mobiscroll={},S("[mbsc-page]",d),l("page",d,!1),l("form",s,!1),l("progress",qe,!1),l("slider",Be,!1),l("stepper",Ft,!1),l("switch",Yt,!1),l("rating",Lt,!1);var sa={view:{calendar:{type:"month",popover:!0}},allDayText:"All-day",labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events",noEventsText:"No events"},na={yearChange:!1,weekDays:"short"};B.eventcalendar=function(_,e,t){function m(e,t,a){var s,n,i,o,l=0,r=[],c="",d=[];for(a=a||_._prepareObj(Z,e,t),s=rt(e);s<=t;s.setDate(s.getDate()+1))(o=a[rt(s)])&&o.length&&d.push({d:new Date(s),list:x(o)});if(0<d.length)for(n=0;n<d.length;n++){for(c+='<div><div class="mbsc-lv-gr-title mbsc-event-day" data-full="'+ct((o=d[n]).d)+'">'+xe(j.dateFormat,o.d,j)+"</div>",i=0;i<o.list.length;i++){var m=o.list[i],u=m.start?dt(m.start):null,h=m.end?dt(m.end):null,f=m.color,p=ht.test(m.d)||ut.test(m.d),b=u&&h&&!mt(u,h),v=!b||mt(u,o.d),g=!b||mt(h,o.d),u=m.d?p?m.d:dt(m.d):u,p=m.allDay||p||b&&!v&&!g;r.push({d:o.d,e:m}),c+='<div tabindex="0" role="button" class="mbsc-lv-item mbsc-lv-item-actionable" data-index="'+l+'"><div class="mbsc-event-time">'+(p?j.allDayText:v&&u&&u.getTime?xe(j.timeFormat,u):b&&g?j.toText:"")+(!p&&g&&h&&h.getTime?"<br/>"+xe(j.timeFormat,h):"")+'</div><div class="mbsc-event-color"'+(f?' style="background:'+f+';"':"")+'></div><div class="mbsc-event-txt">'+m.text+"</div></div>",l++}c+="</div>"}else c+='<div class="mbsc-lv-gr-title mbsc-event-empty"><div class="mbsc-empty"><h3>'+j.noEventsText+"</h3></div></div>";G++,w.html('<div class="mbsc-lv mbsc-lv-v">'+c+"</div>").scrollTop(0),setTimeout(function(){G--},150),e=ka(".mbsc-lv-item",w),_.tap(e,function(e){var t=r[ka(this).attr("data-index")];Q("onEventSelect",{domEvent:e,event:t.e,date:t.d})}),y(e)}function y(e){e.on("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||this.click()}).on("focus",function(){window.__mbscFocusVisible&&ka(this).addClass("mbsc-focus")}).on("blur",function(){ka(this).removeClass("mbsc-focus")})}function u(){var e;I&&(e=rt(I.d),function(t,u,e){{var a,s,n,i,h;t&&(h='<div class="mbsc-cal-event-list">',a=ka('<div class="mbsc-cal-events '+(j.eventBubbleClass||"")+'"><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div><div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div></div></div>'),s=ka(".mbsc-cal-events-i",a),i=ka(".mbsc-cal-events-sc",a),_.tap(s,function(){n.scrolled||o()}),E=new Rt(a[0],{display:"bubble",theme:j.theme,lang:j.lang,context:j.context,buttons:[],anchor:e,showOverlay:!1,cssClass:"mbsc-no-padding mbsc-cal-events-popup",onShow:function(){n=new it(s[0],{scrollbar:ka(".mbsc-sc-bar-c",a),stopProp:!1}),ka(document).on("click",l)},onClose:function(e,t){t.destroy(),n&&n.destroy(),ka(document).off("click",l)}}),_._popup=E,v=e,t=x(t),ka.each(t,function(e,t){var a=t.start?dt(t.start):null,s=t.end?dt(t.end):null,n=ht.test(t.d)||ut.test(t.d),i=t.d?n?t.d:dt(t.d):a,o=a&&s&&!mt(a,s),l=!o||mt(a,u),r=!o||mt(s,u),c=t.allDay||n||o&&!l&&!r,d=t.color,m="",n="",r=ka("<div>"+t.text+"</div>").text();i.getTime&&(m=xe((o?"MM d yy ":"")+j.timeFormat,i)),s&&(n=xe((o?"MM d yy ":"")+j.timeFormat,s)),h+='<div tabindex="0" role="button" title="'+r+'" aria-label="'+r+(m?", "+j.fromText+": "+m:"")+(n?", "+j.toText+": "+n:"")+'" class="mbsc-cal-event mbsc-lv-item mbsc-lv-item-actionable"><div class="mbsc-cal-event-color" style="'+(d?"background:"+d+";":"")+'"></div><div class="mbsc-cal-event-text"><div class="mbsc-cal-event-time">'+(c?j.allDayText:l&&i.getTime?xe(j.timeFormat,i):"")+"</div>"+t.text+"</div>"+(a&&s&&!t.allDay?'<div class="mbsc-cal-event-dur">'+j.formatDuration(a,s,t)+"</div>":"")+"</div>"}),h+="</div>",i.html(h),E.show(),Q("onEventBubbleShow",{target:v,eventList:a[0]}),i=ka(".mbsc-cal-event",i),_.tap(i,function(e){n.scrolled||Q("onEventSelect",{domEvent:e,event:t[ka(this).index()],date:u})}),y(i),T=!0)}}(I.events||C[e],e,I.cell||ka('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+ct(e)+'"]',_._markup)[0]),I=null)}function x(e){return e.slice(0).sort(j.eventOrder)}function a(){var e;G||ka(".mbsc-event-day",this).each(function(){if(0<=(e=this.offsetTop-g.scrollTop)&&e<35)return e=ka(this).attr("data-full").split("-"),mt(e=ot(e[0],e[1]-1,e[2]),b)||($=!0,_.setVal(e)),!1})}function o(){E&&T&&E.hide(),v=null,T=!1}function l(e){0==ka(e.target).closest(".mbsc-cal-day").length&&o()}function s(){o(),_.redraw()}function n(e){var t=j.getYear(e),a=j.getMonth(e),s=j.getDay(e);c=e,"day"==S?d=j.getDate(t,a,s+V-1):"week"==S?(e=c.getDay(),e=s+j.firstDay-(0<j.firstDay-e?7:0)-e,c=j.getDate(t,a,e),d=j.getDate(t,a,e+7*V-1)):"month"==S?(c=j.getDate(t,a,1),d=j.getDate(t,a+V,0)):"year"==S&&(c=j.getDate(t,0,1),d=j.getDate(t+V,0,0))}function h(e,t){!H||$||(e=ka('.mbsc-event-day[data-full="'+ct(e)+'"]',w)).length&&(G++,se(g,e.parent()[0].offsetTop,t,function(){setTimeout(function(){G--},150)}))}function i(e,t){e&&Q("onPageChange",{firstDay:c,lastDay:d}),t||Q("onPageLoading",{firstDay:c,lastDay:d}),Q("onPageLoaded",{firstDay:c,lastDay:d})}var r,f,w,p,b,c,d,v,g,C,T,k,M,D,S,V,A,I,E,$,O,F,Y,L,H,P,N,W,R,q,z,B,U=this,X=Da({},_.settings),j=Da(_.settings,sa,X,na,e,t),G=0,K=0,Z=Da(!0,[],j.data),J=!0,Q=_.trigger;return j.data=Z,ka.each(Z,function(e,t){void 0===t._id&&(t._id=K++)}),W=j.view,R=W.calendar,q=W.eventList,z=j.months,B=j.weeks,D=R?("week"==R.type?B=R.size||1:R.size&&(z=R.size),!1):!(B=0),q&&(S=q.type,V=q.size||1),A=R&&R.labels,L=q&&q.scrollable,H=W.eventList,P=void 0===j.eventBubble?R&&R.popover:j.eventBubble,j.weeks=B,j.months=z,r=Se.call(this,_),_._onGenMonth=function(e,t){C=_._prepareObj(Z,e,t),_._labels=A?C:null},_._onRefresh=function(e){O=!0,Y=F=null,D&&i(!1,e)},_._onSetDate=function(e,t){b=e,D?$||k||(n(e),F&&Y&&mt(F,c)&&mt(Y,d)||i(!0)):t||k||(o(),H&&"day"==S&&m(e,e,C),!P&&!N||M||u(),h(e)),M=N=$=!1},_._getDayProps=function(e){var t=C[e],e={events:t};return j.marked||j.labels||A||(t?(e.background=t[0]&&t[0].background,e.marked=t,e.markup=j.showEventCount?'<div class="mbsc-cal-txt">'+t.length+" "+(1<t.length?j.eventsText:j.eventText)+"</div>":'<div class="mbsc-cal-marks"><div class="mbsc-cal-mark"></div></div>'):e.markup=j.showEventCount?'<div class="mbsc-cal-txt-ph"></div>':""),e},_.addEvent=function(e){var a=[];return e=Da(!0,[],ka.isArray(e)?e:[e]),ka.each(e,function(e,t){void 0===t._id&&(t._id=K++),Z.push(t),a.push(t._id)}),s(),a},_.updateEvent=function(a){ka.each(Z,function(e,t){if(t._id===a._id)return Z.splice(e,1,a),!1}),s()},_.removeEvent=function(e){e=ka.isArray(e)?e:[e],ka.each(e,function(e,a){ka.each(Z,function(e,t){if(t._id===a)return Z.splice(e,1),!1})}),s()},_.getEvents=function(e){var t;return e?(e.setHours(0,0,0,0),(t=_._prepareObj(Z,e,e))[e]?x(t[e]):[]):Da(!0,[],Z)},_.setEvents=function(e){var a=[];return j.data=Z=Da(!0,[],e),ka.each(Z,function(e,t){void 0===t._id&&(t._id=K++),a.push(t._id)}),s(),a},_.navigate=function(e,t,a){e=dt(e,_._format,j),I=a?{d:e}:null,_.setVal(e,!0,!0,!1,t?200:0)},Da({},r,{multiLabel:A,headerText:!1,buttons:"inline"!==j.display?["close"]:j.buttons,compClass:"mbsc-ev-cal mbsc-calendar mbsc-dt mbsc-sc",formatDuration:function(e,t){var a=j.labelsShort,s=Math.abs(t-e)/1e3,n=s/60,i=n/60,e=(t=i/24)/365;return s<45&&Math.round(s)+" "+a[5].toLowerCase()||n<45&&Math.round(n)+" "+a[4].toLowerCase()||i<24&&Math.round(i)+" "+a[3].toLowerCase()||t<30&&Math.round(t)+" "+a[2].toLowerCase()||t<365&&Math.round(t/30)+" "+a[1].toLowerCase()||Math.round(e)+" "+a[0].toLowerCase()},onMarkupReady:function(e,t){f=ka(e.target),b=t.getDate(!0),H&&((w=ka('<div class="mbsc-lv-cont mbsc-lv-'+j.theme+(j.baseTheme?" mbsc-lv-"+j.baseTheme:"")+(L?" mbsc-event-list-h":"")+' mbsc-event-list"></div>').appendTo(ka(".mbsc-fr-w",f))).on("scroll",ma(a)),g=w[0]),r.onMarkupReady.call(this,e),p=ka(".mbsc-cal-month",f),T=!1,n(b),H&&D&&(i(),nt(ka(".mbsc-cal-btn",f),function(e,t){var a=j.getYear(c),s=j.getMonth(c),n=j.getDay(c);"day"==S?(c=j.getDate(a,s,n+t*V),d=j.getDate(a,s,n+(t+1)*V-1)):"week"==S?(c=j.getDate(a,s,n+t*V*7),d=j.getDate(a,s,n+(t+1)*V*7-1)):"month"==S?(c=j.getDate(a,s+t*V,1),d=j.getDate(a,s+(t+1)*V,0)):"year"==S&&(c=j.getDate(a+t*V,0,1),d=j.getDate(a+(t+1)*V,0,0)),i(!0)},200)),0===(e=oe.__mbscFocusCount||0)&&(pa(oe,"mousedown",ne,!0),pa(oe,"keydown",ie,!0)),oe.__mbscFocusCount=++e},onDayChange:function(e){var t=e.target;t!==v&&(N=!1!==P&&ka(".mbsc-cal-txt-more",t).length,I={d:e.date,cell:j.outerMonthChange&&ka(t).hasClass("mbsc-cal-day-diff")?null:t,events:e.events})},onLabelTap:function(e){e.label&&(Q("onEventSelect",{domEvent:e.domEvent,event:e.label,date:e.date}),M=!0)},onPageChange:function(e){o(),k=!0,_._isSetDate||_.setVal(e.firstDay)},onPageLoaded:function(e){var t,a,s,n,i,o,l,r,c=e.firstDay,d=e.lastDay;H&&(D?F&&Y&&mt(F,c)&&mt(Y,d)||(m(F=c,Y=d),t=c,a=d,n=(j.dateWheels||j.dateFormat).search(/m/i),i=(j.dateWheels||j.dateFormat).search(/y/i),o=j.getYear(t),l=j.getMonth(t),r=j.getYear(a),e=j.getMonth(a),_._checkBtn(ka(".mbsc-cal-prev-m",f),rt(t)<=_._minDate),_._checkBtn(ka(".mbsc-cal-next-m",f),rt(a)>=_._maxDate),"day"==S?s=xe(j.dateFormat,t,j)+(1<V?" - "+xe(j.dateFormat,a,j):""):"week"==S?s=xe(j.dateFormat,t,j)+" - "+xe(j.dateFormat,a,j):"month"==S?s=1==V?i<n?o+" "+j.monthNames[l]:j.monthNames[l]+" "+o:i<n?o+" "+j.monthNamesShort[l]+" - "+r+" "+j.monthNamesShort[e]:j.monthNamesShort[l]+" "+o+" - "+j.monthNamesShort[e]+" "+r:"year"==S&&(s=o+(1<V?" - "+r:"")),p.html(s)):(d="month"==S?j.getDate(j.getYear(c),j.getMonth(c)+V,0):"week"==S?j.getDate(j.getYear(c),j.getMonth(c),j.getDay(c)+7*V-1):c=_.getVal(!0),m(c,d,C)),J||mt(b,c)||(h(b,O),O=!1)),P&&u(),k=!1},onPosition:function(e){var t,a;r.onPosition.call(this,e),E&&E.position(),H&&L&&(w.addClass("mbsc-event-list-h"),a="inline"==j.display?U.parentNode:window,e=(t=a,a=getComputedStyle(t),t.innerHeight||t.clientHeight-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom))-e.popup.offsetHeight,g.style.height=200<e?e+"px":"",w.removeClass("mbsc-event-list-h"),J&&e&&(h(b,!0),J=!1))},onHide:function(){var e;r.onHide.call(this),_._popup&&_._popup.destroy(),e=oe.__mbscFocusCount||0,oe.__mbscFocusCount=--e,0===oe.__mbscFocusCount&&(ba(oe,"mousedown",ne),ba(oe,"keydown",ie))}})},l("eventcalendar",W);var ia={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},oa={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};B.distance=function(e){var t=Da({},ia,e.settings);return Da(e.settings,t,{sign:!1,convert:function(e,t,a){return e*oa[t]/oa[a]}}),B.measurement.call(this,e)};var Fa={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},Ya={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};B.force=function(e){var t=Da({},Fa,e.settings);return Da(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Ya[t]/Ya[a]}}),B.measurement.call(this,e)};var La={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},Ha={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};B.mass=function(e){var t=Da({},La,e.settings);return Da(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Ha[t]/Ha[a]}}),B.measurement.call(this,e)};var Pa={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},Na={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};B.speed=function(e){var t=Da({},Pa,e.settings);return Da(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Na[t]/Na[a]}}),B.measurement.call(this,e)};var Wa={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},Ra={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};B.temperature=function(e){var t=Da({},Wa,e.settings);return Da(e.settings,t,{sign:!0,convert:function(e,t,a){return Ra[t+"2"+a](e)}}),B.measurement.call(this,e)},l("measurement",W),l("distance",W),l("force",W),l("mass",W),l("speed",W),l("temperature",W);function qa(l,e,t){var r,c,a,s,d,n,i,o,m,u,h,f,p,b,v,g,_,y={},x=this,w=ka(l);function C(e){clearTimeout(u),u=setTimeout(function(){D(!e||"load"!==e.type)},200)}function T(){i&&this.parentNode===l&&k(ka(this),!0)}function k(e,t,a){var s,n,i,o;e.length&&(void 0===a&&(a=1e3),t=x._onItemTap(e,t),(r=e).parent()[0]==l&&(s=e.offset().left,n=e[0].offsetLeft,i=e[0].offsetWidth,o=c.offset().left,h&&(n=v-n-i),"a"==b.variant?s<o?f.scroll(h?n+i-d:-n,a,!0):o+d<s+i&&f.scroll(h?n:d-n-i,a,!0):f.scroll((d/2-n-i/2)*(h?-1:1),a,!0)),t&&!e.hasClass("mbsc-disabled")&&_("onItemTap",{target:e[0]}))}function M(){var s;x._initMarkup(c),w.find(".mbsc-ripple").remove(),x._$items=w.children(),x._$items.each(function(e){var t=ka(this),a=(a=t.attr("data-ref"))||za++;0===e&&(s=t),r=r||x._getActiveItem(t),e="mbsc-scv-item mbsc-btn-e "+((x._getItemProps(t)||{}).cssClass||""),t.attr("data-ref",a).removeClass(y[a]).addClass(e),y[a]=e}),r=r||s,x._markupReady(c)}function D(e,t){var a=b.itemWidth,s=b.layout;x.contWidth=d=c.width(),x._checkResp()||e&&m===d||!d||(m=d,da(s)&&(n=d?d/s:a)<a&&(s="liquid"),a&&("liquid"==s?n=d?d/Math.min(Math.floor(d/a),x._$items.length):a:"fixed"==s&&(n=a)),x._size(d,n),n&&w.children().css("width",n+"px"),x.totalWidth=v=l.offsetWidth,Da(f.settings,{contSize:d,maxSnapScroll:!!b.paging&&1,maxScroll:0,minScroll:d<v?d-v:0,snap:b.paging?d:!!p&&(n||".mbsc-scv-item"),elastic:d<v&&(n||d)}),f.refresh(t),r&&k(r,!1))}Sa.call(this,l,e,!0),x.navigate=function(e,t,a){k(x._getItem(e),t,a)},x.next=function(e){var t;!r||(t=r.next()).length&&k(r=t,e)},x.prev=function(e){var t;!r||(t=r.prev()).length&&k(r=t,e)},x.refresh=x.position=function(e){M(),D(!1,e)},x._init=function(){var e;a=ka(b.context),s=ka("body"==b.context?window:b.context),x.__init(),h=b.rtl,p=!(!b.itemWidth||"fixed"==b.layout||void 0!==b.snap)||b.snap,e="mbsc-scv-c mbsc-no-touch mbsc-"+b.theme+" "+(b.cssClass||"")+" "+(b.wrapperClass||"")+(b.baseTheme?" mbsc-"+b.baseTheme:"")+(h?" mbsc-rtl":" mbsc-ltr")+(b.itemWidth?" mbsc-scv-hasw":"")+("body"==b.context?"":" mbsc-scv-ctx")+" "+(x._getContClass()||""),c?(c.attr("class",e),l.__mbscRippleOff&&l.__mbscRippleOff()):((c=ka('<div class="'+e+'"><div class="mbsc-scv-sc"></div></div>').on("click",".mbsc-scv-item",T).insertAfter(w)).find(".mbsc-scv-sc").append(w),c.find("img").on("load",C),s.on("orientationchange resize",C),o=ce(c[0],C,b.zone),f=new it(c[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:h,mousewheel:b.mousewheel,thresholdX:b.threshold,stopProp:b.stopProp,onStart:function(e){"touchstart"==e.domEvent.type&&(i=!1,g||(g=!0,a.find(".mbsc-no-touch").removeClass("mbsc-no-touch")))},onBtnTap:function(e){i=!0;var t=e.domEvent,e=t.target;"touchend"===t.type&&b.tap&&Ta(e,Ca(ka(e)),t)},onGestureStart:function(e){_("onGestureStart",e)},onGestureEnd:function(e){_("onGestureEnd",e)},onMove:function(e){_("onMove",e)},onAnimationStart:function(e){_("onAnimationStart",e)},onAnimationEnd:function(e){_("onAnimationEnd",e)}})),w.css("display","").addClass("mbsc-scv").removeClass("mbsc-cloak"),M(),_("onMarkupReady",{target:c[0]}),D()},x._size=ca,x._initMarkup=ca,x._markupReady=ca,x._getContClass=ca,x._getItemProps=ca,x._getActiveItem=ca,x.__init=ca,x.__destroy=ca,x._destroy=function(){x.__destroy(),s.off("orientationchange resize",C),w.removeClass("mbsc-scv").insertAfter(c).find(".mbsc-scv-item").each(function(){var e=ka(this);e.width("").removeClass(y[e.attr("data-ref")])}),c.remove(),f.destroy(),o.detach()},x._getItem=function(e){return"object"!=typeof e&&(e=x._$items.filter('[data-id="'+e+'"]')),ka(e)},x._onItemTap=function(e,t){return void 0===t||t},b=x.settings,_=x.trigger,t||x.init()}var za=1;qa.prototype={_class:"scrollview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:{tap:g,stopProp:!1,context:"body",layout:"liquid"}},A.ScrollView=qa;function Ba(a,e,t){var s,n,i,o,l,r,c=ka(a),d=this;function m(){n&&"inline"!=n&&s.find(".mbsc-page").css("padding-"+n,"")}function u(e){e.addClass(l).attr("data-selected","true").attr("aria-selected","true")}function h(e){e.removeClass(l).removeAttr("data-selected").removeAttr("aria-selected")}qa.call(this,a,e,!0),d.select=function(e){i||h(d._$items.filter(".mbsc-ms-item-sel")),u(d._getItem(e))},d.deselect=function(e){h(d._getItem(e))},d.enable=function(e){d._getItem(e).removeClass("mbsc-disabled").removeAttr("data-disabled").removeAttr("aria-disabled")},d.disable=function(e){d._getItem(e).addClass("mbsc-disabled").attr("data-disabled","true").attr("aria-disabled","true")},d.setBadge=function(e,t){var a;e=d._getItem(e).attr("data-badge",t),(a=ka(".mbsc-ms-badge",e)).length?t?a.html(t):a.remove():t&&e.append('<span class="mbsc-ms-badge">'+t+"</span>")},d._markupReady=function(e){d._hasIcons?e.addClass("mbsc-ms-icons"):e.removeClass("mbsc-ms-icons"),d._hasText?e.addClass("mbsc-ms-txt"):e.removeClass("mbsc-ms-txt"),d.__markupReady(e)},d._size=function(e,t){d.__size(e,t),"inline"!=n&&s.find(".mbsc-page").css("padding-"+n,a.offsetHeight+"px")},d._onItemTap=function(e,t){return!1!==d.__onItemTap(e,t)&&(void 0===t&&(t=!i),o&&t&&!e.hasClass("mbsc-disabled")&&(i?("true"==e.attr("data-selected")?h:u)(e):(h(d._$items.filter(".mbsc-ms-item-sel")),u(e))),t)},d._getActiveItem=function(e){var t="true"==e.attr("data-selected");if(o&&!i&&t)return e},d._getItemProps=function(e){var t="true"==e.attr("data-selected"),a="true"==e.attr("data-disabled"),s=e.attr("data-icon"),n=e.attr("data-badge");return e.attr("data-role","button").attr("aria-selected",t?"true":"false").attr("aria-disabled",a?"true":"false").find(".mbsc-ms-badge").remove(),n&&e.append('<span class="mbsc-ms-badge">'+n+"</span>"),s&&(d._hasIcons=!0),e.text()&&(d._hasText=!0),{cssClass:"mbsc-ms-item "+(r.itemClass||"")+" "+(t?l:"")+(a?" mbsc-disabled "+(r.disabledClass||""):"")+(s?" mbsc-ms-ic mbsc-ic mbsc-ic-"+s:"")}},d._getContClass=function(){return" mbsc-ms-c mbsc-ms-"+r.variant+" mbsc-ms-"+n+(o?"":" mbsc-ms-nosel")+(d.__getContClass()||"")},d.__init=function(){d.___init(),s=ka(r.context),m(),n=r.display,i="multiple"==r.select,o="off"!=r.select,l=" mbsc-ms-item-sel "+(r.activeClass||""),c.addClass("mbsc-ms mbsc-ms-base "+(r.groupClass||""))},d.__destroy=function(){c.removeClass("mbsc-ms mbsc-ms-base "+(r.groupClass||"")),m(),d.___destroy()},d.__onItemTap=ca,d.__getContClass=ca,d.__markupReady=ca,d.__size=ca,d.___init=ca,d.___destroy=ca,r=d.settings,t||d.init()}Ba.prototype={_defaults:Da({},qa.prototype._defaults)};W=function(e,t){var r,c,d,m,u,h=ka(e),s=h.is("ul,ol"),f=this;Ba.call(this,e,t,!0),f._initMarkup=function(){r&&r.remove(),c&&h.append(c.children())},f.__size=function(a,s){var n,i=s||72,o=f._$items.length,l=0;u.hide(),"bottom"==m.type&&(h.removeClass("mbsc-scv-liq"),r.remove(),f._$items.remove().each(function(e){var t=ka(this);h.append(t),l+=s||this.offsetWidth||0,Math.round(l+(e<o-1?i:0))>a&&(n=!0,c.append(t.css("width","").addClass("mbsc-fr-btn-e")))}),r.attr("class",d+(m.moreIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+m.moreIcon:"")).html(f._hasIcons&&f._hasText?m.moreText:""),n&&h.append(r)),"liquid"==m.layout&&h.addClass("mbsc-scv-liq")},f.__onItemTap=function(e){if(e.hasClass("mbsc-menu-item")&&!1!==f.trigger("onMenuShow",{target:e[0],menu:u}))return u.show(!1,!0),!1},f.__getContClass=function(){return"hamburger"==m.type?" mbsc-ms-hamburger":""},f.__markupReady=function(e){"hamburger"==m.type&&(c.append(f._$items.addClass("mbsc-fr-btn-e")),r.attr("class",d+(m.menuIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+m.menuIcon:"")).html(m.menuText||""),h.append(r),m.menuText&&m.menuIcon||e.removeClass("mbsc-ms-icons"),m.menuText?e.addClass("mbsc-ms-txt"):e.removeClass("mbsc-ms-txt"))},f.___init=function(){var a;"tab"==m.type?(m.display=m.display||"top",m.variant=m.variant||"b"):"bottom"==m.type?(m.display=m.display||"bottom",m.variant=m.variant||"a"):"hamburger"==m.type&&(m.display=m.display||"inline",m.variant=m.variant||"a"),d="mbsc-scv-item mbsc-ms-item mbsc-btn-e mbsc-menu-item "+(m.itemClass||""),r||(r=ka(s?"<li></li>":"<div></div>"),c=ka(s?"<ul></ul>":"<div></div>").addClass("mbsc-scv mbsc-ms")),u=new Rt(c[0],{display:"bubble",theme:m.theme,lang:m.lang,context:m.context,buttons:[],anchor:r,onBeforeShow:function(e,t){a=null,t.settings.cssClass="mbsc-wdg mbsc-ms-a mbsc-ms-more"+(f._hasText?"":" mbsc-ms-more-icons")},onBeforeClose:function(){return f.trigger("onMenuHide",{target:a&&a[0],menu:u})},onMarkupReady:function(e,t){f.tap(t._markup.find(".mbsc-fr-c"),function(e){(a=ka(e.target).closest(".mbsc-ms-item")).length&&!a.hasClass("mbsc-disabled")&&(f.navigate(a,!0),u.hide())})}})},f.___destroy=function(){u.destroy(),h.append(f._$items),r.remove()},m=f.settings,f.init()};W.prototype={_class:"navigation",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:Da({},Ba.prototype._defaults,{type:"bottom",moreText:"More",moreIcon:"material-more-horiz",menuIcon:"material-menu"})},l("nav",A.Navigation=W,!1),l("scrollview",qa,!1);W=function(e,t){Ba.call(this,e,t,!0),this.___init=function(){},this.init()};W.prototype={_class:"optionlist",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:Da({},Ba.prototype._defaults,{select:"multiple",variant:"a",display:"inline"})},A.Optionlist=W,Q.themes.optionlist=Q.themes.navigation,l("optionlist",W,!1);var Ua="ios"==r&&7<a,W=function(t,e){var a,s,n="",i=ka(t),o={},l=this;function r(){i.removeClass("mbsc-no-touch")}Sa.call(this,t,e,!0),l.refresh=function(e){Wt(i,o,a,e)},l._init=function(){var e=void 0!==a.collapsible||void 0!==i.attr("data-collapsible");i.hasClass("mbsc-card")||(i.show(),pa(t,"touchstart",r,{passive:!0})),n&&i.removeClass(n),n="mbsc-card mbsc-form mbsc-no-touch mbsc-"+a.theme+(Ua?" mbsc-form-hb":"")+(a.baseTheme?" mbsc-"+a.baseTheme:"")+(a.rtl?" mbsc-rtl":" mbsc-ltr"),i.addClass(n).removeClass("mbsc-cloak"),e&&!s&&(e=i.attr("data-open"),s=new Pt(t,{isOpen:void 0!==e&&"false"!=e||!0===a.collapsible})),l.refresh()},l._destroy=function(){for(var e in i.removeClass(n),ba(t,"touchstart",r,{passive:!0}),o)o[e].destroy();s&&s.destroy()},l.toggle=function(){s&&s.toggle()},l.hide=function(){s&&s.hide()},l.show=function(){s&&s.show()},a=l.settings,l.init()};W.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"card",_defaults:{tap:g,stopProp:!0,rtl:!1}},S("[mbsc-card]",A.Card=W,!0),l("card",W,!1),l("popup",Rt,!1),l("widget",h,!1),Q.i18n.zh={setText:"",cancelText:"",clearText:"",selectedText:"{count} ",dateFormat:"yymmd",dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],dayText:"",hourText:"",minuteText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["","","","","","","","","","","",""],monthText:"",secText:"",timeFormat:"HH:ii",yearText:"",nowText:"",pmText:"",amText:"",yearSuffix:"",monthSuffix:"",daySuffix:"",todayText:"",dateText:"",timeText:"",closeText:"",allDayText:"",noEventsText:"",eventText:"",eventsText:"",moreEventsText:" {count} ",fromText:"",toText:"",wholeText:"",fractionText:"",unitText:"",labels:["","","","","","",""],labelsShort:["","","","","","",""],startText:"",stopText:"",resetText:"",lapText:"",hideText:"",backText:"",undoText:"",offText:"",onText:"",decimalSeparator:",",thousandsSeparator:" "},Q.i18n.ko={setText:"",cancelText:"",clearText:"",selectedText:"{count} ",dateFormat:"yymmdd",dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],dayText:"",delimiter:"-",hourText:"",minuteText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],monthText:"",secText:"",timeFormat:"H:ii",yearText:"",nowText:"",pmText:"",amText:"",yearSuffix:"",monthSuffix:"",daySuffix:"",firstDay:0,dateText:"",timeText:"",todayText:"",prevMonthText:" ",nextMonthText:" ",prevYearText:" ",nextYearText:" ",closeText:"",eventText:"",eventsText:"",allDayText:"",noEventsText:" ",moreEventsText:"{count} ",fromText:"",toText:"",wholeText:"",fractionText:"",unitText:"",labels:["","","","","","",""],labelsShort:["","","","","","",""],startText:"",stopText:" ",resetText:"",lapText:"",hideText:" ",backText:"",undoText:"",offText:"",onText:"",decimalSeparator:",",thousandsSeparator:" "};h=Q.themes;h.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:"wp"!=r&&("android"!=r||7<a)},h.scroller.ios=Da({},h.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),h.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},h.form.ios={};h=Q.themes;function Xa(e,t){var a=wa(t,"X",!0),s=wa(t,"Y",!0),n=e[0],i=e.offset(),o=a-i.left,t=s-i.top,o=Math.max(o,n.offsetWidth-o),t=Math.max(t,n.offsetHeight-t),t=2*Math.sqrt(Math.pow(o,2)+Math.pow(t,2));ja(Za),Za=ka('<span class="mbsc-ripple"></span>').css({backgroundColor:getComputedStyle(n).color,width:t,height:t,top:s-i.top-t/2,left:a-i.left-t/2}).appendTo(e),setTimeout(function(){Za.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function ja(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function Ga(e,a,s,n){var i,o,l=e[0];function t(e){var t=va(l,e.target,a);t&&ha(e,t)&&(i=wa(e,"X"),o=wa(e,"Y"),(Ka=ka(t)).hasClass(s)||Ka.hasClass(n)?Ka=null:Xa(Ka,e))}function r(e){(Ka&&9<Math.abs(wa(e,"X")-i)||9<Math.abs(wa(e,"Y")-o))&&(ja(Za),Ka=null)}function c(){Ka&&(setTimeout(function(){ja(Za)},100),Ka=null)}l&&(l.__mbscRippleOff&&l.__mbscRippleOff(),pa(l,"touchstart",t,{passive:!0}),pa(l,"mousedown",t),pa(l,"touchmove",r,{passive:!0}),pa(l,"mousemove",r),pa(l,"touchend",c),pa(l,"touchcancel",c),pa(l,"mouseleave",c),pa(l,"mouseup",c),l.__mbscRippleOff=function(){ba(l,"touchstart",t,{passive:!0}),ba(l,"mousedown",t),ba(l,"touchmove",r,{passive:!0}),ba(l,"mousemove",r),ba(l,"touchend",c),ba(l,"touchcancel",c),ba(l,"mouseleave",c),ba(l,"mouseup",c),delete l.__mbscRippleOff})}h.frame.bootstrap={disabledClass:"disabled",selectedClass:"btn-primary",selectedTabClass:"active",tabLink:!0,todayClass:"text-primary mbsc-cal-today",onMarkupInserted:function(e){var t=ka(e.target),e=ka(".mbsc-cal-tabs",t);ka(".mbsc-fr-popup",t).addClass("popover"),ka(".mbsc-fr-w",t).addClass("popover-content"),ka(".mbsc-fr-hdr",t).addClass("popover-title popover-header"),ka(".mbsc-fr-arr-i",t).addClass("popover"),ka(".mbsc-fr-arr",t).addClass("arrow"),ka(".mbsc-fr-btn",t).addClass("btn btn-default btn-secondary"),ka(".mbsc-fr-btn-s .mbsc-fr-btn",t).removeClass("btn-default btn-secondary").addClass("btn btn-primary"),e.addClass("nav nav-tabs"),e.find(".mbsc-cal-tab").addClass("nav-item"),e.find("a").addClass("nav-link"),e.find(".mbsc-cal-tab.active .nav-link").addClass("active"),ka(".mbsc-cal-picker",t).addClass("popover"),ka(".mbsc-range-btn",t).addClass("btn btn-sm btn-small btn-default"),ka(".mbsc-np-btn",t).addClass("btn btn-default"),ka(".mbsc-sel-filter-cont",t).removeClass("mbsc-input"),ka(".mbsc-sel-filter-input",t).addClass("form-control")},onTabChange:function(e,t){ka(".mbsc-cal-tabs .nav-link",t._markup).removeClass("active"),ka(".mbsc-cal-tab.active .nav-link",t._markup).addClass("active")},onPosition:function(e){setTimeout(function(){ka(".mbsc-fr-bubble-top, .mbsc-fr-bubble-top .mbsc-fr-arr-i",e.target).removeClass("bottom bs-popover-bottom").addClass("top bs-popover-top"),ka(".mbsc-fr-bubble-bottom, .mbsc-fr-bubble-bottom .mbsc-fr-arr-i",e.target).removeClass("top bs-popover-top").addClass("bottom  bs-popover-bottom")},10)}},h.scroller.bootstrap=Da({},h.frame.bootstrap,{dateDisplay:"Mddyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5 btn-light",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5 btn-light",selectedLineHeight:!0,onEventBubbleShow:function(e){e=ka(e.eventList);ka(".mbsc-cal-event-list",e).addClass("list-group"),ka(".mbsc-cal-event",e).addClass("list-group-item")}}),h.navigation.bootstrap={wrapperClass:"popover panel panel-default",groupClass:"btn-group",activeClass:"btn-primary",disabledClass:"disabled",itemClass:"btn btn-default"},h.form.bootstrap={},Q.customTheme("mobiscroll-dark","mobiscroll");var Ka,Za,h=Q.themes;h.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){Ga(ka(e.target),".mbsc-fr-btn-e","mbsc-disabled","mbsc-fr-btn-nhl")}},h.scroller.material=Da({},h.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right"}),h.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){Xa(ka(e.target),e.domEvent)},onItemDeactivate:function(){ja(Za)},onSlideStart:function(e){ka(".mbsc-ripple",e.target).remove()},onSortStart:function(e){ka(".mbsc-ripple",e.target).remove()}},h.navigation.material={onInit:function(){Ga(ka(this),".mbsc-ms-item.mbsc-btn-e","mbsc-disabled","mbsc-btn-nhl")},onMarkupInit:function(){ka(".mbsc-ripple",this).remove()},onDestroy:function(){this.__mbscRippleOff&&this.__mbscRippleOff()}},h.form.material={addRipple:function(e,t){Xa(e,t)},removeRipple:function(){ja(Za)}},Q.customTheme("material-dark","material"),Q.customTheme("ios-dark","ios");var h=Q.themes,Ja="mobiscroll";return"android"==r?Ja="material":"ios"==r?Ja="ios":"wp"==r&&(Ja="windows"),ka.each(h.frame,function(e,t){return Ja&&t.baseTheme==Ja&&e!=Ja+"-dark"?(Q.autoTheme=e,!1):void(e==Ja&&(Q.autoTheme=e))}),Q});
