"use strict";var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Emitter=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};var e=this._callbacks[t];if(e){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];for(var s=0,a=a=e;;){if(s>=a.length)break;a[s++].apply(this,n)}}return this}},{key:"off",value:function(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(var n=0;n<i.length;n++){if(i[n]===e){i.splice(n,1);break}}return this}}]),t}(),Dropzone=function(t){function e(t,i){_classCallCheck(this,e);var n,o=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s=void 0;if(o.element=t,o.version=e.version,o.defaultOptions.previewTemplate=o.defaultOptions.previewTemplate.replace(/\n*/g,""),o.clickableElements=[],o.listeners=[],o.files=[],"string"==typeof o.element&&(o.element=document.querySelector(o.element)),!o.element||null==o.element.nodeType)throw new Error("Invalid dropzone element.");if(o.element.dropzone)throw new Error("Dropzone already attached.");e.instances.push(o),o.element.dropzone=o;var a,r=null!=(n=e.optionsForElement(o.element))?n:{};if(o.options=e.extend({},o.defaultOptions,r,null!=i?i:{}),o.options.forceFallback||!e.isBrowserSupported())return a=o.options.fallback.call(o),_possibleConstructorReturn(o,a);if(null==o.options.url&&(o.options.url=o.element.getAttribute("action")),!o.options.url)throw new Error("No URL provided.");if(o.options.acceptedFiles&&o.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(o.options.uploadMultiple&&o.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return o.options.acceptedMimeTypes&&(o.options.acceptedFiles=o.options.acceptedMimeTypes,delete o.options.acceptedMimeTypes),null!=o.options.renameFilename&&(o.options.renameFile=function(t){return o.options.renameFilename.call(o,t.name,t)}),o.options.method=o.options.method.toUpperCase(),(s=o.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==o.options.previewsContainer&&(o.options.previewsContainer?o.previewsContainer=e.getElement(o.options.previewsContainer,"previewsContainer"):o.previewsContainer=o.element),o.options.clickable&&(!0===o.options.clickable?o.clickableElements=[o.element]:o.clickableElements=e.getElements(o.options.clickable,"clickable")),o.init(),o}return _inherits(e,Emitter),_createClass(e,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,e,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(t,e){return e()},chunksUploaded:function(t,e){e()},fallback:function(){var t=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var i=0,n=n=this.element.getElementsByTagName("div");;){if(i>=n.length)break;var o=n[i++];if(/(^| )dz-message($| )/.test(o.className)){t=o,o.className="dz-message";break}}t||(t=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var s=t.getElementsByTagName("span")[0];return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,i,n){var o={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},s=t.width/t.height;null==e&&null==i?(e=o.srcWidth,i=o.srcHeight):null==e?e=i*s:null==i&&(i=e/s);var a=(e=Math.min(e,o.srcWidth))/(i=Math.min(i,o.srcHeight));if(o.srcWidth>e||o.srcHeight>i)if("crop"===n)s>a?(o.srcHeight=t.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=t.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==n)throw new Error("Unknown resizeMethod '"+n+"'");s>a?i=e/s:e=i*s}return o.srcX=(t.width-o.srcWidth)/2,o.srcY=(t.height-o.srcHeight)/2,o.trgWidth=e,o.trgHeight=i,o},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);for(var n=0,o=o=t.previewElement.querySelectorAll("[data-dz-name]");;){if(n>=o.length)break;var s=o[n++];s.textContent=t.name}for(var a=0,r=r=t.previewElement.querySelectorAll("[data-dz-size]");!(a>=r.length);)(s=r[a++]).innerHTML=this.filesize(t.size);this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));for(var l=function(n){return n.preventDefault(),n.stopPropagation(),t.status===e.UPLOADING?e.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):i.options.dictRemoveFileConfirmation?e.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(t)}):i.removeFile(t)},c=0,d=d=t.previewElement.querySelectorAll("[data-dz-remove]");;){if(c>=d.length)break;d[c++].addEventListener("click",l)}}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(var i=0,n=n=t.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(i>=n.length)break;var o=n[i++];o.alt=t.name,o.src=e}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error);for(var i=0,n=n=t.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(i>=n.length)break;n[i++].textContent=e}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,e,i){if(t.previewElement)for(var n=0,o=o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(n>=o.length)break;var s=o[n++];"PROGRESS"===s.nodeName?s.value=e:s.style.width=e+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var o=0,s=s=i;;){if(o>=s.length)break;var a=s[o++];for(var r in a){var l=a[r];t[r]=l}}return t}}]),_createClass(e,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(t){return t.accepted}).map(function(t){return t})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(t){return!t.accepted}).map(function(t){return t})}},{key:"getFilesWithStatus",value:function(t){return this.files.filter(function(e){return e.status===t}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(e.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(e.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(e.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(t){return t.status===e.UPLOADING||t.status===e.QUEUED}).map(function(t){return t})}},{key:"init",value:function(){var t=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){!function i(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",e.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e=t.hiddenFileInput.files;if(e.length)for(var n=0,o=o=e;!(n>=o.length);){var s=o[n++];t.addFile(s)}return t.emit("addedfiles",e),i()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var i=0,n=n=this.events;;){if(i>=n.length)break;var o=n[i++];this.on(o,this.options[o])}this.on("uploadprogress",function(){return t.updateTotalUploadProgress()}),this.on("removedfile",function(){return t.updateTotalUploadProgress()}),this.on("canceled",function(e){return t.emit("complete",e)}),this.on("complete",function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)});var s=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return t.emit("dragstart",e)},dragenter:function(e){return s(e),t.emit("dragenter",e)},dragover:function(e){var i=void 0;try{i=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",s(e),t.emit("dragover",e)},dragleave:function(e){return t.emit("dragleave",e)},drop:function(e){return s(e),t.drop(e)},dragend:function(e){return t.emit("dragend",e)}}}],this.clickableElements.forEach(function(i){return t.listeners.push({element:i,events:{click:function(n){return(i!==t.element||n.target===t.element||e.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var t=void 0,e=0,i=0;if(this.getActiveFiles().length){for(var n=0,o=o=this.getActiveFiles();;){if(n>=o.length)break;var s=o[n++];e+=s.upload.bytesSent,i+=s.upload.total}t=100*e/i}else t=100;return this.emit("totaluploadprogress",t,i,e)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}},{key:"_renameFile",value:function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function(){var t,i=void 0;if(t=this.getExistingFallback())return t;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var o=e.createElement(n);return"FORM"!==this.element.tagName?(i=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(o):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:o}},{key:"getExistingFallback",value:function(){for(var t=function(t){for(var e=0,i=i=t;;){if(e>=i.length)break;var n=i[e++];if(/(^| )fallback($| )/.test(n.className))return n}},e=["div","form"],i=0;i<e.length;i++){var n,o=e[i];if(n=t(this.element.getElementsByTagName(o)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(t){return function(){var e=[];for(var i in t.events){var n=t.events[i];e.push(t.element.addEventListener(i,n,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(t){return function(){var e=[];for(var i in t.events){var n=t.events[i];e.push(t.element.removeEventListener(i,n,!1))}return e}()})}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(t){var e=0,i="b";if(t>0){for(var n=["tb","gb","mb","kb","b"],o=0;o<n.length;o++){var s=n[o];if(t>=Math.pow(this.options.filesizeBase,4-o)/10){e=t/Math.pow(this.options.filesizeBase,4-o),i=s;break}}e=Math.round(10*e)/10}return"<strong>"+e+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(t){if(t.dataTransfer){this.emit("drop",t);for(var e=[],i=0;i<t.dataTransfer.files.length;i++)e[i]=t.dataTransfer.files[i];if(this.emit("addedfiles",e),e.length){var n=t.dataTransfer.items;n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)}}}},{key:"paste",value:function(t){if(null!=__guard__(null!=t?t.clipboardData:void 0,function(t){return t.items})){this.emit("paste",t);var e=t.clipboardData.items;return e.length?this._addFilesFromItems(e):void 0}}},{key:"handleFiles",value:function(t){for(var e=0,i=i=t;;){if(e>=i.length)break;var n=i[e++];this.addFile(n)}}},{key:"_addFilesFromItems",value:function(t){var e=this;return function(){for(var i=[],n=0,o=o=t;;){if(n>=o.length)break;var s,a=o[n++];null!=a.webkitGetAsEntry&&(s=a.webkitGetAsEntry())?s.isFile?i.push(e.addFile(a.getAsFile())):s.isDirectory?i.push(e._addFilesFromDirectory(s,s.name)):i.push(void 0):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?i.push(e.addFile(a.getAsFile())):i.push(void 0)}return i}()}},{key:"_addFilesFromDirectory",value:function(t,e){var i=this,n=t.createReader(),o=function(t){return __guardMethod__(console,"log",function(e){return e.log(t)})};return function t(){return n.readEntries(function(n){if(n.length>0){for(var o=0,s=s=n;!(o>=s.length);){var a=s[o++];a.isFile?a.file(function(t){if(!i.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=e+"/"+t.name,i.addFile(t)}):a.isDirectory&&i._addFilesFromDirectory(a,e+"/"+a.name)}t()}return null},o)}()}},{key:"accept",value:function(t,i){return this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var i=this;return t.upload={uuid:e.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t),chunked:this.options.chunking&&(this.options.forceChunking||t.size>this.options.chunkSize),totalChunkCount:Math.ceil(t.size/this.options.chunkSize)},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(t){for(var e=0,i=i=t;;){if(e>=i.length)break;var n=i[e++];this.enqueueFile(n)}return null}},{key:"enqueueFile",value:function(t){var i=this;if(t.status!==e.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(t){var e=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(){return e._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){return t.emit("thumbnail",e,i),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function(t){if(t.status===e.UPLOADING&&this.cancelUpload(t),this.files=without(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);for(var i=0,n=n=this.files.slice();;){if(i>=n.length)break;var o=n[i++];(o.status!==e.UPLOADING||t)&&this.removeFile(o)}return null}},{key:"resizeImage",value:function(t,i,n,o,s){var a=this;return this.createThumbnail(t,i,n,o,!0,function(i,n){if(null==n)return s(t);var o=a.options.resizeMimeType;null==o&&(o=t.type);var r=n.toDataURL(o,a.options.resizeQuality);return"image/jpeg"!==o&&"image/jpg"!==o||(r=ExifRestore.restore(t.dataURL,r)),s(e.dataURItoBlob(r))})}},{key:"createThumbnail",value:function(t,e,i,n,o,s){var a=this,r=new FileReader;return r.onload=function(){if(t.dataURL=r.result,"image/svg+xml"!==t.type)return a.createThumbnailFromUrl(t,e,i,n,o,s);null!=s&&s(r.result)},r.readAsDataURL(t)}},{key:"createThumbnailFromUrl",value:function(t,e,i,n,o,s,a){var r=this,l=document.createElement("img");return a&&(l.crossOrigin=a),l.onload=function(){var a=function(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(a=function(t){return EXIF.getData(l,function(){return t(EXIF.getTag(this,"Orientation"))})}),a(function(o){t.width=l.width,t.height=l.height;var a=r.options.resize.call(r,t,e,i,n),c=document.createElement("canvas"),d=c.getContext("2d");switch(c.width=a.trgWidth,c.height=a.trgHeight,o>4&&(c.width=a.trgHeight,c.height=a.trgWidth),o){case 2:d.translate(c.width,0),d.scale(-1,1);break;case 3:d.translate(c.width,c.height),d.rotate(Math.PI);break;case 4:d.translate(0,c.height),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-c.width);break;case 7:d.rotate(.5*Math.PI),d.translate(c.height,-c.width),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-c.height,0)}drawImageIOSFix(d,l,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var u=c.toDataURL("image/png");if(null!=s)return s(u,c)})},null!=s&&(l.onerror=s),l.src=t.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,e=this.getUploadingFiles().length,i=e;if(!(e>=t)){var n=this.getQueuedFiles();if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-e));for(;i<t;){if(!n.length)return;this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(t){for(var i=0,n=n=t;;){if(i>=n.length)break;var o=n[i++];o.processing=!0,o.status=e.UPLOADING,this.emit("processing",o)}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter(function(e){return e.xhr===t}).map(function(t){return t})}},{key:"cancelUpload",value:function(t){if(t.status===e.UPLOADING){for(var i=this._getFilesWithXhr(t.xhr),n=0,o=o=i;;){if(n>=o.length)break;o[n++].status=e.CANCELED}void 0!==t.xhr&&t.xhr.abort();for(var s=0,a=a=i;;){if(s>=a.length)break;var r=a[s++];this.emit("canceled",r)}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else t.status!==e.ADDED&&t.status!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(t){if("function"==typeof t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.apply(this,i)}return t}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(t){var i=this;this._transformFiles(t,function(n){if(t[0].upload.chunked){var o=t[0],s=n[0];o.upload.chunks=[];var a=function(){for(var n=0;void 0!==o.upload.chunks[n];)n++;if(!(n>=o.upload.totalChunkCount)){0;var a=n*i.options.chunkSize,r=Math.min(a+i.options.chunkSize,o.size),l={name:i._getParamName(0),data:s.webkitSlice?s.webkitSlice(a,r):s.slice(a,r),filename:o.upload.filename,chunkIndex:n};o.upload.chunks[n]={file:o,index:n,dataBlock:l,status:e.UPLOADING,progress:0,retries:0},i._uploadData(t,[l])}};if(o.upload.finishedChunkUpload=function(n){var s=!0;n.status=e.SUCCESS,n.dataBlock=null,n.xhr=null;for(var r=0;r<o.upload.totalChunkCount;r++){if(void 0===o.upload.chunks[r])return a();o.upload.chunks[r].status!==e.SUCCESS&&(s=!1)}s&&i.options.chunksUploaded(o,function(){i._finished(t,"",null)})},i.options.parallelChunkUploads)for(var r=0;r<o.upload.totalChunkCount;r++)a();else a()}else{for(var l=[],c=0;c<t.length;c++)l[c]={name:i._getParamName(c),data:n[c],filename:t[c].upload.filename};i._uploadData(t,l)}})}},{key:"_getChunk",value:function(t,e){for(var i=0;i<t.upload.totalChunkCount;i++)if(void 0!==t.upload.chunks[i]&&t.upload.chunks[i].xhr===e)return t.upload.chunks[i]}},{key:"_uploadData",value:function(t,i){for(var n=this,o=new XMLHttpRequest,s=0,a=a=t;;){if(s>=a.length)break;a[s++].xhr=o}t[0].upload.chunked&&(t[0].upload.chunks[i[0].chunkIndex].xhr=o);var r=this.resolveOption(this.options.method,t),l=this.resolveOption(this.options.url,t);o.open(r,l,!0),o.timeout=this.resolveOption(this.options.timeout,t),o.withCredentials=!!this.options.withCredentials,o.onload=function(e){n._finishedUploading(t,o,e)},o.onerror=function(){n._handleUploadError(t,o)},(null!=o.upload?o.upload:o).onprogress=function(e){return n._updateFilesUploadProgress(t,o,e)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&e.extend(c,this.options.headers),c){var u=c[d];u&&o.setRequestHeader(d,u)}var h=new FormData;if(this.options.params){var p=this.options.params;for(var f in"function"==typeof p&&(p=p.call(this,t,o,t[0].upload.chunked?this._getChunk(t[0],o):null)),p){var m=p[f];h.append(f,m)}}for(var g=0,v=v=t;;){if(g>=v.length)break;var b=v[g++];this.emit("sending",b,o,h)}this.options.uploadMultiple&&this.emit("sendingmultiple",t,o,h),this._addFormElementData(h);for(var y=0;y<i.length;y++){var x=i[y];h.append(x.name,x.data,x.filename)}this.submitRequest(o,h,t)}},{key:"_transformFiles",value:function(t,e){for(var i=this,n=[],o=0,s=function(s){i.options.transformFile.call(i,t[s],function(i){n[s]=i,++o===t.length&&e(n)})},a=0;a<t.length;a++)s(a)}},{key:"_addFormElementData",value:function(t){if("FORM"===this.element.tagName)for(var e=0,i=i=this.element.querySelectorAll("input, textarea, select, button");;){if(e>=i.length)break;var n=i[e++],o=n.getAttribute("name"),s=n.getAttribute("type");if(s&&(s=s.toLowerCase()),null!=o)if("SELECT"===n.tagName&&n.hasAttribute("multiple"))for(var a=0,r=r=n.options;;){if(a>=r.length)break;var l=r[a++];l.selected&&t.append(o,l.value)}else(!s||"checkbox"!==s&&"radio"!==s||n.checked)&&t.append(o,n.value)}}},{key:"_updateFilesUploadProgress",value:function(t,e,i){var n=void 0;if(void 0!==i){if(n=100*i.loaded/i.total,t[0].upload.chunked){var o=t[0],s=this._getChunk(o,e);s.progress=n,s.total=i.total,s.bytesSent=i.loaded;o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var a=0;a<o.upload.totalChunkCount;a++)void 0!==o.upload.chunks[a]&&void 0!==o.upload.chunks[a].progress&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else for(var r=0,l=l=t;;){if(r>=l.length)break;var c=l[r++];c.upload.progress=n,c.upload.total=i.total,c.upload.bytesSent=i.loaded}for(var d=0,u=u=t;;){if(d>=u.length)break;var h=u[d++];this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}}else{var p=!0;n=100;for(var f=0,m=m=t;;){if(f>=m.length)break;var g=m[f++];100===g.upload.progress&&g.upload.bytesSent===g.upload.total||(p=!1),g.upload.progress=n,g.upload.bytesSent=g.upload.total}if(p)return;for(var v=0,b=b=t;;){if(v>=b.length)break;var y=b[v++];this.emit("uploadprogress",y,n,y.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(t,i,n){var o=void 0;if(t[0].status!==e.CANCELED&&4===i.readyState){if("arraybuffer"!==i.responseType&&"blob"!==i.responseType&&(o=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(t){n=t,o="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=i.status&&i.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],i)):this._finished(t,o,n):this._handleUploadError(t,i,o)}}},{key:"_handleUploadError",value:function(t,i,n){if(t[0].status!==e.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(t[0],i);if(o.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[o.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var s=0,a=a=t;;){if(s>=a.length)break;a[s++];this._errorProcessing(t,n||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}}},{key:"submitRequest",value:function(t,e,i){t.send(e)}},{key:"_finished",value:function(t,i,n){for(var o=0,s=s=t;;){if(o>=s.length)break;var a=s[o++];a.status=e.SUCCESS,this.emit("success",a,i,n),this.emit("complete",a)}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,i,n){for(var o=0,s=s=t;;){if(o>=s.length)break;var a=s[o++];a.status=e.ERROR,this.emit("error",a,i,n),this.emit("complete",a)}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}}]),e}();Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(t){return t.getAttribute("id")?Dropzone.options[camelize(t.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var t=void 0;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];var e=function(e){return function(){for(var i=[],n=0,o=o=e;;){if(n>=o.length)break;var s=o[n++];/(^| )dropzone($| )/.test(s.className)?i.push(t.push(s)):i.push(void 0)}return i}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){for(var e=[],i=0,n=n=t;;){if(i>=n.length)break;var o=n[i++];!1!==Dropzone.optionsForElement(o)?e.push(new Dropzone(o)):e.push(void 0)}return e}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var e=0,i=i=Dropzone.blacklistedBrowsers;;){if(e>=i.length)break;i[e++].test(navigator.userAgent)&&(t=!1)}else t=!1;else t=!1;return t},Dropzone.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),o=new Uint8Array(n),s=0,a=e.length,r=0<=a;r?s<=a:s>=a;r?s++:s--)o[s]=e.charCodeAt(s);return new Blob([n],{type:i})};var without=function(t,e){return t.filter(function(t){return t!==e}).map(function(t){return t})},camelize=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})};Dropzone.createElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},Dropzone.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},Dropzone.getElement=function(t,e){var i=void 0;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},Dropzone.getElements=function(t,e){var i=void 0,n=void 0;if(t instanceof Array){n=[];try{for(var o=0,s=s=t;!(o>=s.length);)i=s[o++],n.push(this.getElement(i,e))}catch(t){n=null}}else if("string"==typeof t){n=[];for(var a=0,r=r=document.querySelectorAll(t);!(a>=r.length);)i=r[a++],n.push(i)}else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},Dropzone.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},Dropzone.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");for(var i=t.type,n=i.replace(/\/.*$/,""),o=0,s=s=e;;){if(o>=s.length)break;var a=s[o++];if("."===(a=a.trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(n===a.replace(/\/.*$/,""))return!0}else if(i===a)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new Dropzone(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(t){t.naturalWidth;var e=t.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=e;var n=i.getContext("2d");n.drawImage(t,0,0);for(var o=n.getImageData(1,0,1,e).data,s=0,a=e,r=e;r>s;){0===o[4*(r-1)+3]?a=r:s=r,r=a+s>>1}var l=r/e;return 0===l?1:l},drawImageIOSFix=function(t,e,i,n,o,s,a,r,l,c){var d=detectVerticalSquash(e);return t.drawImage(e,i,n,o,s,a,r,l,c/d)},ExifRestore=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(t){for(var e="",i=void 0,n=void 0,o="",s=void 0,a=void 0,r=void 0,l="",c=0;s=(i=t[c++])>>2,a=(3&i)<<4|(n=t[c++])>>4,r=(15&n)<<2|(o=t[c++])>>6,l=63&o,isNaN(n)?r=l=64:isNaN(o)&&(l=64),e=e+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),i=n=o="",s=a=r=l="",c<t.length;);return e}},{key:"restore",value:function(t,e){if(!t.match("data:image/jpeg;base64,"))return e;var i=this.decode64(t.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),o=this.exifManipulation(e,n);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function(t,e){var i=this.getExifArray(e),n=this.insertExif(t,i);return new Uint8Array(n)}},{key:"getExifArray",value:function(t){for(var e=void 0,i=0;i<t.length;){if(255===(e=t[i])[0]&225===e[1])return e;i++}return[]}},{key:"insertExif",value:function(t,e){var i=t.replace("data:image/jpeg;base64,",""),n=this.decode64(i),o=n.indexOf(255,3),s=n.slice(0,o),a=n.slice(o),r=s;return r=(r=r.concat(e)).concat(a)}},{key:"slice2Segments",value:function(t){for(var e=0,i=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var n=e+(256*t[e+2]+t[e+3])+2,o=t.slice(e,n);i.push(o),e=n}if(e>t.length)break}return i}},{key:"decode64",value:function(t){var e=void 0,i=void 0,n="",o=void 0,s=void 0,a="",r=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(r++))<<2|(o=this.KEY_STR.indexOf(t.charAt(r++)))>>4,i=(15&o)<<4|(s=this.KEY_STR.indexOf(t.charAt(r++)))>>2,n=(3&s)<<6|(a=this.KEY_STR.indexOf(t.charAt(r++))),l.push(e),64!==s&&l.push(i),64!==a&&l.push(n),e=i=n="",o=s=a="",r<t.length;);return l}}]),t}();ExifRestore.initClass();var contentLoaded=function(t,e){var i=!1,n=!0,o=t.document,s=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",r=o.addEventListener?"removeEventListener":"detachEvent",l=o.addEventListener?"":"on",c=function n(s){if("readystatechange"!==s.type||"complete"===o.readyState)return("load"===s.type?t:o)[r](l+s.type,n,!1),!i&&(i=!0)?e.call(t,s.type||s):void 0};if("complete"!==o.readyState){if(o.createEventObject&&s.doScroll){try{n=!t.frameElement}catch(t){}n&&function t(){try{s.doScroll("left")}catch(e){return void setTimeout(t,50)}return c("poll")}()}return o[a](l+"DOMContentLoaded",c,!1),o[a](l+"readystatechange",c,!1),t[a](l+"load",c,!1)}};function __guard__(t,e){return null!=t?e(t):void 0}function __guardMethod__(t,e,i){return null!=t&&"function"==typeof t[e]?i(t,e):void 0}if(Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),function(){var t,e=[].slice;t=function(){var t,i,n,o,s,a;return s=/(^|[\s\n]|<br\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,(o=1<=arguments.length?e.call(arguments,0):[]).length>0?(n=o[0],i=function(){var e;for(t in e=[],n)a=n[t],"callback"!==t&&e.push(" "+t+"='"+a+"'");return e}().join(""),this.replace(s,function(t,e,o){var ro=o.replace("\(","").replace("\)","") ;return""+e+(("function"==typeof n.callback?n.callback(o):void 0)||"<a href='"+ro+"'"+i+">"+o+"</a>")})):this.replace(s,"$1<a href='$2'>$2</a>")},String.prototype.autoLink=t}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,r=l.call(arguments,1),c=0,u=0,h=0,p=0,f=0,m=0;if((e=t.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in a&&(c=h=-1*a.deltaY),"deltaX"in a&&(u=a.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!s||s>p)&&(s=p,n(a,p)&&(s/=40)),n(a,p)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),h=Math[h>=1?"floor":"ceil"](h/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=u,e.deltaY=h,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,r.unshift(e,c,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){s=null}function n(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=a.length;c;)t.event.fixHooks[a[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,r=l.call(arguments,1),c=0,u=0,h=0,p=0,f=0,m=0;if((e=t.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in a&&(c=h=-1*a.deltaY),"deltaX"in a&&(u=a.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!s||s>p)&&(s=p,n(a,p)&&(s/=40)),n(a,p)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),h=Math[h>=1?"floor":"ceil"](h/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=u,e.deltaY=h,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,r.unshift(e,c,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){s=null}function n(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=a.length;c;)t.event.fixHooks[a[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){var e,i,n;e="function"==typeof define&&define.amd,i="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",e||(i?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+n+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var e,i="mCustomScrollbar",n="mCS",o=".mCustomScrollbar",s={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(e){var e=t.extend(!0,{},s,e),i=h.call(this);if(e.live){var l=e.liveSelector||this.selector||o,c=t(l);if("off"===e.live)return void f(l);r[l]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&f(l)},500)}else f(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),p(e),t(i).each(function(){var i=t(this);if(!i.data(n)){i.data(n,{idx:++a,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=i.data(n),s=o.opt,r=i.data("mcs-axis"),l=i.data("mcs-scrollbar-position"),c=i.data("mcs-theme");r&&(s.axis=r),l&&(s.scrollbarPosition=l),c&&(s.theme=c,p(s)),v.call(this),o&&s.callbacks.onCreate&&"function"==typeof s.callbacks.onCreate&&s.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,i)}})},update:function(e,i){var o=e||h.call(this);return t(o).each(function(){var e=t(this);if(e.data(n)){var o=e.data(n),s=o.opt,a=t("#mCSB_"+o.idx+"_container"),r=t("#mCSB_"+o.idx),l=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!a.length)return;o.tweenRunning&&X(e),i&&o&&s.callbacks.onBeforeUpdate&&"function"==typeof s.callbacks.onBeforeUpdate&&s.callbacks.onBeforeUpdate.call(this),e.hasClass(d[3])&&e.removeClass(d[3]),e.hasClass(d[4])&&e.removeClass(d[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),y.call(this),"y"===s.axis||s.advanced.autoExpandHorizontalScroll||a.css("width",b(a)),o.overflowed=k.call(this),E.call(this),s.autoDraggerLength&&w.call(this),_.call(this),T.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==s.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?S.call(this):(Q(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(S.call(this),"y"===s.axis?M.call(this):"yx"===s.axis&&o.overflowed[1]&&Q(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==s.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?S.call(this):(Q(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(S.call(this),"x"===s.axis?M.call(this):"yx"===s.axis&&o.overflowed[0]&&Q(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&o&&(2===i&&s.callbacks.onImageLoad&&"function"==typeof s.callbacks.onImageLoad?s.callbacks.onImageLoad.call(this):3===i&&s.callbacks.onSelectorChange&&"function"==typeof s.callbacks.onSelectorChange?s.callbacks.onSelectorChange.call(this):s.callbacks.onUpdate&&"function"==typeof s.callbacks.onUpdate&&s.callbacks.onUpdate.call(this)),Y.call(this)}})},scrollTo:function(e,i){if(void 0!==e&&null!=e){var o=h.call(this);return t(o).each(function(){var o=t(this);if(o.data(n)){var s=o.data(n),a=s.opt,r={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},r,i),c=N.call(this,e),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=U.call(this,c[0],"y"),c[1]=U.call(this,c[1],"x"),l.moveDragger&&(c[0]*=s.scrollRatio.y,c[1]*=s.scrollRatio.x),l.dur=nt()?0:d,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==a.axis&&s.overflowed[0]&&(l.dir="y",l.overwrite="all",Q(o,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==a.axis&&s.overflowed[1]&&(l.dir="x",l.overwrite="none",Q(o,c[1].toString(),l))},l.timeout)}})}},stop:function(){var e=h.call(this);return t(e).each(function(){var e=t(this);e.data(n)&&X(e)})},disable:function(e){var i=h.call(this);return t(i).each(function(){var i=t(this);i.data(n)&&(i.data(n),Y.call(this,"remove"),M.call(this),e&&S.call(this),E.call(this,!0),i.addClass(d[3]))})},destroy:function(){var e=h.call(this);return t(e).each(function(){var o=t(this);if(o.data(n)){var s=o.data(n),a=s.opt,r=t("#mCSB_"+s.idx),l=t("#mCSB_"+s.idx+"_container"),c=t(".mCSB_"+s.idx+"_scrollbar");a.live&&f(a.liveSelector||t(e).selector),Y.call(this,"remove"),M.call(this),S.call(this),o.removeData(n),Z(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),r.replaceWith(l.contents()),o.removeClass(i+" _"+n+"_"+s.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},h=function(){return"object"!=typeof t(this)||t(this).length<1?o:this},p=function(e){e.autoDraggerLength=!(t.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,["minimal","minimal-dark"])>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,["minimal","minimal-dark"])>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,["minimal","minimal-dark"])>-1?"outside":e.scrollbarPosition},f=function(t){r[t]&&(clearTimeout(r[t]),Z(r,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),o=e.data(n),s=o.opt,a=s.autoExpandScrollbar?" "+d[1]+"_expand":"",r=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===s.axis?"mCSB_vertical_horizontal":"x"===s.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===s.axis?r[0]+r[1]:"x"===s.axis?r[1]:r[0],u="yx"===s.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=s.autoHideScrollbar?" "+d[6]:"",p="x"!==s.axis&&"rtl"===o.langDir?" "+d[7]:"";s.setWidth&&e.css("width",s.setWidth),s.setHeight&&e.css("height",s.setHeight),s.setLeft="y"!==s.axis&&"rtl"===o.langDir?"989999px":s.setLeft,e.addClass(i+" _"+n+"_"+o.idx+h+p).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+s.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+s.setTop+"; left:"+s.setLeft+";' dir='"+o.langDir+"' /></div>");var f=t("#mCSB_"+o.idx),m=t("#mCSB_"+o.idx+"_container");"y"===s.axis||s.advanced.autoExpandHorizontalScroll||m.css("width",b(m)),"outside"===s.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),m.wrap(u)),x.call(this);var g=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},b=function(e){var i=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],n=e.parent().width();return i[0]>n?i[0]:i[1]>n?i[1]:"100%"},y=function(){var e=t(this),i=e.data(n),o=i.opt,s=t("#mCSB_"+i.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){s.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(s[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&a>s.parent().width()?s.css({width:a,"min-width":"100%","overflow-x":"inherit"}):s.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(s[0].getBoundingClientRect().right+.4)-Math.floor(s[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},x=function(){var e=t(this),i=e.data(n),o=i.opt,s=t(".mCSB_"+i.idx+"_scrollbar:first"),a=et(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+d[13]+"' "+a+" />","<a href='#' class='"+d[14]+"' "+a+" />","<a href='#' class='"+d[15]+"' "+a+" />","<a href='#' class='"+d[16]+"' "+a+" />"],l=["x"===o.axis?r[2]:r[0],"x"===o.axis?r[3]:r[1],r[2],r[3]];o.scrollButtons.enable&&s.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},w=function(){var e=t(this),i=e.data(n),o=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),a=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],r=[o.height()/s.outerHeight(!1),o.width()/s.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(r[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(r[1]*a[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],u=l&&c[3]<c[2]?c[2]:c[3];a[0].css({height:d,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:u,"max-width":a[1].parent().width()-10})},_=function(){var e=t(this),i=e.data(n),o=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),a=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],r=[s.outerHeight(!1)-o.height(),s.outerWidth(!1)-o.width()],l=[r[0]/(a[0].parent().height()-a[0].height()),r[1]/(a[1].parent().width()-a[1].width())];i.scrollRatio={y:l[0],x:l[1]}},C=function(t,e,i){var n=i?d[0]+"_expanded":"",o=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(d[0]+" "+n),o.toggleClass(d[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(d[0]),o.removeClass(d[1])):(t.addClass(d[0]),o.addClass(d[1])))},k=function(){var e=t(this),i=e.data(n),o=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),a=null==i.overflowed?s.height():s.outerHeight(!1),r=null==i.overflowed?s.width():s.outerWidth(!1),l=s[0].scrollHeight,c=s[0].scrollWidth;return l>a&&(a=l),c>r&&(r=c),[a>o.height(),r>o.width()]},S=function(){var e=t(this),i=e.data(n),o=i.opt,s=t("#mCSB_"+i.idx),a=t("#mCSB_"+i.idx+"_container"),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(X(e),("x"!==o.axis&&!i.overflowed[0]||"y"===o.axis&&i.overflowed[0])&&(r[0].add(a).css("top",0),Q(e,"_resetY")),"y"!==o.axis&&!i.overflowed[1]||"x"===o.axis&&i.overflowed[1]){var l=dx=0;"rtl"===i.langDir&&(l=s.width()-a.outerWidth(!1),dx=Math.abs(l/i.scrollRatio.x)),a.css("left",l),r[1].css("left",dx),Q(e,"_resetX")}},T=function(){var e,i=t(this),o=i.data(n),s=o.opt;o.bindEvents||($.call(this),s.contentTouchScroll&&j.call(this),D.call(this),s.mouseWheel.enable&&function n(){e=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(e),I.call(i[0])):n()},100)}(),P.call(this),W.call(this),s.advanced.autoScrollOnFocus&&O.call(this),s.scrollButtons.enable&&R.call(this),s.keyboard.enable&&H.call(this),o.bindEvents=!0)},M=function(){var e=t(this),i=e.data(n),o=i.opt,s=n+"_"+i.idx,a=".mCSB_"+i.idx+"_scrollbar",r=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+a+" ."+d[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+a+">a"),l=t("#mCSB_"+i.idx+"_container");o.advanced.releaseDraggableSelectors&&r.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&r.add(t(o.advanced.extraDraggableSelectors)),i.bindEvents&&(t(document).add(t(!B()||top.document)).unbind("."+s),r.each(function(){t(this).unbind("."+s)}),clearTimeout(e[0]._focusTimeout),Z(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),Z(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Z(l[0],"onCompleteTimeout"),i.bindEvents=!1)},E=function(e){var i=t(this),o=i.data(n),s=o.opt,a=t("#mCSB_"+o.idx+"_container_wrapper"),r=a.length?a:t("#mCSB_"+o.idx+"_container"),l=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==s.axis&&(o.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),r.removeClass(d[8]+" "+d[10])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(d[10])):(l[0].css("display","none"),r.addClass(d[10])),r.addClass(d[8]))),"y"!==s.axis&&(o.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),r.removeClass(d[9]+" "+d[11])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(d[11])):(l[1].css("display","none"),r.addClass(d[11])),r.addClass(d[9]))),o.overflowed[0]||o.overflowed[1]?i.removeClass(d[5]):i.addClass(d[5])},z=function(e){var i=e.type,n=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=B()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[e.originalEvent.pageY-n[0]+o[0],e.originalEvent.pageX-n[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[s.screenY,s.screenX,a>1]:[s.pageY,s.pageX,a>1];default:return n?[e.pageY-n[0]+o[0],e.pageX-n[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},$=function(){function e(t,e,n,o){if(p[0].idleTimer=d.scrollInertia<233?250:0,i.attr("id")===h[1])var s="x",l=(i[0].offsetLeft-e+o)*r.scrollRatio.x;else var s="y",l=(i[0].offsetTop-t+n)*r.scrollRatio.y;Q(a,l.toString(),{dir:s,drag:!0})}var i,o,s,a=t(this),r=a.data(n),d=r.opt,u=n+"_"+r.idx,h=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],p=t("#mCSB_"+r.idx+"_container"),f=t("#"+h[0]+",#"+h[1]),m=d.advanced.releaseDraggableSelectors?f.add(t(d.advanced.releaseDraggableSelectors)):f,g=d.advanced.extraDraggableSelectors?t(!B()||top.document).add(t(d.advanced.extraDraggableSelectors)):t(!B()||top.document);f.bind("contextmenu."+u,function(t){t.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),J(e)){c=!0,l&&(document.onselectstart=function(){return!1}),A.call(p,!1),X(a);var n=(i=t(this)).offset(),r=z(e)[0]-n.top,u=z(e)[1]-n.left,h=i.height()+n.top,f=i.width()+n.left;h>r&&r>0&&f>u&&u>0&&(o=r,s=u),C(i,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(t){t.stopImmediatePropagation(),t.preventDefault();var n=i.offset(),a=z(t)[0]-n.top,r=z(t)[1]-n.left;e(o,s,a,r)}),t(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(t){if(i){var n=i.offset(),a=z(t)[0]-n.top,r=z(t)[1]-n.left;if(o===a&&s===r)return;e(o,s,a,r)}}).add(m).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){i&&(C(i,"active",d.autoExpandScrollbar),i=null),c=!1,l&&(document.onselectstart=null),A.call(p,!0)})},j=function(){function i(t){if(!tt(t)||c||z(t)[2])e=0;else{e=1,_=0,C=0,d=1,k.removeClass("mCS_touch_action");var i=$.offset();u=z(t)[0]-i.top,h=z(t)[1]-i.left,L=[z(t)[0],z(t)[1]]}}function o(t){if(tt(t)&&!c&&!z(t)[2]&&(T.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!C||_)&&d)){g=K();var e=E.offset(),i=z(t)[0]-e.top,n=z(t)[1]-e.left,o="mcsLinearOut";if(D.push(i),I.push(n),L[2]=Math.abs(z(t)[0]-L[0]),L[3]=Math.abs(z(t)[1]-L[1]),S.overflowed[0])var s=j[0].parent().height()-j[0].height(),a=u-i>0&&i-u>-s*S.scrollRatio.y&&(2*L[3]<L[2]||"yx"===T.axis);if(S.overflowed[1])var r=j[1].parent().width()-j[1].width(),p=h-n>0&&n-h>-r*S.scrollRatio.x&&(2*L[2]<L[3]||"yx"===T.axis);a||p?(W||t.preventDefault(),_=1):(C=1,k.addClass("mCS_touch_action")),W&&t.preventDefault(),x="yx"===T.axis?[u-i,h-n]:"x"===T.axis?[null,h-n]:[u-i,null],$[0].idleTimer=250,S.overflowed[0]&&l(x[0],F,o,"y","all",!0),S.overflowed[1]&&l(x[1],F,o,"x",A,!0)}}function s(t){if(!tt(t)||c||z(t)[2])e=0;else{e=1,t.stopImmediatePropagation(),X(k),m=K();var i=E.offset();p=z(t)[0]-i.top,f=z(t)[1]-i.left,D=[],I=[]}}function a(t){if(tt(t)&&!c&&!z(t)[2]){d=0,t.stopImmediatePropagation(),_=0,C=0,v=K();var e=E.offset(),i=z(t)[0]-e.top,n=z(t)[1]-e.left;if(!(v-g>30)){var o="mcsEaseOut",s=2.5>(y=1e3/(v-m)),a=s?[D[D.length-2],I[I.length-2]]:[0,0];b=s?[i-a[0],n-a[1]]:[i-p,n-f];var u=[Math.abs(b[0]),Math.abs(b[1])];y=s?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[y,y];var h=[Math.abs($[0].offsetTop)-b[0]*r(u[0]/y[0],y[0]),Math.abs($[0].offsetLeft)-b[1]*r(u[1]/y[1],y[1])];x="yx"===T.axis?[h[0],h[1]]:"x"===T.axis?[null,h[1]]:[h[0],null],w=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var k=parseInt(T.contentTouchScroll)||0;x[0]=u[0]>k?x[0]:0,x[1]=u[1]>k?x[1]:0,S.overflowed[0]&&l(x[0],w[0],o,"y",A,!1),S.overflowed[1]&&l(x[1],w[1],o,"x",A,!1)}}}function r(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?i[0]:i[3]:t>60?e>3?i[3]:i[2]:t>30?e>8?i[1]:e>6?i[0]:e>4?e:i[2]:e>8?e:i[3]}function l(t,e,i,n,o,s){t&&Q(k,t.toString(),{dur:e,scrollEasing:i,dir:n,overwrite:o,drag:s})}var d,u,h,p,f,m,g,v,b,y,x,w,_,C,k=t(this),S=k.data(n),T=S.opt,M=n+"_"+S.idx,E=t("#mCSB_"+S.idx),$=t("#mCSB_"+S.idx+"_container"),j=[t("#mCSB_"+S.idx+"_dragger_vertical"),t("#mCSB_"+S.idx+"_dragger_horizontal")],D=[],I=[],F=0,A="yx"===T.axis?"none":"all",L=[],P=$.find("iframe"),O=["touchstart."+M+" pointerdown."+M+" MSPointerDown."+M,"touchmove."+M+" pointermove."+M+" MSPointerMove."+M,"touchend."+M+" pointerup."+M+" MSPointerUp."+M],W=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;$.bind(O[0],function(t){i(t)}).bind(O[1],function(t){o(t)}),E.bind(O[0],function(t){s(t)}).bind(O[2],function(t){a(t)}),P.length&&P.each(function(){t(this).bind("load",function(){B(this)&&t(this.contentDocument||this.contentWindow.document).bind(O[0],function(t){i(t),s(t)}).bind(O[1],function(t){o(t)}).bind(O[2],function(t){a(t)})})})},D=function(){function i(t,e,i){l.type=i&&o?"stepped":"stepless",l.scrollAmount=10,q(s,t,e,"mcsLinearOut",i?60:null)}var o,s=t(this),a=s.data(n),r=a.opt,l=a.sequential,d=n+"_"+a.idx,u=t("#mCSB_"+a.idx+"_container"),h=u.parent();u.bind("mousedown."+d,function(){e||o||(o=1,c=!0)}).add(document).bind("mousemove."+d,function(t){if(!e&&o&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var n=u.offset(),s=z(t)[0]-n.top+u[0].offsetTop,c=z(t)[1]-n.left+u[0].offsetLeft;s>0&&s<h.height()&&c>0&&c<h.width()?l.step&&i("off",null,"stepped"):("x"!==r.axis&&a.overflowed[0]&&(0>s?i("on",38):s>h.height()&&i("on",40)),"y"!==r.axis&&a.overflowed[1]&&(0>c?i("on",37):c>h.width()&&i("on",39)))}}).bind("mouseup."+d+" dragend."+d,function(){e||(o&&(o=0,i("off",null)),c=!1)})},I=function(){function e(e,n){if(X(i),!L(i,e.target)){var a="auto"!==s.mouseWheel.deltaFactor?parseInt(s.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,d=s.scrollInertia;if("x"===s.axis||"x"===s.mouseWheel.axis)var u="x",h=[Math.round(a*o.scrollRatio.x),parseInt(s.mouseWheel.scrollAmount)],p="auto"!==s.mouseWheel.scrollAmount?h[1]:h[0]>=r.width()?.9*r.width():h[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===s.mouseWheel.axis?e.deltaY||n:e.deltaX;else var u="y",h=[Math.round(a*o.scrollRatio.y),parseInt(s.mouseWheel.scrollAmount)],p="auto"!==s.mouseWheel.scrollAmount?h[1]:h[0]>=r.height()?.9*r.height():h[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=e.deltaY||n;"y"===u&&!o.overflowed[0]||"x"===u&&!o.overflowed[1]||((s.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(v=-v),s.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==m||0>v&&m!==g||s.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!s.mouseWheel.normalizeDelta&&(p=e.deltaFactor,d=17),Q(i,(f-v*p).toString(),{dir:u,dur:d}))}}if(t(this).data(n)){var i=t(this),o=i.data(n),s=o.opt,a=n+"_"+o.idx,r=t("#mCSB_"+o.idx),c=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")],d=t("#mCSB_"+o.idx+"_container").find("iframe");d.length&&d.each(function(){t(this).bind("load",function(){B(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(t,i){e(t,i)})})}),r.bind("mousewheel."+a,function(t,i){e(t,i)})}},F=new Object,B=function(e){var i=!1,n=!1,o=null;if(void 0===e?n="#empty":void 0!==t(e).attr("id")&&(n=t(e).attr("id")),!1!==n&&void 0!==F[n])return F[n];if(e){try{var s=e.contentDocument||e.contentWindow.document;o=s.body.innerHTML}catch(t){}i=null!==o}else{try{var s=top.document;o=s.body.innerHTML}catch(t){}i=null!==o}return!1!==n&&(F[n]=i),i},A=function(t){var e=this.find("iframe");if(e.length){var i=t?"auto":"none";e.css("pointer-events",i)}},L=function(e,i){var o=i.nodeName.toLowerCase(),s=e.data(n).opt.mouseWheel.disableOver;return t.inArray(o,s)>-1&&!(t.inArray(o,["select","textarea"])>-1&&!t(i).is(":focus"))},P=function(){var e,i=t(this),o=i.data(n),s=n+"_"+o.idx,a=t("#mCSB_"+o.idx+"_container"),r=a.parent(),l=t(".mCSB_"+o.idx+"_scrollbar ."+d[12]);l.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(i){c=!0,t(i.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(){c=!1}).bind("click."+s,function(n){if(e&&(e=0,t(n.target).hasClass(d[12])||t(n.target).hasClass("mCSB_draggerRail"))){X(i);var s=t(this),l=s.find(".mCSB_dragger");if(s.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",u=n.pageX>l.offset().left?-1:1,h=Math.abs(a[0].offsetLeft)-u*(.9*r.width())}else{if(!o.overflowed[0])return;var c="y",u=n.pageY>l.offset().top?-1:1,h=Math.abs(a[0].offsetTop)-u*(.9*r.height())}Q(i,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},O=function(){var e=t(this),i=e.data(n),o=i.opt,s=n+"_"+i.idx,a=t("#mCSB_"+i.idx+"_container"),r=a.parent();a.bind("focusin."+s,function(){var i=t(document.activeElement),n=a.find(".mCustomScrollBox").length;i.is(o.advanced.autoScrollOnFocus)&&(X(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=n?17*n:0,e[0]._focusTimeout=setTimeout(function(){var t=[it(i)[0],it(i)[1]],n=[a[0].offsetTop,a[0].offsetLeft],s=[n[0]+t[0]>=0&&n[0]+t[0]<r.height()-i.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<r.width()-i.outerWidth(!1)],l="yx"!==o.axis||s[0]||s[1]?"all":"none";"x"===o.axis||s[0]||Q(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===o.axis||s[1]||Q(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},e[0]._focusTimer))})},W=function(){var e=t(this),i=e.data(n),o=n+"_"+i.idx,s=t("#mCSB_"+i.idx+"_container").parent();s.bind("scroll."+o,function(){0===s.scrollTop()&&0===s.scrollLeft()||t(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},R=function(){var e=t(this),i=e.data(n),o=i.opt,s=i.sequential,a=n+"_"+i.idx,r=".mCSB_"+i.idx+"_scrollbar",l=t(r+">a");l.bind("contextmenu."+a,function(t){t.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(n){function a(t,i){s.scrollAmount=o.scrollButtons.scrollAmount,q(e,t,i)}if(n.preventDefault(),J(n)){var r=t(this).attr("class");switch(s.type=o.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===s.type)return;c=!0,i.tweenRunning=!1,a("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===s.type)return;c=!1,s.dir&&a("off",r);break;case"click":if("stepped"!==s.type||i.tweenRunning)return;a("on",r)}}})},H=function(){function e(e){function n(t,e){a.type=s.keyboard.scrollType,a.scrollAmount=s.keyboard.scrollAmount,"stepped"===a.type&&o.tweenRunning||q(i,t,e)}switch(e.type){case"blur":o.tweenRunning&&a.dir&&n("off",null);break;case"keydown":case"keyup":var r=e.keyCode?e.keyCode:e.which,l="on";if("x"!==s.axis&&(38===r||40===r)||"y"!==s.axis&&(37===r||39===r)){if((38===r||40===r)&&!o.overflowed[0]||(37===r||39===r)&&!o.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(u)||(e.preventDefault(),e.stopImmediatePropagation(),n(l,r))}else if(33===r||34===r){if((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){X(i);var h=34===r?-1:1;if("x"===s.axis||"yx"===s.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=Math.abs(c[0].offsetLeft)-h*(.9*d.width());else var p="y",f=Math.abs(c[0].offsetTop)-h*(.9*d.height());Q(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===r||36===r)&&!t(document.activeElement).is(u)&&((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===s.axis||"yx"===s.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=35===r?Math.abs(d.width()-c.outerWidth(!1)):0;else var p="y",f=35===r?Math.abs(d.height()-c.outerHeight(!1)):0;Q(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var i=t(this),o=i.data(n),s=o.opt,a=o.sequential,r=n+"_"+o.idx,l=t("#mCSB_"+o.idx),c=t("#mCSB_"+o.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),p=["blur."+r+" keydown."+r+" keyup."+r];h.length&&h.each(function(){t(this).bind("load",function(){B(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(p[0],function(t){e(t)})},q=function(e,i,o,s,a){function r(t){c.snapAmount&&(u.scrollAmount=c.snapAmount instanceof Array?"x"===u.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var i="stepped"!==u.type,n=a||(t?i?f/1.5:m:1e3/60),o=t?i?7.5:40:2.5,d=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],p=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],g="x"===u.dir[0]?d[1]+u.dir[1]*(p[1]*o):d[0]+u.dir[1]*(p[0]*o),v="x"===u.dir[0]?d[1]+u.dir[1]*parseInt(u.scrollAmount):d[0]+u.dir[1]*parseInt(u.scrollAmount),b="auto"!==u.scrollAmount?v:g,y=s||(t?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),x=!!t;return t&&17>n&&(b="x"===u.dir[0]?d[1]:d[0]),Q(e,b.toString(),{dir:u.dir[0],scrollEasing:y,dur:n,onComplete:x}),t?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){r()},n)))}var l=e.data(n),c=l.opt,u=l.sequential,h=t("#mCSB_"+l.idx+"_container"),p="stepped"===u.type,f=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(i){case"on":if(u.dir=[o===d[16]||o===d[15]||39===o||37===o?"x":"y",o===d[13]||o===d[15]||38===o||37===o?-1:1],X(e),et(o)&&"stepped"===u.type)return;r(p);break;case"off":clearTimeout(u.step),Z(u,"step"),X(e),(p||l.tweenRunning&&u.dir)&&r(!0)}},N=function(e){var i=t(this).data(n).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===i.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===i.axis?null:e,o[1]=e.x?e.x:e.y||"y"===i.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},U=function(e,i){if(null!=e&&void 0!==e){var o=t(this),s=o.data(n),a=s.opt,r=t("#mCSB_"+s.idx+"_container"),l=r.parent(),c=typeof e;i||(i="x"===a.axis?"x":"y");var d="x"===i?r.outerWidth(!1)-l.width():r.outerHeight(!1)-l.height(),h="x"===i?r[0].offsetLeft:r[0].offsetTop,p="x"===i?"left":"top";switch(c){case"function":return e();case"object":var f=e.jquery?e:t(e);if(!f.length)return;return"x"===i?it(f)[1]:it(f)[0];case"string":case"number":if(et(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(d*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(h-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=h+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&et(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-r.outerHeight(!1));if("right"===e)return Math.abs(l.width()-r.outerWidth(!1));if("first"===e||"last"===e){var f=r.find(":"+e);return"x"===i?it(f)[1]:it(f)[0]}return t(e).length?"x"===i?it(t(e))[1]:it(t(e))[0]:(r.css(p,e),void u.update.call(null,o[0]))}}},Y=function(e){function i(t){clearTimeout(r[0].autoUpdate),u.update.call(null,o[0],t)}var o=t(this),s=o.data(n),a=s.opt,r=t("#mCSB_"+s.idx+"_container");return e?(clearTimeout(r[0].autoUpdate),void Z(r[0],"autoUpdate")):void function e(){return clearTimeout(r[0].autoUpdate),0===o.parents("html").length?void(o=null):void(r[0].autoUpdate=setTimeout(function(){return a.advanced.updateOnSelectorChange&&(s.poll.change.n=function(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var t=0,e=r.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void i(3)):a.advanced.updateOnContentResize&&(s.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+r[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void i(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(s.poll.img.n=r.find("img").length,s.poll.img.n===s.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&e()):(s.poll.img.o=s.poll.img.n,void r.find("img").each(function(){!function(e){if(t(e).hasClass(d[2]))i();else{var n=new Image;n.onload=function(t,e){return function(){return e.apply(t,arguments)}}(n,function(){this.onload=null,t(e).addClass(d[2]),i(2)}),n.src=e.src}}(this)}))},a.advanced.autoUpdateTimeout))}()},X=function(e){var i=e.data(n),o=t("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");o.each(function(){V.call(this)})},Q=function(e,i,o){function s(t){return r&&l.callbacks[t]&&"function"==typeof l.callbacks[t]}function a(){var t=[h[0].offsetTop,h[0].offsetLeft],i=[v[0].offsetTop,v[0].offsetLeft],n=[h.outerHeight(!1),h.outerWidth(!1)],s=[u.height(),u.width()];e[0].mcs={content:h,top:t[0],left:t[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(n[0])-s[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(n[1])-s[1])),direction:o.dir}}var r=e.data(n),l=r.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=t.extend(c,o),d=[o.dur,o.drag?0:o.dur],u=t("#mCSB_"+r.idx),h=t("#mCSB_"+r.idx+"_container"),p=h.parent(),f=l.callbacks.onTotalScrollOffset?N.call(e,l.callbacks.onTotalScrollOffset):[0,0],m=l.callbacks.onTotalScrollBackOffset?N.call(e,l.callbacks.onTotalScrollBackOffset):[0,0];if(r.trigger=o.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(t(".mCSB_"+r.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==i||r.contentReset.y||(s("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(e[0]),r.contentReset.y=1),"_resetX"!==i||r.contentReset.x||(s("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(e[0]),r.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!r.contentReset.y&&e[0].mcs||!r.overflowed[0]||(s("onOverflowY")&&l.callbacks.onOverflowY.call(e[0]),r.contentReset.x=null),!r.contentReset.x&&e[0].mcs||!r.overflowed[1]||(s("onOverflowX")&&l.callbacks.onOverflowX.call(e[0]),r.contentReset.x=null),l.snapAmount){var g=l.snapAmount instanceof Array?"x"===o.dir?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount;i=function(t,e,i){return Math.round(t/e)*e-i}(i,g,l.snapOffset)}switch(o.dir){case"x":var v=t("#mCSB_"+r.idx+"_dragger_horizontal"),b="left",y=h[0].offsetLeft,x=[u.width()-h.outerWidth(!1),v.parent().width()-v.width()],w=[i,0===i?0:i/r.scrollRatio.x],_=f[1],k=m[1],S=_>0?_/r.scrollRatio.x:0,T=k>0?k/r.scrollRatio.x:0;break;case"y":var v=t("#mCSB_"+r.idx+"_dragger_vertical"),b="top",y=h[0].offsetTop,x=[u.height()-h.outerHeight(!1),v.parent().height()-v.height()],w=[i,0===i?0:i/r.scrollRatio.y],_=f[0],k=m[0],S=_>0?_/r.scrollRatio.y:0,T=k>0?k/r.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=x[1]?w=[x[0],x[1]]:w[0]=-w[0],e[0].mcs||(a(),s("onInit")&&l.callbacks.onInit.call(e[0])),clearTimeout(h[0].onCompleteTimeout),G(v[0],b,Math.round(w[1]),d[1],o.scrollEasing),!r.tweenRunning&&(0===y&&w[0]>=0||y===x[0]&&w[0]<=x[0])||G(h[0],b,Math.round(w[0]),d[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!r.tweenRunning&&(s("onScrollStart")&&(a(),l.callbacks.onScrollStart.call(e[0])),r.tweenRunning=!0,C(v),r.cbOffsets=[l.callbacks.alwaysTriggerOffsets||y>=x[0]+_,l.callbacks.alwaysTriggerOffsets||-k>=y])},onUpdate:function(){o.callbacks&&o.onUpdate&&s("whileScrolling")&&(a(),l.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===l.axis&&clearTimeout(h[0].onCompleteTimeout);var t=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){s("onScroll")&&(a(),l.callbacks.onScroll.call(e[0])),s("onTotalScroll")&&w[1]>=x[1]-S&&r.cbOffsets[0]&&(a(),l.callbacks.onTotalScroll.call(e[0])),s("onTotalScrollBack")&&w[1]<=T&&r.cbOffsets[1]&&(a(),l.callbacks.onTotalScrollBack.call(e[0])),r.tweenRunning=!1,h[0].idleTimer=0,C(v,"hide")},t)}}})}},G=function(t,e,i,n,o,s,a){function r(){b.stop||(m||u.call(),m=K()-f,l(),m>=b.time&&(b.time=m>b.time?m+c-(m-b.time):m+c-1,b.time<m+1&&(b.time=m+1)),b.time<n?b.id=d(r):p.call())}function l(){n>0?(b.currVal=function(t,e,i,n,o){switch(o){case"linear":case"mcsLinear":return i*t/n+e;case"mcsLinearOut":return t/=n,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return 1>(t/=n/2)?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return 1>(t/=n/2)?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return 1>(t/=n/2)?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=n,-i*(--t*t*t*t-1)+e;case"easeOutStrong":return i*(1-Math.pow(2,-10*t/n))+e;case"easeOut":case"mcsEaseOut":default:var s=(t/=n)*t,a=s*t;return e+i*(.499999999999997*a*s+-2.5*s*s+5.5*a+-6.5*s+4*t)}}(b.time,g,y,n,o),v[e]=Math.round(b.currVal)+"px"):v[e]=i+"px",h.call()}t._mTween||(t._mTween={top:{},left:{}});var c,d,a=a||{},u=a.onStart||function(){},h=a.onUpdate||function(){},p=a.onComplete||function(){},f=K(),m=0,g=t.offsetTop,v=t.style,b=t._mTween[e];"left"===e&&(g=t.offsetLeft);var y=i-g;b.stop=0,"none"!==s&&null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null),c=1e3/60,b.time=m+c,d=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},b.id=d(r)},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},V=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var n=e[i];t._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[n].id):clearTimeout(t._mTween[n].id),t._mTween[n].id=null,t._mTween[n].stop=1)}},Z=function(t,e){try{delete t[e]}catch(i){t[e]=null}},J=function(t){return!(t.which&&1!==t.which)},tt=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},et=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},it=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},nt=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]};t.fn[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i].defaults=s,window[i]=!0,t(window).bind("load",function(){t(o)[i](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var i,n,o=t(e),s=o.parents(".mCSB_container");if(s.length)return i=s.parent(),(n=[s[0].offsetTop,s[0].offsetLeft])[0]+it(o)[0]>=0&&n[0]+it(o)[0]<i.height()-o.outerHeight(!1)&&n[1]+it(o)[1]>=0&&n[1]+it(o)[1]<i.width()-o.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,i,n){var o,s,a,r,l=t(e),c=l.parents(".mCSB_container"),d="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[l.outerHeight(!1),l.outerWidth(!1)],a=[c[0].offsetTop+it(l)[0],c[0].offsetLeft+it(l)[1]],s=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],a[0]-s[0]*(r=[o[0]<s[0]?d[0]:d[1],o[1]<s[1]?d[0]:d[1]])[0][0]<0&&a[0]+o[0]-s[0]*r[0][1]>=0&&a[1]-s[1]*r[1][0]<0&&a[1]+o[1]-s[1]*r[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var i=t(e).data(n);if(i)return i.overflowed[0]||i.overflowed[1]}})})}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){var e=window;t.fn.confirm=function(i,n){return void 0===i&&(i={}),"string"==typeof i&&(i={content:i,title:n||!1}),t(this).each(function(){var n=t(this);n.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",n[0]):(n.on("click",function(o){o.preventDefault();var s=t.extend({},i);if(n.attr("data-title")&&(s.title=n.attr("data-title")),n.attr("data-content")&&(s.content=n.attr("data-content")),void 0===s.buttons&&(s.buttons={}),s.$target=n,n.attr("href")&&0===Object.keys(s.buttons).length){var a=t.extend(!0,{},e.jconfirm.pluginDefaults.defaultButtons,(e.jconfirm.defaults||{}).defaultButtons||{}),r=Object.keys(a)[0];s.buttons=a,s.buttons[r].action=function(){location.href=n.attr("href")}}s.closeIcon=!1;t.confirm(s)}),n.attr("jc-attached",!0))}),t(this)},t.confirm=function(i,n){void 0===i&&(i={}),"string"==typeof i&&(i={content:i,title:n||!1});var o=!(!1===i.buttons);if("object"!=typeof i.buttons&&(i.buttons={}),0===Object.keys(i.buttons).length&&o){var s=t.extend(!0,{},e.jconfirm.pluginDefaults.defaultButtons,(e.jconfirm.defaults||{}).defaultButtons||{});i.buttons=s}return e.jconfirm(i)},t.alert=function(i,n){void 0===i&&(i={}),"string"==typeof i&&(i={content:i,title:n||!1});var o=!(!1===i.buttons);if("object"!=typeof i.buttons&&(i.buttons={}),0===Object.keys(i.buttons).length&&o){var s=t.extend(!0,{},e.jconfirm.pluginDefaults.defaultButtons,(e.jconfirm.defaults||{}).defaultButtons||{}),a=Object.keys(s)[0];i.buttons[a]=s[a]}return e.jconfirm(i)},t.dialog=function(t,i){return void 0===t&&(t={}),"string"==typeof t&&(t={content:t,title:i||!1,closeIcon:function(){}}),t.buttons={},void 0===t.closeIcon&&(t.closeIcon=function(){}),t.confirmKeys=[13],e.jconfirm(t)},e.jconfirm=function(i){void 0===i&&(i={});var n=t.extend(!0,{},e.jconfirm.pluginDefaults);e.jconfirm.defaults&&(n=t.extend(!0,n,e.jconfirm.defaults)),n=t.extend(!0,{},n,i);var o=new e.Jconfirm(n);return e.jconfirm.instances.push(o),o},e.Jconfirm=function(e){t.extend(this,e),this._init()},e.Jconfirm.prototype={_init:function(){var i=this;e.jconfirm.instances.length||(e.jconfirm.lastFocused=t("body").find(":focus")),this._id=Math.round(99999*Math.random()),this.contentParsed=t(document.createElement("div")),this.lazyOpen||setTimeout(function(){i.open()},0)},_buildHTML:function(){var e=this;this._parseAnimation(this.animation,"o"),this._parseAnimation(this.closeAnimation,"c"),this._parseBgDismissAnimation(this.backgroundDismissAnimation),this._parseColumnClass(this.columnClass),this._parseTheme(this.theme),this._parseType(this.type);var i=t(this.template);i.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed),this.typeAnimated&&i.find(".jconfirm-box").addClass("jconfirm-type-animated"),this.useBootstrap?(i.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),i.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),i.find(".jconfirm-box-container").addClass(this.columnClassParsed),this.containerFluid?i.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):i.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):i.find(".jconfirm-box").css("width",this.boxWidth),this.titleClass&&i.find(".jconfirm-title-c").addClass(this.titleClass),i.addClass(this.themeParsed);var n="jconfirm-box"+this._id;i.find(".jconfirm-box").attr("aria-labelledby",n).attr("tabindex",-1),i.find(".jconfirm-content").attr("id",n),null!==this.bgOpacity&&i.find(".jconfirm-bg").css("opacity",this.bgOpacity),this.rtl&&i.addClass("jconfirm-rtl"),this.$el=i.appendTo(this.container),this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container"),this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box"),this.$jconfirmBg=this.$el.find(".jconfirm-bg"),this.$title=this.$el.find(".jconfirm-title"),this.$titleContainer=this.$el.find(".jconfirm-title-c"),this.$content=this.$el.find("div.jconfirm-content"),this.$contentPane=this.$el.find(".jconfirm-content-pane"),this.$icon=this.$el.find(".jconfirm-icon-c"),this.$closeIcon=this.$el.find(".jconfirm-closeIcon"),this.$holder=this.$el.find(".jconfirm-holder"),this.$btnc=this.$el.find(".jconfirm-buttons"),this.$scrollPane=this.$el.find(".jconfirm-scrollpane"),e.setStartingPoint(),this._contentReady=t.Deferred(),this._modalReady=t.Deferred(),this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom}),this.setTitle(),this.setIcon(),this._setButtons(),this._parseContent(),this.initDraggable(),this.isAjax&&this.showLoading(!1),t.when(this._contentReady,this._modalReady).then(function(){e.isAjaxLoading?setTimeout(function(){e.isAjaxLoading=!1,e.setContent(),e.setTitle(),e.setIcon(),setTimeout(function(){e.hideLoading(!1),e._updateContentMaxHeight()},100),"function"==typeof e.onContentReady&&e.onContentReady()},50):(e._updateContentMaxHeight(),e.setTitle(),e.setIcon(),"function"==typeof e.onContentReady&&e.onContentReady()),e.autoClose&&e._startCountDown()}).then(function(){e._watchContent()}),"none"===this.animation&&(this.animationSpeed=1,this.animationBounce=1),this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce)),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(t){this.typeParsed=this._typePrefix+t},setType:function(t){var e=this.typeParsed;this._parseType(t),this.$jconfirmBox.removeClass(e).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",setTheme:function(t){var e=this.theme;this.theme=t||this.theme,this._parseTheme(this.theme),e&&this.$el.removeClass(e),this.$el.addClass(this.themeParsed),this.theme=t},_parseTheme:function(e){var i=this;e=e.split(","),t.each(e,function(n,o){-1===o.indexOf(i._themePrefix)&&(e[n]=i._themePrefix+t.trim(o))}),this.themeParsed=e.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(e){var i=e.split(","),n=this;t.each(i,function(e,o){-1===o.indexOf(n._bgDismissPrefix)&&(i[e]=n._bgDismissPrefix+t.trim(o))}),this.backgroundDismissAnimationParsed=i.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(t){this.animation=t||this.animation,this._parseAnimation(this.animation,"o")},_parseAnimation:function(e,i){i=i||"o";var n=e.split(","),o=this;t.each(n,function(e,i){-1===i.indexOf(o._animationPrefix)&&(n[e]=o._animationPrefix+t.trim(i))});var s=n.join(" ").toLowerCase();return"o"===i?this.animationParsed=s:this.closeAnimationParsed=s,s},setCloseAnimation:function(t){this.closeAnimation=t||this.closeAnimation,this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(t){this.animationSpeed=t||this.animationSpeed},columnClassParsed:"",setColumnClass:function(t){this.useBootstrap?(this.columnClass=t||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},_updateContentMaxHeight:function(){var e=t(window).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom);this.$contentPane.css({"max-height":e+"px"})},setBoxWidth:function(t){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=t,this.$jconfirmBox.css("width",t))},_parseColumnClass:function(t){var e;switch(t=t.toLowerCase()){case"xl":case"xlarge":e="col-md-12";break;case"l":case"large":e="col-md-8 col-md-offset-2";break;case"m":case"medium":e="col-md-6 col-md-offset-3";break;case"s":case"small":e="col-md-4 col-md-offset-4";break;case"xs":case"xsmall":e="col-md-2 col-md-offset-5";break;default:e=t}this.columnClassParsed=e},initDraggable:function(){var e=this,i=this.$titleContainer;this.resetDrag(),this.draggable&&(i.on("mousedown",function(t){i.addClass("jconfirm-hand"),e.mouseX=t.clientX,e.mouseY=t.clientY,e.isDrag=!0}),t(window).on("mousemove."+this._id,function(t){e.isDrag&&(e.movingX=t.clientX-e.mouseX+e.initialX,e.movingY=t.clientY-e.mouseY+e.initialY,e.setDrag())}),t(window).on("mouseup."+this._id,function(){i.removeClass("jconfirm-hand"),e.isDrag&&(e.isDrag=!1,e.initialX=e.movingX,e.initialY=e.movingY)}))},resetDrag:function(){this.isDrag=!1,this.initialX=0,this.initialY=0,this.movingX=0,this.movingY=0,this.mouseX=0,this.mouseY=0,this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var e=this.$jconfirmBox.outerWidth(),i=this.$jconfirmBox.outerHeight(),n=t(window).width(),o=t(window).height();if(this.movingX%1==0||this.movingY%1==0){if(this.dragWindowBorder){var s=n/2-e/2,a=o/2-i/2;a-=this.dragWindowGap,(s-=this.dragWindowGap)+this.movingX<0?this.movingX=-s:s-this.movingX<0&&(this.movingX=s),a+this.movingY<0?this.movingY=-a:a-this.movingY<0&&(this.movingY=a)}this.$jconfirmBoxContainer.css("transform","translate("+this.movingX+"px, "+this.movingY+"px)")}}},_scrollTop:function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var t=document.body,e=document.documentElement;return(e=e.clientHeight?e:t).scrollTop},_watchContent:function(){var e=this;this._timer&&clearInterval(this._timer);var i=0;this._timer=setInterval(function(){if(e.smoothContent){var n=e.$content.outerHeight()||0;n!==i&&(i=n);var o=t(window).height();e.offsetTop+e.offsetBottom+e.$jconfirmBox.height()-e.$contentPane.height()+e.$content.height()<o?e.$contentPane.addClass("no-scroll"):e.$contentPane.removeClass("no-scroll")}},this.watchInterval)},_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var t=this;if(!this._hilightAnimating){t.$body.addClass("hilight");var e=parseFloat(t.$body.css("animation-duration"))||2;this._hilightAnimating=!0,setTimeout(function(){t._hilightAnimating=!1,t.$body.removeClass("hilight")},1e3*e)}},_bindEvents:function(){var e=this;this.boxClicked=!1,this.$scrollPane.click(function(t){if(!e.boxClicked){var i,n=!1,o=!1;if("string"==typeof(i="function"==typeof e.backgroundDismiss?e.backgroundDismiss():e.backgroundDismiss)&&void 0!==e.buttons[i]?(n=i,o=!1):o=void 0===i||!0==!!i,n){var s=e.buttons[n].action.apply(e);o=void 0===s||!!s}o?e.close():e.hiLightModal()}e.boxClicked=!1}),this.$jconfirmBox.click(function(t){e.boxClicked=!0});var i=!1;t(window).on("jcKeyDown."+e._id,function(t){i||(i=!0)}),t(window).on("keyup."+e._id,function(t){i&&(e.reactOnKey(t),i=!1)}),t(window).on("resize."+this._id,function(){e._updateContentMaxHeight(),setTimeout(function(){e.resetDrag()},100)})},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(t,e){return{"-webkit-transition-duration":t/1e3+"s","transition-duration":t/1e3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")"}},_setButtons:function(){var e=this,i=0;if("object"!=typeof this.buttons&&(this.buttons={}),t.each(this.buttons,function(n,o){i+=1,"function"==typeof o&&(e.buttons[n]=o={action:o}),e.buttons[n].text=o.text||n,e.buttons[n].btnClass=o.btnClass||"btn-default",e.buttons[n].action=o.action||function(){},e.buttons[n].keys=o.keys||[],e.buttons[n].isHidden=o.isHidden||!1,e.buttons[n].isDisabled=o.isDisabled||!1,t.each(e.buttons[n].keys,function(t,i){e.buttons[n].keys[t]=i.toLowerCase()});var s=t('<button type="button" class="btn"></button>').html(e.buttons[n].text).addClass(e.buttons[n].btnClass).prop("disabled",e.buttons[n].isDisabled).css("display",e.buttons[n].isHidden?"none":"").click(function(t){t.preventDefault();var i=e.buttons[n].action.apply(e,[e.buttons[n]]);e.onAction.apply(e,[n,e.buttons[n]]),e._stopCountDown(),(void 0===i||i)&&e.close()});e.buttons[n].el=s,e.buttons[n].setText=function(t){s.html(t)},e.buttons[n].addClass=function(t){s.addClass(t)},e.buttons[n].removeClass=function(t){s.removeClass(t)},e.buttons[n].disable=function(){e.buttons[n].isDisabled=!0,s.prop("disabled",!0)},e.buttons[n].enable=function(){e.buttons[n].isDisabled=!1,s.prop("disabled",!1)},e.buttons[n].show=function(){e.buttons[n].isHidden=!1,s.css("display","")},e.buttons[n].hide=function(){e.buttons[n].isHidden=!0,s.css("display","none")},e["$_"+n]=e["$$"+n]=s,e.$btnc.append(s)}),0===i&&this.$btnc.hide(),null===this.closeIcon&&0===i&&(this.closeIcon=!0),this.closeIcon){if(this.closeIconClass){var n='<i class="'+this.closeIconClass+'"></i>';this.$closeIcon.html(n)}this.$closeIcon.click(function(t){t.preventDefault();var i,n=!1,o=!1;if("string"==typeof(i="function"==typeof e.closeIcon?e.closeIcon():e.closeIcon)&&void 0!==e.buttons[i]?(n=i,o=!1):o=void 0===i||!0==!!i,n){var s=e.buttons[n].action.apply(e);o=void 0===s||!!s}o&&e.close()}),this.$closeIcon.show()}else this.$closeIcon.hide()},setTitle:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.title=t;else if("function"==typeof t){"function"==typeof t.promise&&console.error("Promise was returned from title function, this is not supported.");var i=t();this.title="string"==typeof i&&i}else this.title=!1;this.isAjaxLoading&&!e||(this.$title.html(this.title||""),this.updateTitleContainer())},setIcon:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.icon=t;else if("function"==typeof t){var i=t();this.icon="string"==typeof i&&i}else this.icon=!1;this.isAjaxLoading&&!e||(this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer())},updateTitleContainer:function(){this.title||this.icon?this.$titleContainer.show():this.$titleContainer.hide()},setContentPrepend:function(t,e){t&&this.contentParsed.prepend(t)},setContentAppend:function(t){t&&this.contentParsed.append(t)},setContent:function(t,e){e=!!e;var i=this;t&&this.contentParsed.html("").append(t),this.isAjaxLoading&&!e||(this.$content.html(""),this.$content.append(this.contentParsed),setTimeout(function(){i.$body.find("input[autofocus]:visible:first").focus()},100))},loadingSpinner:!1,showLoading:function(t){this.loadingSpinner=!0,this.$jconfirmBox.addClass("loading"),t&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(t){this.loadingSpinner=!1,this.$jconfirmBox.removeClass("loading"),t&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var e=this,i="&nbsp;";if("function"==typeof this.content){var n=this.content.apply(this);"string"==typeof n?this.content=n:"object"==typeof n&&"function"==typeof n.always?(this.isAjax=!0,this.isAjaxLoading=!0,n.always(function(t,i,n){e.ajaxResponse={data:t,status:i,xhr:n},e._contentReady.resolve(t,i,n),"function"==typeof e.contentLoaded&&e.contentLoaded(t,i,n)}),this.content=i):this.content=i}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase()){this.isAjax=!0,this.isAjaxLoading=!0;var o=this.content.substring(4,this.content.length);t.get(o).done(function(t){e.contentParsed.html(t)}).always(function(t,i,n){e.ajaxResponse={data:t,status:i,xhr:n},e._contentReady.resolve(t,i,n),"function"==typeof e.contentLoaded&&e.contentLoaded(t,i,n)})}this.content||(this.content=i),this.isAjax||(this.contentParsed.html(this.content),this.setContent(),e._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var e=this,i=this.autoClose.split("|");if(2!==i.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var n=i[0],o=parseInt(i[1]);if(void 0===this.buttons[n])return console.error("Invalid button key '"+n+"' for autoClose"),!1;var s=Math.ceil(o/1e3);this.$cd=t('<span class="countdown"> ('+s+")</span>").appendTo(this["$_"+n]),this.autoCloseInterval=setInterval(function(){e.$cd.html(" ("+(s-=1)+") "),s<=0&&(e["$$"+n].trigger("click"),e._stopCountDown())},1e3)},_getKey:function(t){switch(t){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}var e=String.fromCharCode(t);return!!/^[A-z0-9]+$/.test(e)&&e.toLowerCase()},reactOnKey:function(e){var i=this,n=t(".jconfirm");if(n.eq(n.length-1)[0]!==this.$el[0])return!1;var o=e.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(o))return!1;var s=this._getKey(o);if("esc"===s&&this.escapeKey)if(!0===this.escapeKey)this.$scrollPane.trigger("click");else if("string"==typeof this.escapeKey||"function"==typeof this.escapeKey){var a;(a="function"==typeof this.escapeKey?this.escapeKey():this.escapeKey)&&(void 0===this.buttons[a]?console.warn("Invalid escapeKey, no buttons found with key "+a):this["$_"+a].trigger("click"))}t.each(this.buttons,function(t,e){-1!==e.keys.indexOf(s)&&i["$_"+t].trigger("click")})},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(i){var n=this;return"function"==typeof this.onClose&&this.onClose(i),this._unwatchContent(),t(window).unbind("resize."+this._id),t(window).unbind("keyup."+this._id),t(window).unbind("jcKeyDown."+this._id),this.draggable&&(t(window).unbind("mousemove."+this._id),t(window).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown")),n.$el.removeClass(n.loadedClass),t("body").removeClass("jconfirm-no-scroll-"+n._id),n.$jconfirmBoxContainer.removeClass("jconfirm-no-transition"),setTimeout(function(){n.$body.addClass(n.closeAnimationParsed),n.$jconfirmBg.addClass("jconfirm-bg-h");var i="none"===n.closeAnimation?1:n.animationSpeed;setTimeout(function(){n.$el.remove();e.jconfirm.instances;for(var i=e.jconfirm.instances.length-1;i>=0;i--)e.jconfirm.instances[i]._id===n._id&&e.jconfirm.instances.splice(i,1);if(!e.jconfirm.instances.length&&n.scrollToPreviousElement&&e.jconfirm.lastFocused&&e.jconfirm.lastFocused.length&&t.contains(document,e.jconfirm.lastFocused[0])){var o=e.jconfirm.lastFocused;if(n.scrollToPreviousElementAnimate){var s=t(window).scrollTop(),a=e.jconfirm.lastFocused.offset().top,r=t(window).height();if(a>s&&a<s+r)o.focus();else{var l=a-Math.round(r/3);t("html, body").animate({scrollTop:l},n.animationSpeed,"swing",function(){o.focus()})}}else o.focus();e.jconfirm.lastFocused=!1}"function"==typeof n.onDestroy&&n.onDestroy()},.4*i)},50),!0},open:function(){return!this.isOpen()&&(this._buildHTML(),this._bindEvents(),this._open(),!0)},setStartingPoint:function(){var i=!1;if(!0!==this.animateFromElement&&this.animateFromElement)i=this.animateFromElement,e.jconfirm.lastClicked=!1;else{if(!e.jconfirm.lastClicked||!0!==this.animateFromElement)return!1;i=e.jconfirm.lastClicked,e.jconfirm.lastClicked=!1}if(!i)return!1;var n=i.offset(),o=i.outerHeight()/2,s=i.outerWidth()/2;o-=this.$jconfirmBox.outerHeight()/2,s-=this.$jconfirmBox.outerWidth()/2;var a=n.top+o;a-=this._scrollTop();var r=n.left+s,l=t(window).height()/2,c=t(window).width()/2;if(a-=l-this.$jconfirmBox.outerHeight()/2,r-=c-this.$jconfirmBox.outerWidth()/2,Math.abs(a)>l||Math.abs(r)>c)return!1;this.$jconfirmBoxContainer.css("transform","translate("+r+"px, "+a+"px)")},_open:function(){var t=this;"function"==typeof t.onOpenBefore&&t.onOpenBefore(),this.$body.removeClass(this.animationParsed),this.$jconfirmBg.removeClass("jconfirm-bg-h"),this.$body.focus(),t.$jconfirmBoxContainer.css("transform","translate(0px, 0px)"),setTimeout(function(){t.$body.css(t._getCSS(t.animationSpeed,1)),t.$body.css({"transition-property":t.$body.css("transition-property")+", margin"}),t.$jconfirmBoxContainer.addClass("jconfirm-no-transition"),t._modalReady.resolve(),"function"==typeof t.onOpen&&t.onOpen(),t.$el.addClass(t.loadedClass)},this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||0===this.$el.parent().length},isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}},e.jconfirm.instances=[],e.jconfirm.lastFocused=!1,e.jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onAction:function(){}};var i=!1;t(window).on("keydown",function(e){if(!i){var n=!1;t(e.target).closest(".jconfirm-box").length&&(n=!0),n&&t(window).trigger("jcKeyDown"),i=!0}}),t(window).on("keyup",function(){i=!1}),e.jconfirm.lastClicked=!1,t(document).on("mousedown","button, a, [jc-source]",function(){e.jconfirm.lastClicked=t(this)})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{};t.ui.version="1.12.1";!function(){var e,i=Math.max,n=Math.abs,o=/left|center|right/,s=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,l=/%$/,c=t.fn.position;function d(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function u(e,i){return parseInt(t.css(e,i),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,n,o=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return t("body").append(o),i=s.offsetWidth,o.css("overflow","scroll"),i===(n=s.offsetWidth)&&(n=o[0].clientWidth),o.remove(),e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:!n&&!o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var l,h,p,f,m,g,v,b,y=t(e.of),x=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(x),_=(e.collision||"flip").split(" "),C={};return g=9===(b=(v=y)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:t.isWindow(b)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},y[0].preventDefault&&(e.at="left top"),h=g.width,p=g.height,f=g.offset,m=t.extend({},f),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",t=a.exec(n[0]),i=a.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[r.exec(n[0])[0],r.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===e.at[0]?m.left+=h:"center"===e.at[0]&&(m.left+=h/2),"bottom"===e.at[1]?m.top+=p:"center"===e.at[1]&&(m.top+=p/2),l=d(C.at,h,p),m.left+=l[0],m.top+=l[1],this.each(function(){var o,s,a=t(this),r=a.outerWidth(),c=a.outerHeight(),g=u(this,"marginLeft"),v=u(this,"marginTop"),b=r+g+u(this,"marginRight")+w.width,k=c+v+u(this,"marginBottom")+w.height,S=t.extend({},m),T=d(C.my,a.outerWidth(),a.outerHeight());"right"===e.my[0]?S.left-=r:"center"===e.my[0]&&(S.left-=r/2),"bottom"===e.my[1]?S.top-=c:"center"===e.my[1]&&(S.top-=c/2),S.left+=T[0],S.top+=T[1],o={marginLeft:g,marginTop:v},t.each(["left","top"],function(i,n){t.ui.position[_[i]]&&t.ui.position[_[i]][n](S,{targetWidth:h,targetHeight:p,elemWidth:r,elemHeight:c,collisionPosition:o,collisionWidth:b,collisionHeight:k,offset:[l[0]+T[0],l[1]+T[1]],my:e.my,at:e.at,within:x,elem:a})}),e.using&&(s=function(t){var o=f.left-S.left,s=o+h-r,l=f.top-S.top,d=l+p-c,u={target:{element:y,left:f.left,top:f.top,width:h,height:p},element:{element:a,left:S.left,top:S.top,width:r,height:c},horizontal:s<0?"left":o>0?"right":"center",vertical:d<0?"top":l>0?"bottom":"middle"};h<r&&n(o+s)<h&&(u.horizontal="center"),p<c&&n(l+d)<p&&(u.vertical="middle"),i(n(o),n(s))>i(n(l),n(d))?u.important="horizontal":u.important="vertical",e.using.call(this,t,u)}),a.offset(t.extend(S,{using:s}))})},t.ui.position={fit:{left:function(t,e){var n,o=e.within,s=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,c=r+e.collisionWidth-a-s;e.collisionWidth>a?l>0&&c<=0?(n=t.left+l+e.collisionWidth-a-s,t.left+=l-n):t.left=c>0&&l<=0?s:l>c?s+a-e.collisionWidth:s:l>0?t.left+=l:c>0?t.left-=c:t.left=i(t.left-r,t.left)},top:function(t,e){var n,o=e.within,s=o.isWindow?o.scrollTop:o.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,c=r+e.collisionHeight-a-s;e.collisionHeight>a?l>0&&c<=0?(n=t.top+l+e.collisionHeight-a-s,t.top+=l-n):t.top=c>0&&l<=0?s:l>c?s+a-e.collisionHeight:s:l>0?t.top+=l:c>0?t.top-=c:t.top=i(t.top-r,t.top)}},flip:{left:function(t,e){var i,o,s=e.within,a=s.offset.left+s.scrollLeft,r=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,d=c-l,u=c+e.collisionWidth-r-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];d<0?((i=t.left+h+p+f+e.collisionWidth-r-a)<0||i<n(d))&&(t.left+=h+p+f):u>0&&((o=t.left-e.collisionPosition.marginLeft+h+p+f-l)>0||n(o)<u)&&(t.left+=h+p+f)},top:function(t,e){var i,o,s=e.within,a=s.offset.top+s.scrollTop,r=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,d=c-l,u=c+e.collisionHeight-r-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];d<0?((o=t.top+h+p+f+e.collisionHeight-r-a)<0||o<n(d))&&(t.top+=h+p+f):u>0&&((i=t.top-e.collisionPosition.marginTop+h+p+f-l)>0||n(i)<u)&&(t.top+=h+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position}),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i,n){var o={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(e,i){this.prepareOptions(e,t.toast.options),this.process()},prepareOptions:function(e,i){var n={};"string"==typeof e||e instanceof Array?n.text=e:n=e,this.options=t.extend({},i,n)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var e="";if(this._toastEl=this._toastEl||t("<div></div>",{class:"jq-toast-single"}),e+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(e+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(e+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),e+='<ul class="jq-toast-ul">';for(var i=0;i<this.options.text.length;i++)e+='<li class="jq-toast-li" id="jq-toast-item-'+i+'">'+this.options.text[i]+"</li>";e+="</ul>"}else this.options.heading&&(e+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),e+=this.options.text;this._toastEl.html(e),!1!==this.options.bgColor&&this._toastEl.css("background-color",this.options.bgColor),!1!==this.options.textColor&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),!1!==this.options.icon&&(this._toastEl.addClass("jq-has-icon"),-1!==t.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon)),!1!==this.options.class&&this._toastEl.addClass(this.options.class)},position:function(){"string"==typeof this.options.position&&-1!==t.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:t(e).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:t(e).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:t(e).outerWidth()/2-this._container.outerWidth()/2,top:t(e).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var t=this;this._toastEl.on("afterShown",function(){t.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(e){e.preventDefault(),"fade"===t.options.showHideTransition?(t._toastEl.trigger("beforeHide"),t._toastEl.fadeOut(function(){t._toastEl.trigger("afterHidden")})):"slide"===t.options.showHideTransition?(t._toastEl.trigger("beforeHide"),t._toastEl.slideUp(function(){t._toastEl.trigger("afterHidden")})):(t._toastEl.trigger("beforeHide"),t._toastEl.hide(function(){t._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){t.options.beforeShow(t._toastEl)}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){t.options.afterShown(t._toastEl)}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){t.options.beforeHide(t._toastEl)}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){t.options.afterHidden(t._toastEl)}),"function"==typeof this.options.onClick&&this._toastEl.on("click",function(){t.options.onClick(t._toastEl)})},addToDom:function(){var e=t(".jq-toast-wrap");if(0===e.length?(e=t("<div></div>",{class:"jq-toast-wrap",role:"alert","aria-live":"polite"}),t("body").append(e)):this.options.stack&&!isNaN(parseInt(this.options.stack,10))||e.empty(),e.find(".jq-toast-single:hidden").remove(),e.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var i=e.find(".jq-toast-single").length-this.options.stack;i>0&&t(".jq-toast-wrap").find(".jq-toast-single").slice(0,i).remove()}this._container=e},canAutoHide:function(){return!1!==this.options.hideAfter&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||!1===this.options.loader)return!1;var t=this._toastEl.find(".jq-toast-loader"),e=(this.options.hideAfter-400)/1e3+"s",i=this.options.loaderBg,n=t.attr("style")||"";n=n.substring(0,n.indexOf("-webkit-transition")),n+="-webkit-transition: width "+e+" ease-in;                       -o-transition: width "+e+" ease-in;                       transition: width "+e+" ease-in;                       background-color: "+i+";",t.attr("style",n).addClass("jq-toast-loaded")},animate:function(){var t=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){t._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){t._toastEl.trigger("afterShown")}):this._toastEl.show(function(){t._toastEl.trigger("afterShown")}),this.canAutoHide()){t=this;e.setTimeout(function(){"fade"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger("beforeHide"),t._toastEl.fadeOut(function(){t._toastEl.trigger("afterHidden")})):"slide"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger("beforeHide"),t._toastEl.slideUp(function(){t._toastEl.trigger("afterHidden")})):(t._toastEl.trigger("beforeHide"),t._toastEl.hide(function(){t._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(e){"all"===e?t(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(t){this.prepareOptions(t,this.options),this.setup(),this.bindToast()},close:function(){this._toastEl.find(".close-jq-toast-single").click()}};t.toast=function(t){var e=Object.create(o);return e.init(t,this),{reset:function(t){e.reset(t)},update:function(t){e.update(t)},close:function(){e.close()}}},t.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){},onClick:function(){}}}(jQuery,window,document),function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(n){function o(t,e,i,o){this.id=i,this.target=t,this.tooltip=$,this.elements={target:t},this._id=q+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:n(),disabled:z,attr:o,onTooltip:z,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=z}function s(t){return t===$||"object"!==n.type(t)}function a(t){return!(n.isFunction(t)||t&&t.attr||t.length||"object"===n.type(t)&&(t.jquery||t.then))}function r(t){var e,i,o,r;return s(t)?z:(s(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(s(e=t.content)||e.jquery||e.done?(i=a(e)?z:e,e=t.content={text:i}):i=e.text,"ajax"in e&&(o=e.ajax,r=o&&o.once!==z,delete e.ajax,e.text=function(t,e){var s=i||n(this).attr(e.options.content.attr)||"Loading...",a=n.ajax(n.extend({},o,{context:e})).then(o.success,$,o.error).then(function(t){return t&&r&&e.set("content.text",t),t},function(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)});return r?s:(e.set("content.text",s),a)}),"title"in e&&(n.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),a(e.title||z)&&(e.title=z))),"position"in t&&s(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&s(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===E?{ready:E}:{event:t.show}),"hide"in t&&s(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&s(t.style)&&(t.style={classes:t.style}),n.each(H,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,n=0,o=t,s=e.split(".");o=o[s[n++]];)n<s.length&&(i=o);return[i||t,s.pop()]}function c(t,e){var i,n,o;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(n in this.checks[i])this.checks[i].hasOwnProperty(n)&&(o=new RegExp(n,"i").exec(t))&&(e.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,e))}function d(t){return Y.concat("").join(t?"-"+t+" ":" ")}function u(t,e){return e>0?setTimeout(n.proxy(t,this),e):void t.call(this)}function h(t){this.tooltip.hasClass(J)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=u.call(this,function(){this.toggle(E,t)},this.options.show.delay))}function p(t){if(!this.tooltip.hasClass(J)&&!this.destroyed){var e=n(t.relatedTarget),i=e.closest(X)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(t){}else this.timers.hide=u.call(this,function(){this.toggle(z,t)},this.options.hide.delay,this)}}function f(t){!this.tooltip.hasClass(J)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=u.call(this,function(){this.hide(t)},this.options.hide.inactive))}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function g(t,i,o){n(e.body).delegate(t,(i.split?i:i.join("."+q+" "))+"."+q,function(){var t=C.api[n.attr(this,U)];t&&!t.disabled&&o.apply(t,arguments)})}function v(t,i,s){var a,l,c,d,u,h=n(e.body),p=t[0]===e?h:t,f=t.metadata?t.metadata(s.metadata):$,m="html5"===s.metadata.type&&f?f[s.metadata.name]:$,g=t.data(s.metadata.name||"qtipopts");try{g="string"==typeof g?n.parseJSON(g):g}catch(t){}if(l=(d=n.extend(E,{},C.defaults,s,"object"==typeof g?r(g):$,r(m||f))).position,d.id=i,"boolean"==typeof d.content.text){if(c=t.attr(d.content.attr),d.content.attr===z||!c)return z;d.content.text=c}if(l.container.length||(l.container=h),l.target===z&&(l.target=p),d.show.target===z&&(d.show.target=p),d.show.solo===E&&(d.show.solo=l.container.closest("body")),d.hide.target===z&&(d.hide.target=p),d.position.viewport===E&&(d.position.viewport=l.container),l.container=l.container.eq(0),l.at=new S(l.at,E),l.my=new S(l.my),t.data(q))if(d.overwrite)t.qtip("destroy",!0);else if(d.overwrite===z)return z;return t.attr(N,i),d.suppress&&(u=t.attr("title"))&&t.removeAttr("title").attr(et,u).attr("title",""),a=new o(t,d,i,!!c),t.data(q,a),a}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function y(t,e){return Math.ceil(parseFloat(function(t,e){var n,o,s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+xt.join(s+" ")+s).split(" "),r=0;if(yt[e])return t.css(yt[e]);for(;n=a[r++];)if((o=t.css(n))!==i)return yt[e]=n,o}(t,e)))}function x(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.qtip=t,this.init(t)}function w(t,e){this.options=e,this._ns="-modal",this.qtip=t,this.init(t)}function _(t){this._ns="ie6",this.qtip=t,this.init(t)}var C,k,S,T,M,E=!0,z=!1,$=null,j="x",D="y",I="width",F="height",B="top",A="left",L="bottom",P="right",O="center",W="flipinvert",R="shift",H={},q="qtip",N="data-hasqtip",U="data-qtip-id",Y=["ui-widget","ui-tooltip"],X="."+q,Q="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),G=q+"-fixed",K=q+"-default",V=q+"-focus",Z=q+"-hover",J=q+"-disabled",tt="_replacedByqTip",et="oldtitle",it={ie:function(){var t,i;for(t=4,i=e.createElement("div");(i.innerHTML="\x3c!--[if gt IE "+t+"]><i></i><![endif]--\x3e")&&i.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||z};(k=o.prototype)._when=function(t){return n.when.apply(n,t)},k.render=function(t){if(this.rendered||this.destroyed)return this;var e=this,i=this.options,o=this.cache,s=this.elements,a=i.content.text,r=i.content.title,l=i.content.button,c=i.position,d=[];return n.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:c.my,at:c.at}).my),this.tooltip=s.tooltip=n("<div/>",{id:this._id,class:[q,K,i.style.classes,o.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===c.target&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":z,"aria-describedby":this._id+"-content","aria-hidden":E}).toggleClass(J,this.disabled).attr(U,this.id).data(q,this).appendTo(c.container).append(s.content=n("<div />",{class:q+"-content",id:this._id+"-content","aria-atomic":E})),this.rendered=-1,this.positioning=E,r&&(this._createTitle(),n.isFunction(r)||d.push(this._updateTitle(r,z))),l&&this._createButton(),n.isFunction(a)||d.push(this._updateContent(a,z)),this.rendered=E,this._setWidget(),n.each(H,function(t){var i;"render"===this.initialize&&(i=this(e))&&(e.plugins[t]=i)}),this._unassignEvents(),this._assignEvents(),this._when(d).then(function(){e._trigger("render"),e.positioning=z,e.hiddenDuringWait||!i.show.ready&&!t||e.toggle(E,o.event,z),e.hiddenDuringWait=z}),C.api[this.id]=this,this},k.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=E;var t,e=this.target,i=e.attr(et);for(t in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(){this.destroy&&this.destroy()}),this.timers)this.timers.hasOwnProperty(t)&&clearTimeout(this.timers[t]);e.removeData(q).removeAttr(U).removeAttr(N).removeAttr("aria-describedby"),this.options.suppress&&i&&e.attr("title",i).removeAttr(et),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=$,delete C.api[this.id]}}return this.destroyed?this.target:(t===E&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",n.proxy(e,this)),!this.triggering&&this.hide()),this.target)},T=k.checks={builtin:{"^id$":function(t,e,i,o){var s=i===E?C.nextid:i,a=q+"-"+s;s!==z&&s.length>0&&!n("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new S(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(E)||this.toggle(E))},"^style.classes$":function(t,e,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(K,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},k.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var nt=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ot=/^prerender|show\.ready/i;k.set=function(t,e){if(this.destroyed)return this;var i,o=this.rendered,s=z,a=this.options;return"string"==typeof t?(i=t,(t={})[i]=e):t=n.extend({},t),n.each(t,function(e,i){if(o&&ot.test(e))delete t[e];else{var r,c=l(a,e.toLowerCase());r=c[0][c[1]],c[0][c[1]]=i&&i.nodeType?n(i):i,s=nt.test(e)||s,t[e]=[c[0],c[1],i,r]}}),r(a),this.positioning=E,n.each(t,n.proxy(c,this)),this.positioning=z,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===a.position.target?$:this.cache.event),this},k._update=function(t,e){var i=this,o=this.cache;return this.rendered&&t?(n.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),n.isFunction(t.then)?(o.waiting=E,t.then(function(t){return o.waiting=z,i._update(t,e)},$,function(t){return i._update(t,e)})):t===z||!t&&""!==t?z:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!t.length)}))):z},k._waitForContent=function(t){var e=this.cache;return e.waiting=E,(n.fn.imagesLoaded?t.imagesLoaded():(new n.Deferred).resolve([])).done(function(){e.waiting=z}).promise()},k._updateContent=function(t,e){this._update(t,this.elements.content,e)},k._updateTitle=function(t,e){this._update(t,this.elements.title,e)===z&&this._removeTitle(z)},k._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=n("<div />",{class:q+"-titlebar "+(this.options.style.widget?d("header"):"")}).append(t.title=n("<div />",{id:e,class:q+"-title","aria-atomic":E})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){n(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){n(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},k._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=$,t!==z&&this.reposition())},k._createPosClass=function(t){return q+"-pos-"+(t||this.options.position.my).abbrev()},k.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=E;var s,a,r,l,c=this.cache,d=this.tooltip,u=this.options.position,h=u.target,p=u.my,f=u.at,m=u.viewport,g=u.container,v=u.adjust,b=v.method.split(" "),y=d.outerWidth(z),x=d.outerHeight(z),w=0,_=0,C=d.css("position"),k={left:0,top:0},S=d[0].offsetWidth>0,T=i&&"scroll"===i.type,M=n(t),$=g[0].ownerDocument,j=this.mouse;if(n.isArray(h)&&2===h.length)f={x:A,y:B},k={left:h[0],top:h[1]};else if("mouse"===h)f={x:A,y:B},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?i=c.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=c.event:j&&j.pageX&&(i=j),"static"!==C&&(k=g.offset()),$.body.offsetWidth!==(t.innerWidth||$.documentElement.clientWidth)&&(a=n(e.body).offset()),k={left:i.pageX-k.left+(a&&a.left||0),top:i.pageY-k.top+(a&&a.top||0)},v.mouse&&T&&j&&(k.left-=(j.scrollX||0)-M.scrollLeft(),k.top-=(j.scrollY||0)-M.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?c.target=n(i.target):i.target||(c.target=this.elements.target):"event"!==h&&(c.target=n(h.jquery?h:this.elements.target)),h=c.target,0===(h=n(h).eq(0)).length)return this;h[0]===e||h[0]===t?(w=it.iOS?t.innerWidth:h.width(),_=it.iOS?t.innerHeight:h.height(),h[0]===t&&(k={top:(m||h).scrollTop(),left:(m||h).scrollLeft()})):H.imagemap&&h.is("area")?s=H.imagemap(this,h,f,H.viewport?b:z):H.svg&&h&&h[0].ownerSVGElement?s=H.svg(this,h,f,H.viewport?b:z):(w=h.outerWidth(z),_=h.outerHeight(z),k=h.offset()),s&&(w=s.width,_=s.height,a=s.offset,k=s.position),k=this.reposition.offset(h,k,g),(it.iOS>3.1&&it.iOS<4.1||it.iOS>=4.3&&it.iOS<4.33||!it.iOS&&"fixed"===C)&&(k.left-=M.scrollLeft(),k.top-=M.scrollTop()),(!s||s&&s.adjustable!==z)&&(k.left+=f.x===P?w:f.x===O?w/2:0,k.top+=f.y===L?_:f.y===O?_/2:0)}return k.left+=v.x+(p.x===P?-y:p.x===O?-y/2:0),k.top+=v.y+(p.y===L?-x:p.y===O?-x/2:0),H.viewport?(r=k.adjusted=H.viewport(this,k,u,w,_,y,x),a&&r.left&&(k.left+=a.left),a&&r.top&&(k.top+=a.top),r.my&&(this.position.my=r.my)):k.adjusted={left:0,top:0},c.posClass!==(l=this._createPosClass(this.position.my))&&(c.posClass=l,d.removeClass(c.posClass).addClass(l)),this._trigger("move",[k,m.elem||m],i)?(delete k.adjusted,o===z||!S||isNaN(k.left)||isNaN(k.top)||"mouse"===h||!n.isFunction(u.effect)?d.css(k):n.isFunction(u.effect)&&(u.effect.call(d,this,n.extend({},k)),d.queue(function(t){n(this).css({opacity:"",height:""}),it.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=z,this):this},k.reposition.offset=function(t,i,o){function s(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var a,r,l,c,d=n(t[0].ownerDocument),u=!!it.ie&&"CSS1Compat"!==e.compatMode,h=o[0];do{"static"!==(r=n.css(h,"position"))&&("fixed"===r?(l=h.getBoundingClientRect(),s(d,-1)):((l=n(h).position()).left+=parseFloat(n.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(h,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(h,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(h,"marginTop"))||0),a||"hidden"===(c=n.css(h,"overflow"))||"visible"===c||(a=n(h)))}while(h=h.offsetParent);return a&&(a[0]!==d[0]||u)&&s(a,1),i};var st=(S=k.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,O).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?D:j}).prototype;st.invert=function(t,e){this[t]=this[t]===A?P:this[t]===P?A:e||this[t]},st.string=function(t){var e=this.x,i=this.y,n=e!==i?"center"===e||"center"!==i&&(this.precedance===D||this.forceY)?[i,e]:[e,i]:[e];return!1!==t?n.join(" "):n},st.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},st.clone=function(){return new S(this.string(),this.forceY)},k.toggle=function(t,i){var o=this.cache,s=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&s.show.target.add(i.target).length===s.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=n.event.fix(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=E),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var r,l,c,d=t?"show":"hide",u=this.options[d],h=this.options.position,p=this.options.content,f=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=t||1===u.target.length,v=!i||u.target.length<2||o.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),l=(r=!a.is(":animated")&&m===t&&v)?$:!!this._trigger(d,[90]),this.destroyed?this:(l!==z&&t&&this.focus(i),!l||r?this:(n.attr(a[0],"aria-hidden",!t),t?(this.mouse&&(o.origin=n.event.fix(this.mouse)),n.isFunction(p.text)&&this._updateContent(p.text,z),n.isFunction(p.title)&&this._updateTitle(p.title,z),!M&&"mouse"===h.target&&h.adjust.mouse&&(n(e).bind("mousemove."+q,this._storeMouse),M=E),f||a.css("width",a.outerWidth(z)),this.reposition(i,arguments[2]),f||a.css("width",""),u.solo&&("string"==typeof u.solo?n(u.solo):n(X,u.solo)).not(a).not(u.target).qtip("hide",new n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,M&&!n(X+'[tracking="true"]:visible',u.solo).not(a).length&&(n(e).unbind("mousemove."+q),M=z),this.blur(i)),c=n.proxy(function(){t?(it.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof u.autofocus&&n(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),u.effect===z||g===z?(a[d](),c()):n.isFunction(u.effect)?(a.stop(1,1),u.effect.call(a,this),a.queue("fx",function(t){c(),t()})):a.fadeTo(90,t?1:0,c),t&&u.target.trigger("qtip-"+this.id+"-inactive"),this))},k.show=function(t){return this.toggle(E,t)},k.hide=function(t){return this.toggle(z,t)},k.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=n(X),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),s=C.zindex+e.length;return i.hasClass(V)||this._trigger("focus",[s],t)&&(o!==s&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+V).qtip("blur",t)),i.addClass(V)[0].style.zIndex=s),this},k.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(V),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},k.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(J):this.disabled):"boolean"!=typeof t&&(t=E),this.rendered&&this.tooltip.toggleClass(J,t).attr("aria-disabled",t),this.disabled=!!t,this)},k.enable=function(){return this.disable(z)},k._createButton=function(){var t=this,e=this.elements,i=e.tooltip,o=this.options.content.button,s="string"==typeof o?o:"Close tooltip";e.button&&e.button.remove(),o.jquery?e.button=o:e.button=n("<a />",{class:"qtip-close "+(this.options.style.widget?"":q+"-icon"),title:s,"aria-label":s}).prepend(n("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(J)||t.hide(e),z})},k._updateButton=function(t){if(!this.rendered)return z;var e=this.elements.button;t?this._createButton():e.remove()},k._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,n=i.hasClass(J);i.removeClass(J),J=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(J,n),i.toggleClass("ui-helper-reset "+d(),t).toggleClass(K,this.options.style.def&&!t),e.content&&e.content.toggleClass(d("content"),t),e.titlebar&&e.titlebar.toggleClass(d("header"),t),e.button&&e.button.toggleClass(q+"-icon",!t)},k._storeMouse=function(t){return(this.mouse=n.event.fix(t)).type="mousemove",this},k._bind=function(t,e,i,o,s){if(t&&i&&e.length){var a="."+this._id+(o?"-"+o:"");return n(t).bind((e.split?e:e.join(a+" "))+a,n.proxy(i,s||this)),this}},k._unbind=function(t,e){return t&&n(t).unbind("."+this._id+(e?"-"+e:"")),this},k._trigger=function(t,e,i){var o=new n.Event("tooltip"+t);return o.originalEvent=i&&n.extend({},i)||this.cache.event||$,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=z,!o.isDefaultPrevented()},k._bindEvents=function(t,e,i,o,s,a){var r=i.filter(o).add(o.filter(i)),l=[];r.length&&(n.each(e,function(e,i){var o=n.inArray(i,t);o>-1&&l.push(t.splice(o,1)[0])}),l.length&&(this._bind(r,l,function(t){(!!this.rendered&&this.tooltip[0].offsetWidth>0?a:s).call(this,t)}),i=i.not(r),o=o.not(r))),this._bind(i,t,s),this._bind(o,e,a)},k._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?z:(this.cache.event=t&&n.event.fix(t),this.cache.target=t&&n(t.target),clearTimeout(this.timers.show),void(this.timers.show=u.call(this,function(){this.render("object"==typeof t||i.show.ready)},i.prerender?0:i.show.delay)))}var i=this.options,o=i.show.target,s=i.hide.target,a=i.show.event?n.trim(""+i.show.event).split(" "):[],r=i.hide.event?n.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&r.push("mouseleave"),this._bind(o,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=E}),this._bindEvents(a,r,o,s,e,function(){return this.timers?void clearTimeout(this.timers.show):z}),(i.show.ready||i.prerender)&&e.call(this,t)},k._assignEvents=function(){var i=this,o=this.options,s=o.position,a=this.tooltip,r=o.show.target,l=o.hide.target,c=s.container,d=s.viewport,u=n(e),g=n(t),v=o.show.event?n.trim(""+o.show.event).split(" "):[],b=o.hide.event?n.trim(""+o.hide.event).split(" "):[];n.each(o.events,function(t,e){i._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(u,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),o.hide.fixed?l=l.add(a.addClass(G)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=n(t.target),i=this.rendered&&!this.tooltip.hasClass(J)&&this.tooltip[0].offsetWidth>0,o=e.parents(X).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof o.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(a),C.inactiveEvents,f)),this._bindEvents(v,b,r,l,h,p),this._bind(r.add(a),"mousemove",function(t){if("number"==typeof o.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=i||n(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===s.target&&s.adjust.mouse&&(o.hide.event&&this._bind(r,["mouseenter","mouseleave"],function(t){return this.cache?void(this.cache.onTarget="mouseenter"===t.type):z}),this._bind(u,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(J)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(s.adjust.resize||d.length)&&this._bind(n.event.special.resize?d:g,"resize",m),s.adjust.scroll&&this._bind(g.add(s.container),"scroll",m)},k._unassignEvents=function(){var i=this.options,o=i.show.target,s=i.hide.target,a=n.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],t,e],function(t){return"object"==typeof t});o&&o.toArray&&(a=a.concat(o.toArray())),s&&s.toArray&&(a=a.concat(s.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},n(function(){g(X,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=n(t.currentTarget),o=n(t.relatedTarget||t.target),s=this.options;e?(this.focus(t),i.hasClass(G)&&!i.hasClass(J)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!o.closest(s.show.target[0]).length&&this.hide(t),i.toggleClass(Z,e)}),g("["+U+"]",Q,f)}),C=n.fn.qtip=function(t,e,o){var s=(""+t).toLowerCase(),a=$,l=n.makeArray(arguments).slice(1),c=l[l.length-1],d=this[0]?n.data(this[0],q):$;return!arguments.length&&d||"api"===s?d:"string"==typeof t?(this.each(function(){var t=n.data(this,q);if(!t)return E;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==s&&"options"!==s)t[s]&&t[s].apply(t,l);else{if(o===i&&!n.isPlainObject(e))return a=t.get(e),z;t.set(e,o)}}),a!==$?a:this):"object"!=typeof t&&arguments.length?void 0:(d=r(n.extend(E,{},t)),this.each(function(t){var e,i;return i=!(i=n.isArray(d.id)?d.id[t]:d.id)||i===z||i.length<1||C.api[i]?C.nextid++:i,(e=v(n(this),i,d))===z?E:(C.api[i]=e,n.each(H,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(c))}))},n.qtip=o,C.api={},n.each({attr:function(t,e){if(this.length){var i=this[0],o="title",s=n.data(i,"qtip");if(t===o&&s&&s.options&&"object"==typeof s&&"object"==typeof s.options&&s.options.suppress)return arguments.length<2?n.attr(i,et):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",e),this.attr(et,e))}return n.fn["attr"+tt].apply(this,arguments)},clone:function(t){var e=n.fn["clone"+tt].apply(this,arguments);return t||e.filter("["+et+"]").attr("title",function(){return n.attr(this,et)}).removeAttr(et),e}},function(t,e){if(!e||n.fn[t+tt])return E;var i=n.fn[t+tt]=n.fn[t];n.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+tt]=n.cleanData,n.cleanData=function(t){for(var e,i=0;(e=n(t[i])).length;i++)if(e.attr(N))try{e.triggerHandler("removeqtip")}catch(t){}n["cleanData"+tt].apply(this,arguments)}),C.version="3.0.3",C.nextid=0,C.inactiveEvents=Q,C.zindex=15e3,C.defaults={prerender:z,id:z,overwrite:E,suppress:E,content:{text:E,attr:"title",title:z,button:z},position:{my:"top left",at:"bottom right",target:z,container:z,viewport:z,adjust:{x:0,y:0,mouse:E,scroll:E,resize:E,method:"flipinvert flipinvert"},effect:function(t,e){n(this).animate(e,{duration:200,queue:z})}},show:{target:z,event:"mouseenter",effect:E,delay:90,solo:z,ready:z,autofocus:z},hide:{target:z,event:"mouseleave",effect:E,delay:0,fixed:z,inactive:z,leave:"window",distance:z},style:{classes:"",widget:z,width:z,height:z,def:E},events:{render:$,move:$,show:$,hide:$,toggle:$,visible:$,hidden:$,focus:$,blur:$}};var at,rt,lt,ct,dt,ut="margin",ht="border",pt="color",ft="background-color",mt="transparent",gt=" !important",vt=!!e.createElement("canvas").getContext,bt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,yt={},xt=["Webkit","O","Moz","ms"];vt?(ct=t.devicePixelRatio||1,dt=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),lt=ct/dt):rt=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},n.extend(x.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=n("<div />",{class:q+"-tip"}).prependTo(t.tooltip),vt?((e=n("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",e.miterLimit=1e5,e.save()):(e=rt("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(n("*",i).add(i),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===B||t.y===O&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(E))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===z||e===z?t=z:t===E?t=new S(e.string()):t.string||((t=new S(t)).fixed=E),t},_parseWidth:function(t,e,i){var n=this.qtip.elements,o=ht+b(e)+"Width";return(i?y(i,o):y(n.content,o)||y(this._useTitle(t)&&n.titlebar||n.content,o)||y(n.tooltip,o))||0},_parseRadius:function(t){var e=this.qtip.elements,i=ht+b(t.y)+b(t.x)+"Radius";return it.ie<9?0:y(this._useTitle(t)&&e.titlebar||e.content,i)||y(e.tooltip,i)||0},_invalidColour:function(t,e,i){var n=t.css(e);return!n||i&&n===t.css(i)||bt.test(n)?z:n},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),o=ht+b(t[t.precedance])+b(pt),s=this._useTitle(t)&&e.titlebar||e.content,a=this._invalidColour,r=[];return r[0]=a(i,ft)||a(s,ft)||a(e.content,ft)||a(e.tooltip,ft)||i.css(ft),r[1]=a(i,o,pt)||a(s,o,pt)||a(e.content,o,pt)||a(e.tooltip,o,pt)||e.tooltip.css(o),n("*",i).add(i).css("cssText",ft+":"+mt+gt+";"+ht+":0"+gt+";"),r},_calculateSize:function(t){var e,i,n=t.precedance===D,o=this.options.width,s=this.options.height,a="c"===t.abbrev(),r=(n?o:s)*(a?.5:1),l=Math.pow,c=Math.round,d=Math.sqrt(l(r,2)+l(s,2)),u=[this.border/r*d,this.border/s*d];return u[2]=Math.sqrt(l(u[0],2)-l(this.border,2)),u[3]=Math.sqrt(l(u[1],2)-l(this.border,2)),i=[c((e=(d+u[2]+u[3]+(a?0:u[0]))/d)*o),c(e*s)],n?i:i.reverse()},_calculateTip:function(t,e,i){i=i||1;var n=(e=e||this.size)[0]*i,o=e[1]*i,s=Math.ceil(n/2),a=Math.ceil(o/2),r={br:[0,0,n,o,n,0],bl:[0,0,n,0,0,o],tr:[0,o,n,0,n,o],tl:[0,0,0,o,n,o],tc:[0,o,s,0,n,o],bc:[0,0,n,0,s,o],rc:[0,0,n,a,0,o],lc:[n,0,n,o,0,a]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(vt||it.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var o,s,a,r,l,c,d,u,h=this.qtip.elements,p=this.element,f=p.children(),m=this.options,g=this.size,v=m.mimic,b=Math.round;e||(e=this.qtip.cache.corner||this.corner),v===z?v=e:((v=new S(v)).precedance=e.precedance,"inherit"===v.x?v.x=e.x:"inherit"===v.y?v.y=e.y:v.x===v.y&&(v[e.precedance]=e[e.precedance])),s=v.precedance,e.precedance===j?this._swapDimensions():this._resetDimensions(),(o=this.color=this._parseColours(e))[1]!==mt?(u=this.border=this._parseWidth(e,e[e.precedance]),m.border&&1>u&&!bt.test(o[1])&&(o[0]=o[1]),this.border=u=m.border!==E?m.border:u):this.border=u=0,d=this.size=this._calculateSize(e),p.css({width:d[0],height:d[1],lineHeight:d[1]+"px"}),c=e.precedance===D?[b(v.x===A?u:v.x===P?d[0]-g[0]-u:(d[0]-g[0])/2),b(v.y===B?d[1]-g[1]:0)]:[b(v.x===A?d[0]-g[0]:0),b(v.y===B?u:v.y===L?d[1]-g[1]-u:(d[1]-g[1])/2)],vt?((a=f[0].getContext("2d")).restore(),a.save(),a.clearRect(0,0,6e3,6e3),r=this._calculateTip(v,g,lt),l=this._calculateTip(v,this.size,lt),f.attr(I,d[0]*lt).attr(F,d[1]*lt),f.css(I,d[0]).css(F,d[1]),this._drawCoords(a,l),a.fillStyle=o[1],a.fill(),a.translate(c[0]*lt,c[1]*lt),this._drawCoords(a,r),a.fillStyle=o[0],a.fill()):(r="m"+(r=this._calculateTip(v))[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",c[2]=u&&/^(r|b)/i.test(e.string())?8===it.ie?2:1:0,f.css({coordsize:d[0]+u+" "+d[1]+u,antialias:""+(v.string().indexOf(O)>-1),left:c[0]-c[2]*Number(s===j),top:c[1]-c[2]*Number(s===D),width:d[0]+u,height:d[1]+u}).each(function(t){var e=n(this);e[e.prop?"prop":"attr"]({coordsize:d[0]+u+" "+d[1]+u,path:r,fillcolor:o[0],filled:!!t,stroked:!t}).toggle(!(!u&&!t)),!t&&e.html(rt("stroke",'weight="'+2*u+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){h.tip.css({display:"inline-block",visibility:"visible"})},1),i!==z&&this.calculate(e,d)},calculate:function(t,e){if(!this.enabled)return z;var i,o,s=this,a=this.qtip.elements,r=this.element,l=this.options.offset,c={};return t=t||this.corner,i=t.precedance,e=e||this._calculateSize(t),o=[t.x,t.y],i===j&&o.reverse(),n.each(o,function(n,o){var r,d,u;o===O?(c[r=i===D?A:B]="50%",c[ut+"-"+r]=-Math.round(e[i===D?0:1]/2)+l):(r=s._parseWidth(t,o,a.tooltip),d=s._parseWidth(t,o,a.content),u=s._parseRadius(t),c[o]=Math.max(-s.border,n?d:l+(u>r?u:-r)))}),c[t[i]]-=e[i===j?0:1],r.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(t,e,n){function o(t,e,i,n,o){t===R&&c.precedance===e&&d[n]&&c[i]!==O?c.precedance=c.precedance===j?D:j:t!==R&&d[n]&&(c[e]=c[e]===O?d[n]>0?n:o:c[e]===n?o:n)}function s(t,e,o){c[t]===O?m[ut+"-"+e]=f[t]=a[ut+"-"+e]-d[e]:(r=a[o]!==i?[d[e],-a[e]]:[-d[e],a[e]],(f[t]=Math.max(r[0],r[1]))>r[0]&&(n[e]-=d[e],f[e]=z),m[a[o]!==i?o:e]=f[t])}if(this.enabled){var a,r,l=e.cache,c=this.corner.clone(),d=n.adjusted,u=e.options.position.adjust.method.split(" "),h=u[0],p=u[1]||u[0],f={left:z,top:z,x:0,y:0},m={};this.corner.fixed!==E&&(o(h,j,D,A,P),o(p,D,j,B,L),c.string()===l.corner.string()&&l.cornerTop===d.top&&l.cornerLeft===d.left||this.update(c,z)),(a=this.calculate(c)).right!==i&&(a.left=-a.right),a.bottom!==i&&(a.top=-a.bottom),a.user=this.offset,f.left=h===R&&!!d.left,f.left&&s(j,A,P),f.top=p===R&&!!d.top,f.top&&s(D,B,L),this.element.css(m).toggle(!(f.x&&f.y||c.x===O&&f.y||c.y===O&&f.x)),n.left-=a.left.charAt?a.user:h!==R||f.top||!f.left&&!f.top?a.left+this.border:0,n.top-=a.top.charAt?a.user:p!==R||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=d.left,l.cornerTop=d.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(at=H.tip=function(t){return new x(t,t.options.style.tip)}).initialize="render",at.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=E)}},T.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend(E,C.defaults,{style:{tip:{corner:E,mimic:z,width:6,height:6,border:E,offset:0}}});var wt,_t,Ct="qtip-modal",kt="."+Ct;_t=new(_t=function(){function t(t){l.length<1&&t.length?t.not("body").blur():l.first().focus()}function i(e){if(a.is(":visible")){var i=n(e.target),s=o.tooltip,r=i.closest(X);(r.length<1?z:parseInt(r[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10))||i.closest(X)[0]===s[0]||t(i)}}var o,s,a,r=this,l={};n.extend(r,{init:function(){return a=r.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return z}}).hide(),n(e.body).bind("focusin"+kt,i),n(e).bind("keydown"+kt,function(t){o&&o.options.show.modal.escape&&27===t.keyCode&&o.hide(t)}),a.bind("click"+kt,function(t){o&&o.options.show.modal.blur&&o.hide(t)}),r},update:function(t){o=t,l=t.options.show.modal.stealfocus!==z?t.tooltip.find("*").filter(function(){return function(t){if(n.expr[":"].focusable)return n.expr[":"].focusable;var e,i,o,s=!isNaN(n.attr(t,"tabindex")),a=t.nodeName&&t.nodeName.toLowerCase();return"area"===a?(i=(e=t.parentNode).name,!(!t.href||!i||"map"!==e.nodeName.toLowerCase())&&!!(o=n("img[usemap=#"+i+"]")[0])&&o.is(":visible")):/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||s}(this)}):[]},toggle:function(i,l,c){var d=i.tooltip,u=i.options.show.modal,h=u.effect,p=l?"show":"hide",f=a.is(":visible"),m=n(kt).filter(":visible:not(:animated)").not(d);return r.update(i),l&&u.stealfocus!==z&&t(n(":focus")),a.toggleClass("blurs",u.blur),l&&a.appendTo(e.body),a.is(":animated")&&f===l&&s!==z||!l&&m.length?r:(a.stop(E,z),n.isFunction(h)?h.call(a,l):h===z?a[p]():a.fadeTo(parseInt(c,10)||90,l?1:0,function(){l||a.hide()}),l||a.queue(function(t){a.css({left:"",top:""}),n(kt).length||a.detach(),t()}),s=l,o.destroyed&&(o=$),r)}}),r.init()}),n.extend(w.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=_t.elem,e.addClass(Ct).css("z-index",C.modal_zindex+n(kt).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,i,o){var s=t.originalEvent;if(t.target===e[0])if(s&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(s.type)&&n(s.relatedTarget).closest(_t.elem[0]).length)try{t.preventDefault()}catch(t){}else(!s||s&&"tooltipsolo"!==s.type)&&this.toggle(t,"tooltipshow"===t.type,o)},this._ns,this),t._bind(e,"tooltipfocus",function(t,i){if(!t.isDefaultPrevented()&&t.target===e[0]){var o=n(kt),s=C.modal_zindex+o.length,a=parseInt(e[0].style.zIndex,10);_t.elem[0].style.zIndex=s-1,o.each(function(){this.style.zIndex>a&&(this.style.zIndex-=1)}),o.filter("."+V).qtip("blur",t.originalEvent),e.addClass(V)[0].style.zIndex=s,_t.update(i);try{t.preventDefault()}catch(t){}}},this._ns,this),void t._bind(e,"tooltiphide",function(t){t.target===e[0]&&n(kt).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this)):this},toggle:function(t,e,i){return t&&t.isDefaultPrevented()?this:void _t.toggle(this.qtip,!!e,i)},destroy:function(){this.qtip.tooltip.removeClass(Ct),this.qtip._unbind(this.qtip.tooltip,this._ns),_t.toggle(this.qtip,z),delete this.qtip.elements.overlay}}),(wt=H.modal=function(t){return new w(t,t.options.show.modal)}).sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:void 0===t.show.modal.on&&(t.show.modal.on=E))},C.modal_zindex=C.zindex-200,wt.initialize="render",T.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},n.extend(E,C.defaults,{show:{modal:{on:z,effect:E,blur:E,stealfocus:E,escape:E}}}),H.viewport=function(i,n,o,s,a,r,l){function c(t,e,i,o,s,a,r,l,c){var d=n[s],b=x[t],y=w[t],_=i===R,C=b===s?c:b===a?-c:-c/2,k=y===s?l:y===a?-l:-l/2,S=g[s]+v[s]-(p?0:h[s]),T=S-d,M=d+c-(r===I?f:m)-S,E=C-(x.precedance===t||b===x[e]?k:0)-(y===O?l/2:0);return _?(E=(b===s?1:-1)*C,n[s]+=T>0?T:M>0?-M:0,n[s]=Math.max(-h[s]+v[s],d-E,Math.min(Math.max(-h[s]+v[s]+(r===I?f:m),d+E),n[s],"center"===b?d-C:1e9))):(o*=i===W?2:0,T>0&&(b!==s||M>0)?(n[s]-=E+o,u.invert(t,s)):M>0&&(b!==a||T>0)&&(n[s]-=(b===O?-E:E)+o,u.invert(t,a)),n[s]<g[s]&&-n[s]>M&&(n[s]=d,u=x.clone())),n[s]-d}var d,u,h,p,f,m,g,v,b=o.target,y=i.elements.tooltip,x=o.my,w=o.at,_=o.adjust,C=_.method.split(" "),k=C[0],S=C[1]||C[0],T=o.viewport,M=o.container,E={left:0,top:0};return T.jquery&&b[0]!==t&&b[0]!==e.body&&"none"!==_.method?(h=M.offset()||E,p="static"===M.css("position"),d="fixed"===y.css("position"),f=T[0]===t?T.width():T.outerWidth(z),m=T[0]===t?T.height():T.outerHeight(z),g={left:d?0:T.scrollLeft(),top:d?0:T.scrollTop()},v=T.offset()||E,"shift"===k&&"shift"===S||(u=x.clone()),E={left:"none"!==k?c(j,D,k,_.x,A,P,I,s,r):0,top:"none"!==S?c(D,j,S,_.y,B,L,F,a,l):0,my:u}):E},H.polys={polygon:function(t,e){var i,n,o,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:z},a=0,r=[],l=1,c=1,d=0,u=0;for(a=t.length;a--;)(i=[parseInt(t[--a],10),parseInt(t[a+1],10)])[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),r.push(i);if(n=s.width=Math.abs(s.position.right-s.position.left),o=s.height=Math.abs(s.position.bottom-s.position.top),"c"===e.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;n>0&&o>0&&l>0&&c>0;)for(n=Math.floor(n/2),o=Math.floor(o/2),e.x===A?l=n:e.x===P?l=s.width-n:l+=Math.floor(n/2),e.y===B?c=o:e.y===L?c=s.height-o:c+=Math.floor(o/2),a=r.length;a--&&!(r.length<2);)d=r[a][0]-s.position.left,u=r[a][1]-s.position.top,(e.x===A&&d>=l||e.x===P&&l>=d||e.x===O&&(l>d||d>s.width-l)||e.y===B&&u>=c||e.y===L&&c>=u||e.y===O&&(c>u||u>s.height-c))&&r.splice(a,1);s.position={left:r[0][0],top:r[0][1]}}return s},rect:function(t,e,i,n){return{width:Math.abs(i-t),height:Math.abs(n-e),position:{left:Math.min(t,i),top:Math.min(e,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,n,o){var s=H.polys._angles[o.abbrev()],a=0===s?0:i*Math.cos(s*Math.PI),r=n*Math.sin(s*Math.PI);return{width:2*i-Math.abs(a),height:2*n-Math.abs(r),position:{left:t+a,top:e+r},adjustable:z}},circle:function(t,e,i,n){return H.polys.ellipse(t,e,i,i,n)}},H.svg=function(t,i,o){for(var s,a,r,l,c,d,u,h,p,f=i[0],m=n(f.ownerSVGElement),g=f.ownerDocument,v=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return z;switch(f.nodeName){case"ellipse":case"circle":h=H.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+v,(f.ry||f.r).baseVal.value+v,o);break;case"line":case"polygon":case"polyline":for(h=[],d=-1,l=(u=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}]).numberOfItems||u.length;++d<l;)c=u.getItem?u.getItem(d):u[d],h.push.apply(h,[c.x,c.y]);h=H.polys.polygon(h,o);break;default:h={width:(h=f.getBBox()).width,height:h.height,position:{left:h.x,top:h.y}}}return p=h.position,(m=m[0]).createSVGPoint&&(a=f.getScreenCTM(),(u=m.createSVGPoint()).x=p.left,u.y=p.top,r=u.matrixTransform(a),p.left=r.x,p.top=r.y),g!==e&&"mouse"!==t.position.target&&((s=n((g.defaultView||g.parentWindow).frameElement).offset())&&(p.left+=s.left,p.top+=s.top)),g=n(g),p.left+=g.scrollLeft(),p.top+=g.scrollTop(),h},H.imagemap=function(t,e,i){e.jquery||(e=n(e));var o,s,a,r,l,c=(e.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),d=n('img[usemap="#'+e.parent("map").attr("name")+'"]'),u=n.trim(e.attr("coords")).replace(/,$/,"").split(",");if(!d.length)return z;if("polygon"===c)r=H.polys.polygon(u,i);else{if(!H.polys[c])return z;for(a=-1,l=u.length,s=[];++a<l;)s.push(parseInt(u[a],10));r=H.polys[c].apply(this,s.concat(i))}return(o=d.offset()).left+=Math.ceil((d.outerWidth(z)-d.width())/2),o.top+=Math.ceil((d.outerHeight(z)-d.height())/2),r.position.left+=o.left,r.position.top+=o.top,r};n.extend(_.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=n(t).scrollTop()+"px")},init:function(i){var o=i.tooltip;n("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=n('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:q+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,n={height:i.outerHeight(z),width:i.outerWidth(z)},o=this.qtip.plugins.tip,s=this.qtip.elements.tip;e={left:-(e=parseInt(i.css("borderLeftWidth"),10)||0),top:-e},o&&s&&(e[(t="x"===o.corner.precedance?[I,A]:[F,B])[1]]-=s[t[0]]()),this.bgiframe.css(e).css(n)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,i,n,o=this.qtip.tooltip,s=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&o.css(F,s.height),s.width?o.css(I,s.width):(o.css(I,"").appendTo(this.redrawContainer),1>(e=o.width())%2&&(e+=1),t=((i=o.css("maxWidth")||"")+(n=o.css("minWidth")||"")).indexOf("%")>-1?a.width()/100:0,e=(i=(i.indexOf("%")>-1?t:1*parseInt(i,10))||e)+(n=(n.indexOf("%")>-1?t:1*parseInt(n,10))||0)?Math.min(Math.max(e,n),i):e,o.css(I,Math.round(e)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),(H.ie6=function(t){return 6===it.ie?new _(t):z}).initialize="render",T.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),window.Modernizr=function(t,e,i){function n(t,e){return typeof t===e}var o,s,a={},r=e.documentElement,l=e.createElement("modernizr"),c=l.style,d=" -webkit- -moz- -o- -ms- ".split(" "),u="http://www.w3.org/2000/svg",h={},p=[],f=p.slice,m={}.hasOwnProperty;for(var g in s=n(m,"undefined")||n(m.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return m.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=f.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,a=e.apply(s,i.concat(f.call(arguments)));return Object(a)===a?a:s}return e.apply(t,i.concat(f.call(arguments)))};return n}),h.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==u},h)s(h,g)&&(o=g.toLowerCase(),a[o]=h[g](),p.push((a[o]?"":"no-")+o));return a.addTest=function(t,e){if("object"==typeof t)for(var i in t)s(t,i)&&a.addTest(i,t[i]);else{if(t=t.toLowerCase(),void 0!==a[t])return a;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(r.className+=" "+(e?"":"no-")+t),a[t]=e}return a},function(t){c.cssText=t}(""),l=null,a._version="2.8.3",a._prefixes=d,a}(0,this.document),!window.Modernizr._prefixes)throw Error("jquery-gray: Modernizr._prefixes not set!\n\nPlease add the necessary feature detects:\nhttps://github.com/karlhorky/gray#modernizr");Modernizr.addTest("cssfilters",function(){var t=document.createElement("div");return t.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!t.style.length&&(void 0===document.documentMode||document.documentMode>9)}),Modernizr.addTest("svgfilters",function(){var t=!1;try{t=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(t){}return t}),function(t,e){function i(e,i){var a;a=((i=i||{}).classes||{}).fade||o.classes.fade,i.fade=i.fade||e.className.indexOf(a)>-1,this.element=e,this.elementId=s++,this.settings=t.extend({},o,i),this._defaults=o,this._name=n,this.init()}var n="gray",o={fade:!1,classes:{fade:"grayscale-fade"}},s=0;t.extend(i.prototype,{init:function(){var e;!Modernizr.cssfilters&&Modernizr.inlinesvg&&Modernizr.svgfilters&&(e=t(this.element),(this.cssFilterDeprecated(e)||this.settings.fade)&&this.switchImage(e))},cssFilterDeprecated:function(t){return"none"===t.css("filter")},elementType:function(t){return"IMG"===t.prop("tagName")?"Img":"Bg"},pxToNumber:function(t){return parseInt(t.replace("px",""))},getComputedStyle:function(t){for(var i={},n={},o=0,s=(i=e.getComputedStyle(t,null)).length;s>o;o++){var a=i[o],r=i.getPropertyValue(a);n[a]=r}return n},extractUrl:function(t){return startRegex=/^url\(["']?/,endRegex=/["']?\)$/,t.replace(startRegex,"").replace(endRegex,"")},positionToNegativeMargin:function(t){var e;return e=t.match(/^(-?\d+\S+)/)[0],"margin:"+t.match(/\s(-?\d+\S+)$/)[0]+" 0 0 "+e},getBgSize:function(e,i){var n,o,s,a,r,l;if((n=new Image).src=e,"auto"!==i&&"cover"!==i&&"contain"!==i&&"inherit"!==i){var c=t(this.element);o=n.width/n.height,a=parseInt((i.match(/^(\d+)px/)||[0,0])[1]),l=parseInt((i.match(/\s(\d+)px$/)||[0,0])[1]),s=c.height()*o,r=c.width()/o,a=a||s,l=l||r}return a||l?{width:a,height:l}:{width:n.width,height:n.height}},getImgParams:function(t){var e={};e.styles=this.getComputedStyle(t[0]);var i={top:this.pxToNumber(e.styles["padding-top"]),right:this.pxToNumber(e.styles["padding-right"]),bottom:this.pxToNumber(e.styles["padding-bottom"]),left:this.pxToNumber(e.styles["padding-left"])},n={top:this.pxToNumber(e.styles["border-top-width"]),right:this.pxToNumber(e.styles["border-right-width"]),bottom:this.pxToNumber(e.styles["border-bottom-width"]),left:this.pxToNumber(e.styles["border-left-width"])};return e.image={width:this.pxToNumber(e.styles.width),height:this.pxToNumber(e.styles.height)},e.svg={url:t[0].src,padding:i,borderWidth:n,width:e.image.width+i.left+i.right+n.left+n.right,height:e.image.height+i.top+i.bottom+n.top+n.bottom,offset:""},e},getBgParams:function(e){var i,n={};return i=this.extractUrl(e.css("background-image")),bgSize=this.getBgSize(i,e.css("background-size")),offset=this.positionToNegativeMargin(e.css("background-position")),n.styles=this.getComputedStyle(e[0]),n.svg=t.extend({url:i},bgSize,{offset:offset}),n.image={width:n.svg.width,height:n.svg.height},n},setStyles:function(t,e,i,n){return e.display="inline-block",e.overflow=e["overflow-x"]=e["overflow-y"]="hidden",e["background-image"]='url("'+i.url+'")',e["background-size"]=n.width+"px "+n.height+"px","Img"===t&&(e["background-repeat"]="no-repeat",e["background-position"]=i.padding.left+"px "+i.padding.top+"px",e.width=i.width,e.height=i.height),delete e.filter,e},addSVGFilterOnce:function(){$body=t("body"),$body.data("plugin_"+n+"_has_filter")||$body.data("plugin_"+n+"_has_filter","true").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute"><defs><filter id="gray"><feColorMatrix type="saturate" values="0"/></filter></defs></svg>')},switchImage:function(e){var i,n,o,s,a,r;n=this["get"+(i=this.elementType(e))+"Params"](e),o=this.settings.fade?this.settings.classes.fade:"",s=e[0].alt?' aria-labelledby="gray-title-'+this.elementId+'"':"",a=e[0].alt?'<title id="gray-title-'+this.elementId+'">'+e[0].alt+"</title>":"",r=t('<div class="grayscale grayscale-replaced '+o+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+n.svg.width+" "+n.svg.height+'" width="'+n.svg.width+'" height="'+n.svg.height+'" style="'+n.svg.offset+'" role="img"'+s+">"+a+'<image filter="url(&quot;#gray&quot;)" x="0" y="0" width="'+n.image.width+'" height="'+n.image.height+'" preserveAspectRatio="none" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+n.svg.url+'" /></svg></div>'),n.styles=this.setStyles(i,n.styles,n.svg,n.image),r.css(n.styles),this.addSVGFilterOnce(),e.replaceWith(r)}}),t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new i(this,e))}),this},t(e).on("load",function(){t(".grayscale:not(.grayscale-replaced)")[n]()})}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){var e;t.support.htmlMenuitem="HTMLMenuItemElement"in window,t.support.htmlCommand="HTMLCommandElement"in window,t.support.eventSelectstart="onselectstart"in document.documentElement,t.ui&&t.widget||(t.cleanData=(e=t.cleanData,function(i){var n,o,s;for(s=0;null!=i[s];s++){o=i[s];try{(n=t._data(o,"events"))&&n.remove&&t(o).triggerHandler("remove")}catch(i){}}e(i)}));var i=null,n=!1,o=t(window),s=0,a={},r={},l={},c={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(e){if(t.ui&&t.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var i=this.offset();i.top+=this.outerHeight(),i.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(i)}},position:function(t,e,i){var n;if(e||i){if("maintain"===e&&"maintain"===i)n=t.$menu.position();else{var s=t.$menu.offsetParent().offset();n={top:i-s.top,left:e-s.left}}var a=o.scrollTop()+o.height(),r=o.scrollLeft()+o.width(),l=t.$menu.outerHeight(),c=t.$menu.outerWidth();n.top+l>a&&(n.top-=l),n.top<0&&(n.top=0),n.left+c>r&&(n.left-=c),n.left<0&&(n.left=0),t.$menu.css(n)}else t.determinePosition.call(this,t.$menu)},positionSubmenu:function(e){if(void 0!==e)if(t.ui&&t.ui.position)e.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var i={top:-9,left:this.outerWidth()-5};e.css(i)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:t.noop,hide:t.noop,activated:t.noop},callback:null,items:{}},d={timer:null,pageX:null,pageY:null},u={abortevent:function(t){t.preventDefault(),t.stopImmediatePropagation()},contextmenu:function(e){var n=t(this);if("right"===e.data.trigger&&(e.preventDefault(),e.stopImmediatePropagation()),!("right"!==e.data.trigger&&"demand"!==e.data.trigger&&e.originalEvent||!(void 0===e.mouseButton||!e.data||"left"===e.data.trigger&&0===e.mouseButton||"right"===e.data.trigger&&2===e.mouseButton)||n.hasClass("context-menu-active")||n.hasClass("context-menu-disabled"))){if(i=n,e.data.build){var o=e.data.build(i,e);if(!1===o)return;if(e.data=t.extend(!0,{},c,e.data,o||{}),!e.data.items||t.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");e.data.$trigger=i,h.create(e.data)}h.show.call(n,e.data,e.pageX,e.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),t(this).trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(e){var n=t(this);i&&i.length&&!i.is(n)&&i.data("contextMenu").$menu.trigger("contextmenu:hide"),2===e.button&&(i=n.data("contextMenuActive",!0))},mouseup:function(e){var n=t(this);n.data("contextMenuActive")&&i&&i.length&&i.is(n)&&!n.hasClass("context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),(i=n).trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))),n.removeData("contextMenuActive")},mouseenter:function(e){var n=t(this),o=t(e.relatedTarget),s=t(document);o.is(".context-menu-list")||o.closest(".context-menu-list").length||i&&i.length||(d.pageX=e.pageX,d.pageY=e.pageY,d.data=e.data,s.on("mousemove.contextMenuShow",u.mousemove),d.timer=setTimeout(function(){d.timer=null,s.off("mousemove.contextMenuShow"),(i=n).trigger(t.Event("contextmenu",{data:d.data,pageX:d.pageX,pageY:d.pageY}))},e.data.delay))},mousemove:function(t){d.pageX=t.pageX,d.pageY=t.pageY},mouseleave:function(e){var i=t(e.relatedTarget);if(!i.is(".context-menu-list")&&!i.closest(".context-menu-list").length){try{clearTimeout(d.timer)}catch(e){}d.timer=null}},layerClick:function(e){var i,n,s=t(this).data("contextMenuRoot"),a=e.button,r=e.pageX,l=e.pageY,c=void 0===r;e.preventDefault(),setTimeout(function(){if(c)null!=s&&null!==s.$menu&&void 0!==s.$menu&&s.$menu.trigger("contextmenu:hide");else{var d,u="left"===s.trigger&&0===a||"right"===s.trigger&&2===a;if(document.elementFromPoint&&s.$layer){if(s.$layer.hide(),(i=document.elementFromPoint(r-o.scrollLeft(),l-o.scrollTop())).isContentEditable){var h=document.createRange(),p=window.getSelection();h.selectNode(i),h.collapse(!0),p.removeAllRanges(),p.addRange(h)}t(i).trigger(e),s.$layer.show()}if(s.hideOnSecondTrigger&&u&&null!==s.$menu&&void 0!==s.$menu)s.$menu.trigger("contextmenu:hide");else{if(s.reposition&&u)if(document.elementFromPoint){if(s.$trigger.is(i))return void s.position.call(s.$trigger,s,r,l)}else if(n=s.$trigger.offset(),d=t(window),n.top+=d.scrollTop(),n.top<=e.pageY&&(n.left+=d.scrollLeft(),n.left<=e.pageX&&(n.bottom=n.top+s.$trigger.outerHeight(),n.bottom>=e.pageY&&(n.right=n.left+s.$trigger.outerWidth(),n.right>=e.pageX))))return void s.position.call(s.$trigger,s,r,l);i&&u&&s.$trigger.one("contextmenu:hidden",function(){t(i).contextMenu({x:r,y:l,button:a})}),null!=s&&null!==s.$menu&&void 0!==s.$menu&&s.$menu.trigger("contextmenu:hide")}}},50)},keyStop:function(t,e){e.isInput||t.preventDefault(),t.stopPropagation()},key:function(t){var e={};i&&(e=i.data("contextMenu")||{}),void 0===e.zIndex&&(e.zIndex=0);var n=0,o=function(t){""!==t.style.zIndex?n=t.style.zIndex:null!==t.offsetParent&&void 0!==t.offsetParent?o(t.offsetParent):null!==t.parentElement&&void 0!==t.parentElement&&o(t.parentElement)};if(o(t.target),!(e.$menu&&parseInt(n,10)>parseInt(e.$menu.css("zIndex"),10))){switch(t.keyCode){case 9:case 38:if(u.keyStop(t,e),e.isInput){if(9===t.keyCode&&t.shiftKey)return t.preventDefault(),e.$selected&&e.$selected.find("input, textarea, select").blur(),void(null!==e.$menu&&void 0!==e.$menu&&e.$menu.trigger("prevcommand"));if(38===t.keyCode&&"checkbox"===e.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault()}else if(9!==t.keyCode||t.shiftKey)return void(null!==e.$menu&&void 0!==e.$menu&&e.$menu.trigger("prevcommand"));break;case 40:if(u.keyStop(t,e),!e.isInput)return void(null!==e.$menu&&void 0!==e.$menu&&e.$menu.trigger("nextcommand"));if(9===t.keyCode)return t.preventDefault(),e.$selected&&e.$selected.find("input, textarea, select").blur(),void(null!==e.$menu&&void 0!==e.$menu&&e.$menu.trigger("nextcommand"));if(40===t.keyCode&&"checkbox"===e.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault();break;case 37:if(u.keyStop(t,e),e.isInput||!e.$selected||!e.$selected.length)break;if(!e.$selected.parent().hasClass("context-menu-root")){var s=e.$selected.parent().parent();return e.$selected.trigger("contextmenu:blur"),void(e.$selected=s)}break;case 39:if(u.keyStop(t,e),e.isInput||!e.$selected||!e.$selected.length)break;var a=e.$selected.data("contextMenu")||{};if(a.$menu&&e.$selected.hasClass("context-menu-submenu"))return e.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return e.$selected&&e.$selected.find("input, textarea, select").length?void 0:((e.$selected&&e.$selected.parent()||e.$menu).children(":not(."+e.classNames.disabled+", ."+e.classNames.notSelectable+")")[36===t.keyCode?"first":"last"]().trigger("contextmenu:focus"),void t.preventDefault());case 13:if(u.keyStop(t,e),e.isInput){if(e.$selected&&!e.$selected.is("textarea, select"))return void t.preventDefault();break}return void(void 0!==e.$selected&&null!==e.$selected&&e.$selected.trigger("mouseup"));case 32:case 33:case 34:return void u.keyStop(t,e);case 27:return u.keyStop(t,e),void(null!==e.$menu&&void 0!==e.$menu&&e.$menu.trigger("contextmenu:hide"));default:var r=String.fromCharCode(t.keyCode).toUpperCase();if(e.accesskeys&&e.accesskeys[r])return void e.accesskeys[r].$node.trigger(e.accesskeys[r].$menu?"contextmenu:focus":"mouseup")}t.stopPropagation(),void 0!==e.$selected&&null!==e.$selected&&e.$selected.trigger(t)}},prevItem:function(e){e.stopPropagation();var i=t(this).data("contextMenu")||{},n=t(this).data("contextMenuRoot")||{};if(i.$selected){var o=i.$selected;(i=i.$selected.parent().data("contextMenu")||{}).$selected=o}for(var s=i.$menu.children(),a=i.$selected&&i.$selected.prev().length?i.$selected.prev():s.last(),r=a;a.hasClass(n.classNames.disabled)||a.hasClass(n.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():s.last()).is(r))return;i.$selected&&u.itemMouseleave.call(i.$selected.get(0),e),u.itemMouseenter.call(a.get(0),e);var l=a.find("input, textarea, select");l.length&&l.focus()},nextItem:function(e){e.stopPropagation();var i=t(this).data("contextMenu")||{},n=t(this).data("contextMenuRoot")||{};if(i.$selected){var o=i.$selected;(i=i.$selected.parent().data("contextMenu")||{}).$selected=o}for(var s=i.$menu.children(),a=i.$selected&&i.$selected.next().length?i.$selected.next():s.first(),r=a;a.hasClass(n.classNames.disabled)||a.hasClass(n.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():s.first()).is(r))return;i.$selected&&u.itemMouseleave.call(i.$selected.get(0),e),u.itemMouseenter.call(a.get(0),e);var l=a.find("input, textarea, select");l.length&&l.focus()},focusInput:function(){var e=t(this).closest(".context-menu-item"),i=e.data(),n=i.contextMenu,o=i.contextMenuRoot;o.$selected=n.$selected=e,o.isInput=n.isInput=!0},blurInput:function(){var e=t(this).closest(".context-menu-item").data(),i=e.contextMenu;e.contextMenuRoot.isInput=i.isInput=!1},menuMouseenter:function(){t(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(e){var i=t(this).data().contextMenuRoot;i.$layer&&i.$layer.is(e.relatedTarget)&&(i.hovering=!1)},itemMouseenter:function(e){var i=t(this),n=i.data(),o=n.contextMenu,s=n.contextMenuRoot;s.hovering=!0,e&&s.$layer&&s.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(o.$menu?o:s).$menu.children("."+s.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),i.hasClass(s.classNames.disabled)||i.hasClass(s.classNames.notSelectable)?o.$selected=null:i.trigger("contextmenu:focus")},itemMouseleave:function(e){var i=t(this),n=i.data(),o=n.contextMenu,s=n.contextMenuRoot;if(s!==o&&s.$layer&&s.$layer.is(e.relatedTarget))return void 0!==s.$selected&&null!==s.$selected&&s.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(s.$selected=o.$selected=o.$node);o&&o.$menu&&o.$menu.hasClass("context-menu-visible")||i.trigger("contextmenu:blur")},itemClick:function(e){var i,n=t(this),o=n.data(),s=o.contextMenu,a=o.contextMenuRoot,r=o.contextMenuKey;if(!(!s.items[r]||n.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||n.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(e.preventDefault(),e.stopImmediatePropagation(),t.isFunction(s.callbacks[r])&&Object.prototype.hasOwnProperty.call(s.callbacks,r))i=s.callbacks[r];else{if(!t.isFunction(a.callback))return;i=a.callback}!1!==i.call(a.$trigger,r,a,e)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&h.update.call(a.$trigger,a)}},inputClick:function(t){t.stopImmediatePropagation()},hideMenu:function(e,i){var n=t(this).data("contextMenuRoot");h.hide.call(n.$trigger,n,i&&i.force)},focusItem:function(e){e.stopPropagation();var i=t(this),n=i.data(),o=n.contextMenu,s=n.contextMenuRoot;i.hasClass(s.classNames.disabled)||i.hasClass(s.classNames.notSelectable)||(i.addClass([s.classNames.hover,s.classNames.visible].join(" ")).parent().find(".context-menu-item").not(i).removeClass(s.classNames.visible).filter("."+s.classNames.hover).trigger("contextmenu:blur"),o.$selected=s.$selected=i,o&&o.$node&&o.$node.hasClass("context-menu-submenu")&&o.$node.addClass(s.classNames.hover),o.$node&&s.positionSubmenu.call(o.$node,o.$menu))},blurItem:function(e){e.stopPropagation();var i=t(this),n=i.data(),o=n.contextMenu,s=n.contextMenuRoot;o.autoHide&&i.removeClass(s.classNames.visible),i.removeClass(s.classNames.hover),o.$selected=null}},h={show:function(e,n,o){var s=t(this),a={};if(t("#context-menu-layer").trigger("mousedown"),e.$trigger=s,!1!==e.events.show.call(s,e))if(!1!==h.update.call(s,e)){if(e.position.call(s,e,n,o),e.zIndex){var r=e.zIndex;"function"==typeof e.zIndex&&(r=e.zIndex.call(s,e)),a.zIndex=function(t){for(var e=0,i=s;e=Math.max(e,parseInt(i.css("z-index"),10)||0),(i=i.parent())&&i.length&&!(-1<"html body".indexOf(i.prop("nodeName").toLowerCase())););return e}()+r}h.layer.call(e.$menu,e,a.zIndex),e.$menu.find("ul").css("zIndex",a.zIndex+1),e.$menu.css(a)[e.animation.show](e.animation.duration,function(){s.trigger("contextmenu:visible"),h.activated(e),e.events.activated(e)}),s.data("contextMenu",e).addClass("context-menu-active"),t(document).off("keydown.contextMenu").on("keydown.contextMenu",u.key),e.autoHide&&t(document).on("mousemove.contextMenuAutoHide",function(t){var i=s.offset();i.right=i.left+s.outerWidth(),i.bottom=i.top+s.outerHeight(),!e.$layer||e.hovering||t.pageX>=i.left&&t.pageX<=i.right&&t.pageY>=i.top&&t.pageY<=i.bottom||setTimeout(function(){e.hovering||null===e.$menu||void 0===e.$menu||e.$menu.trigger("contextmenu:hide")},50)})}else i=null;else i=null},hide:function(e,n){var o=t(this);if(e||(e=o.data("contextMenu")||{}),n||!e.events||!1!==e.events.hide.call(o,e)){if(o.removeData("contextMenu").removeClass("context-menu-active"),e.$layer){setTimeout((s=e.$layer,function(){s.remove()}),10);try{delete e.$layer}catch(n){e.$layer=null}}var s;i=null,e.$menu.find("."+e.classNames.hover).trigger("contextmenu:blur"),e.$selected=null,e.$menu.find("."+e.classNames.visible).removeClass(e.classNames.visible),t(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),e.$menu&&e.$menu[e.animation.hide](e.animation.duration,function(){e.build&&(e.$menu.remove(),t.each(e,function(t){switch(t){case"ns":case"selector":case"build":case"trigger":return!0;default:e[t]=void 0;try{delete e[t]}catch(t){}return!0}})),setTimeout(function(){o.trigger("contextmenu:hidden")},10)})}},create:function(e,i){function n(e){var i=t("<span></span>");if(e._accesskey)e._beforeAccesskey&&i.append(document.createTextNode(e._beforeAccesskey)),t("<span></span>").addClass("context-menu-accesskey").text(e._accesskey).appendTo(i),e._afterAccesskey&&i.append(document.createTextNode(e._afterAccesskey));else if(e.isHtmlName){if(void 0!==e.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");i.html(e.name)}else i.text(e.name);return i}void 0===i&&(i=e),e.$menu=t('<ul class="context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:i}),t.each(["callbacks","commands","inputs"],function(t,n){e[n]={},i[n]||(i[n]={})}),i.accesskeys||(i.accesskeys={}),t.each(e.items,function(o,s){var a=t('<li class="context-menu-item"></li>').addClass(s.className||""),r=null,c=null;if(a.on("click",t.noop),"string"!=typeof s&&"cm_separator"!==s.type||(s={type:"cm_seperator"}),s.$node=a.data({contextMenu:e,contextMenuRoot:i,contextMenuKey:o}),void 0!==s.accesskey)for(var d,p=function(t){for(var e,i=t.split(/\s+/),n=[],o=0;e=i[o];o++)e=e.charAt(0).toUpperCase(),n.push(e);return n}(s.accesskey),f=0;d=p[f];f++)if(!i.accesskeys[d]){var m=(i.accesskeys[d]=s).name.match(new RegExp("^(.*?)("+d+")(.*)$","i"));m&&(s._beforeAccesskey=m[1],s._accesskey=m[2],s._afterAccesskey=m[3]);break}if(s.type&&l[s.type])l[s.type].call(a,s,e,i),t.each([e,i],function(i,n){n.commands[o]=s,!t.isFunction(s.callback)||void 0!==n.callbacks[o]&&void 0!==e.type||(n.callbacks[o]=s.callback)});else{switch("cm_seperator"===s.type?a.addClass("context-menu-separator "+i.classNames.notSelectable):"html"===s.type?a.addClass("context-menu-html "+i.classNames.notSelectable):"sub"!==s.type&&s.type?(r=t("<label></label>").appendTo(a),n(s).appendTo(r),a.addClass("context-menu-input"),e.hasTypes=!0,t.each([e,i],function(t,e){e.commands[o]=s,e.inputs[o]=s})):s.items&&(s.type="sub"),s.type){case"cm_seperator":break;case"text":c=t('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+o).val(s.value||"").appendTo(r);break;case"textarea":c=t('<textarea name=""></textarea>').attr("name","context-menu-input-"+o).val(s.value||"").appendTo(r),s.height&&c.height(s.height);break;case"checkbox":c=t('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+o).val(s.value||"").prop("checked",!!s.selected).prependTo(r);break;case"radio":c=t('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+s.radio).val(s.value||"").prop("checked",!!s.selected).prependTo(r);break;case"select":c=t('<select name=""></select>').attr("name","context-menu-input-"+o).appendTo(r),s.options&&(t.each(s.options,function(e,i){t("<option></option>").val(e).text(i).appendTo(c)}),c.val(s.selected));break;case"sub":n(s).appendTo(a),s.appendTo=s.$node,a.data("contextMenu",s).addClass("context-menu-submenu"),s.callback=null,"function"==typeof s.items.then?h.processPromises(s,i,s.items):h.create(s,i);break;case"html":t(s.html).appendTo(a);break;default:t.each([e,i],function(i,n){n.commands[o]=s,!t.isFunction(s.callback)||void 0!==n.callbacks[o]&&void 0!==e.type||(n.callbacks[o]=s.callback)}),n(s).appendTo(a)}s.type&&"sub"!==s.type&&"html"!==s.type&&"cm_seperator"!==s.type&&(c.on("focus",u.focusInput).on("blur",u.blurInput),s.events&&c.on(s.events,e)),s.icon&&(t.isFunction(s.icon)?s._icon=s.icon.call(this,this,a,o,s):"string"!=typeof s.icon||"fab "!==s.icon.substring(0,4)&&"fas "!==s.icon.substring(0,4)&&"far "!==s.icon.substring(0,4)&&"fal "!==s.icon.substring(0,4)?"string"==typeof s.icon&&"fa-"===s.icon.substring(0,3)?s._icon=i.classNames.icon+" "+i.classNames.icon+"--fa fa "+s.icon:s._icon=i.classNames.icon+" "+i.classNames.icon+"-"+s.icon:(a.addClass(i.classNames.icon+" "+i.classNames.icon+"--fa5"),s._icon=t('<i class="'+s.icon+'"></i>')),"string"==typeof s._icon?a.addClass(s._icon):a.prepend(s._icon))}s.$input=c,s.$label=r,a.appendTo(e.$menu),!e.hasTypes&&t.support.eventSelectstart&&a.on("selectstart.disableTextSelect",u.abortevent)}),e.$node||e.$menu.css("display","none").addClass("context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(e,i){var n;e.css({position:"absolute",display:"block"}),e.data("width",(n=e.get(0)).getBoundingClientRect?Math.ceil(n.getBoundingClientRect().width):e.outerWidth()+1),e.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),e.find("> li > ul").each(function(){h.resize(t(this),!0)}),i||e.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return t(this).data("width")})},update:function(e,i){var n=this;void 0===i&&(i=e,h.resize(e.$menu));var o=!1;return e.$menu.children().each(function(){var s,a=t(this),r=a.data("contextMenuKey"),l=e.items[r],c=t.isFunction(l.disabled)&&l.disabled.call(n,r,i)||!0===l.disabled;if((s=t.isFunction(l.visible)?l.visible.call(n,r,i):void 0===l.visible||!0===l.visible)&&(o=!0),a[s?"show":"hide"](),a[c?"addClass":"removeClass"](i.classNames.disabled),t.isFunction(l.icon)){a.removeClass(l._icon);var d=l.icon.call(this,n,a,r,l);"string"==typeof d?a.addClass(d):a.prepend(d)}if(l.type)switch(a.find("input, select, textarea").prop("disabled",c),l.type){case"text":case"textarea":l.$input.val(l.value||"");break;case"checkbox":case"radio":l.$input.val(l.value||"").prop("checked",!!l.selected);break;case"select":l.$input.val((0===l.selected?"0":l.selected)||"")}l.$menu&&h.update.call(n,l,i)&&(o=!0)}),o},layer:function(e,i){var n=e.$layer=t('<div id="context-menu-layer"></div>').css({height:o.height(),width:o.width(),display:"block",position:"fixed","z-index":i,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",e).insertBefore(this).on("contextmenu",u.abortevent).on("mousedown",u.layerClick);return void 0===document.body.style.maxWidth&&n.css({position:"absolute",height:t(document).height()}),n},processPromises:function(t,e,i){function n(t,e,i){void 0===i?(i={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof i&&(i={error:{name:i}}),o(t,e,i)}function o(t,e,i){void 0!==e.$menu&&e.$menu.is(":visible")&&(t.$node.removeClass(e.classNames.iconLoadingClass),t.items=i,h.create(t,e,!0),h.update(t,e),e.positionSubmenu.call(t.$node,t.$menu))}t.$node.addClass(e.classNames.iconLoadingClass),i.then(function(t,e,i){void 0===i&&n(void 0),o(t,e,i)}.bind(this,t,e),n.bind(this,t,e))},activated:function(e){var i=e.$menu,n=i.offset(),o=t(window).height(),s=t(window).scrollTop(),a=i.height();o<a?i.css({height:o+"px","overflow-x":"hidden","overflow-y":"auto",top:s+"px"}):(n.top<s||n.top+a>s+o)&&i.css({top:s+"px"})}};function p(e){return e.id&&t('label[for="'+e.id+'"]').val()||e.name}t.fn.contextMenu=function(e){var i=this,n=e;if(0<this.length)if(void 0===e)this.first().trigger("contextmenu");else if(void 0!==e.x&&void 0!==e.y)this.first().trigger(t.Event("contextmenu",{pageX:e.x,pageY:e.y,mouseButton:e.button}));else if("hide"===e){var o=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;o&&o.trigger("contextmenu:hide")}else"destroy"===e?t.contextMenu("destroy",{context:this}):t.isPlainObject(e)?(e.context=this,t.contextMenu("create",e)):e?this.removeClass("context-menu-disabled"):e||this.addClass("context-menu-disabled");else t.each(r,function(){this.selector===i.selector&&(n.data=this,t.extend(n.data,{trigger:"demand"}))}),u.contextmenu.call(n.target,n);return this},t.contextMenu=function(e,i){"string"!=typeof e&&(i=e,e="create"),"string"==typeof i?i={selector:i}:void 0===i&&(i={});var o=t.extend(!0,{},c,i||{}),l=t(document),d=l,p=!1;switch(o.context&&o.context.length?(d=t(o.context).first(),o.context=d.get(0),p=!t(o.context).is(document)):o.context=document,e){case"update":if(p)h.update(d);else for(var f in r)r.hasOwnProperty(f)&&h.update(r[f]);break;case"create":if(!o.selector)throw new Error("No selector specified");if(o.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+o.selector+'" as it contains a reserved className');if(!o.build&&(!o.items||t.isEmptyObject(o.items)))throw new Error("No Items specified");if(s++,o.ns=".contextMenu"+s,p||(a[o.selector]=o.ns),(r[o.ns]=o).trigger||(o.trigger="right"),!n){var m="click"===o.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",g={"contextmenu:focus.contextMenu":u.focusItem,"contextmenu:blur.contextMenu":u.blurItem,"contextmenu.contextMenu":u.abortevent,"mouseenter.contextMenu":u.itemMouseenter,"mouseleave.contextMenu":u.itemMouseleave};g[m]=u.itemClick,l.on({"contextmenu:hide.contextMenu":u.hideMenu,"prevcommand.contextMenu":u.prevItem,"nextcommand.contextMenu":u.nextItem,"contextmenu.contextMenu":u.abortevent,"mouseenter.contextMenu":u.menuMouseenter,"mouseleave.contextMenu":u.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",u.inputClick).on(g,".context-menu-item"),n=!0}switch(d.on("contextmenu"+o.ns,o.selector,o,u.contextmenu),p&&d.on("remove"+o.ns,function(){t(this).contextMenu("destroy")}),o.trigger){case"hover":d.on("mouseenter"+o.ns,o.selector,o,u.mouseenter).on("mouseleave"+o.ns,o.selector,o,u.mouseleave);break;case"left":d.on("click"+o.ns,o.selector,o,u.click);break;case"touchstart":d.on("touchstart"+o.ns,o.selector,o,u.click)}o.build||h.create(o);break;case"destroy":var v;if(p){var b=o.context;t.each(r,function(e,i){if(!i)return!0;if(!t(b).is(i.selector))return!0;(v=t(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(t(i.context).find(i.selector))&&v.trigger("contextmenu:hide",{force:!0});try{r[i.ns].$menu&&r[i.ns].$menu.remove(),delete r[i.ns]}catch(e){r[i.ns]=null}return t(i.context).off(i.ns),!0})}else if(o.selector){if(a[o.selector]){(v=t(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(o.selector)&&v.trigger("contextmenu:hide",{force:!0});try{r[a[o.selector]].$menu&&r[a[o.selector]].$menu.remove(),delete r[a[o.selector]]}catch(e){r[a[o.selector]]=null}l.off(a[o.selector])}}else l.off(".contextMenu .contextMenuAutoHide"),t.each(r,function(e,i){t(i.context).off(i.ns)}),a={},s=0,n=!(r={}),t("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!t.support.htmlCommand&&!t.support.htmlMenuitem||"boolean"==typeof i&&i)&&t('menu[type="context"]').each(function(){this.id&&t.contextMenu({selector:"[contextmenu="+this.id+"]",items:t.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+e+'"')}return this},t.contextMenu.setInputValues=function(e,i){void 0===i&&(i={}),t.each(e.inputs,function(t,e){switch(e.type){case"text":case"textarea":e.value=i[t]||"";break;case"checkbox":e.selected=!!i[t];break;case"radio":e.selected=(i[e.radio]||"")===e.value;break;case"select":e.selected=i[t]||""}})},t.contextMenu.getInputValues=function(e,i){return void 0===i&&(i={}),t.each(e.inputs,function(t,e){switch(e.type){case"text":case"textarea":case"select":i[t]=e.$input.val();break;case"checkbox":i[t]=e.$input.prop("checked");break;case"radio":e.$input.prop("checked")&&(i[e.radio]=e.value)}}),i},t.contextMenu.fromMenu=function(e){var i={};return function e(i,n,o){return o||(o=0),n.each(function(){var n,s,a=t(this),r=this,l=this.nodeName.toLowerCase();switch("label"===l&&a.find("input, textarea, select").length&&(n=a.text(),l=(r=(a=a.children().first()).get(0)).nodeName.toLowerCase()),l){case"menu":s={name:a.attr("label"),items:{}},o=e(s.items,a.children(),o);break;case"a":case"button":s={name:a.text(),disabled:!!a.attr("disabled"),callback:function(){a.get(0).click()}};break;case"menuitem":case"command":switch(a.attr("type")){case void 0:case"command":case"menuitem":s={name:a.attr("label"),disabled:!!a.attr("disabled"),icon:a.attr("icon"),callback:function(){a.get(0).click()}};break;case"checkbox":s={type:"checkbox",disabled:!!a.attr("disabled"),name:a.attr("label"),selected:!!a.attr("checked")};break;case"radio":s={type:"radio",disabled:!!a.attr("disabled"),name:a.attr("label"),radio:a.attr("radiogroup"),value:a.attr("id"),selected:!!a.attr("checked")};break;default:s=void 0}break;case"hr":s="-------";break;case"input":switch(a.attr("type")){case"text":s={type:"text",name:n||p(r),disabled:!!a.attr("disabled"),value:a.val()};break;case"checkbox":s={type:"checkbox",name:n||p(r),disabled:!!a.attr("disabled"),selected:!!a.attr("checked")};break;case"radio":s={type:"radio",name:n||p(r),disabled:!!a.attr("disabled"),radio:!!a.attr("name"),value:a.val(),selected:!!a.attr("checked")};break;default:s=void 0}break;case"select":s={type:"select",name:n||p(r),disabled:!!a.attr("disabled"),selected:a.val(),options:{}},a.children().each(function(){s.options[this.value]=t(this).text()});break;case"textarea":s={type:"textarea",name:n||p(r),disabled:!!a.attr("disabled"),value:a.val()};break;case"label":break;default:s={type:"html",html:a.clone(!0)}}s&&(i["key"+ ++o]=s)}),o}(i,t(e).children()),i},t.contextMenu.defaults=c,t.contextMenu.types=l,t.contextMenu.handle=u,t.contextMenu.op=h,t.contextMenu.menus=r});